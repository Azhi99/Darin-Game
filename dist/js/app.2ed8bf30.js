(function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&m.push(n[r][0]),n[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,c||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],i=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var i={},n={app:0},a=[];function r(e){return o.p+"js/"+({}[e]||e)+"."+{"chunk-1aae924c":"50b9fec2","chunk-2d216214":"b52270e3","chunk-2d216257":"d8c9bc89"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var s=i[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(e){var t=[],s=n[e];if(0!==s)if(s)t.push(s[2]);else{var i=new Promise((function(t,i){s=n[e]=[t,i]}));t.push(s[2]=i);var a,l=document.createElement("script");l.charset="utf-8",l.timeout=120,o.nc&&l.setAttribute("nonce",o.nc),l.src=r(e);var c=new Error;a=function(t){l.onerror=l.onload=null,clearTimeout(u);var s=n[e];if(0!==s){if(s){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+a+")",c.name="ChunkLoadError",c.type=i,c.request=a,s[1](c)}n[e]=void 0}};var u=setTimeout((function(){a({type:"timeout",target:l})}),12e4);l.onerror=l.onload=a,document.head.appendChild(l)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(s,i,function(t){return e[t]}.bind(null,i));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";s("85ec")},"06f8":function(e,t,s){"use strict";s("b445")},"0f81":function(e,t,s){e.exports=s.p+"img/5_IQD.017fc467.jpg"},"2aa5":function(e,t,s){"use strict";s("7546")},"328f":function(e,t,s){e.exports=s.p+"img/1000_IQD.d7437a74.png"},"4ab6":function(e,t,s){e.exports=s.p+"img/logo darin.60954348.png"},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-app",[s("v-main",{class:{"mx-auto my-15":"login"==e.$route.name},style:{"background-color":e.$vuetify.theme.dark?"#202020 !important":""}},[e.getPageTitle?s("navbar",{attrs:{pageTitle:e.getPageTitle}}):e._e(),s("transition",{attrs:{name:"scale",mode:"out-in"}},[s("router-view")],1)],1)],1)},a=[],r=(s("b0c0"),{name:"App",data:function(){return{}},computed:{getPageTitle:function(){return{home:"پەڕەی سەرەکی",items:"کاڵاکان",roles:"ڕۆڵەکان",expenses:"خەرجیەکان",suppliers:"کۆمپانیاکان",customers:"کڕیارەکان",purchases:"کڕینەکان",users:"بەکارهێنەرەکان",disposals:"تەلەفەکان",invoice:"فرۆشتن",stock:"مەخزەن",stockReport:"زانیاری مەخزەن",saleReport:"زانیاری فرۆشتن",purchaseReport:"زانیاری کڕین",moneyMovement:"جوڵەی پارە",customerDebts:"قەرزی کڕیارەکان",supplierDebts:"قەرزی کۆمپانیاکان",profitReport:"زانیاری قازانج",expenseReport:"زانیاری خەرجی",moneyInStock:"زانیاری پارەی ماوە",supplierDebtReport:"ڕاپۆرتی قەرزی کۆمپانیا + (قەرزی هاوبەشەکان)",customerDebtReport:"ڕاپۆرتی قەرزی کڕیارەکان + (قەرزی هاوبەشەکان)",ownerSaleReport:"فرۆشراوی خاوەندارێتی"}[this.$route.name]}}}),o=r,l=(s("034f"),s("2877")),c=s("6544"),u=s.n(c),d=s("7496"),m=s("f6c4"),p=Object(l["a"])(o,n,a,!1,null,null,null),v=p.exports;u()(p,{VApp:d["a"],VMain:m["a"]});var h=s("9483");Object(h["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var f=s("1da1"),g=(s("96cf"),s("caad"),s("2532"),s("8c4f")),b=s("bc3a"),x=s.n(b),y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"primary",icon:"mdi-dots-grid",text:"کاڵاکان",data:e.numberOfItems.toLocaleString(),to:"/items"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"orange",icon:"mdi-alert-minus-outline",text:"کاڵا کەمبووەکان",data:e.lackInStockItems.length.toLocaleString()}},[s("v-dialog",{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"orange lighten-1 white--text"}},"v-btn",n,!1),i),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.decreasedItems,callback:function(t){e.$set(e.dialogs,"decreasedItems",t)},expression:"dialogs.decreasedItems"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" کاڵا کەمبووەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.decreasedItems=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",[s("v-data-table",{attrs:{headers:e.decreasedItemsHeader,items:e.lackInStockItems,"footer-props":{"items-per-page-options":[10,15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{label:"",color:i.totalInStock>10?"primary":i.totalInStock<10&&i.totalInStock>5?"warning":"error"}},[e._v(" "+e._s(i.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"success",icon:"mdi-account-group-outline",text:"بەکارهێنەرەکان",data:e.numberOfUsers.toLocaleString(),to:"/users"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"orange",icon:"mdi-bank-transfer-out",text:"خەرجی ئەمڕۆ",data:e.totalExpense.toLocaleString()+" IQD",to:"/expenses"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"success",icon:"fa fa-hand-holding-usd",text:"فرۆشتنی ئەمڕۆ",data:e.getTotalSoldToday.toLocaleString()+" $"}},[s("v-dialog",{attrs:{persistent:"",width:"75%"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success lighten-1 white--text"}},"v-btn",n,!1),i),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todaySold,callback:function(t){e.$set(e.dialogs,"todaySold",t)},expression:"dialogs.todaySold"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" فرۆشتنی ئەمڕۆ ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todaySold=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("v-data-table",{attrs:{headers:e.todaySoldHeader,items:e.todaySold,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",{class:{"yellow lighten-3":"d"==i.invoiceType,"green lighten-4":"c"==i.invoiceType}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.invoiceID)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getInvoiceDetail(i.invoiceID)}}},[s("v-icon",[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("card",{attrs:{color:"primary",icon:"mdi-cart-plus",text:"کڕینی ئەمڕۆ",data:e.getTotalPurchaseToday.toLocaleString()+" $"}},[s("v-dialog",{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary lighten-1 white--text"}},"v-btn",n,!1),i),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todayPurchase,callback:function(t){e.$set(e.dialogs,"todayPurchase",t)},expression:"dialogs.todayPurchase"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" کڕینی ئەمڕۆ ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todayPurchase=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",[s("v-data-table",{attrs:{headers:e.todayPurchaseHeader,items:e.todayPurchase,"footer-props":{"items-per-page-options":[10,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.referenceNo)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.amountPay.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(i.paymentType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(i.PurchaseStatus))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.user)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(t){return e.getPurchaseDetail(i.purchaseID,i.referenceNo)}}},[s("v-icon",[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1)],1)],1),s("v-divider",{staticClass:"my-4"}),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCategory"),expression:"emitter.$emit('closeCategory')"}],attrs:{inset:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}]),model:{value:e.sheets.category,callback:function(t){e.$set(e.sheets,"category",t)},expression:"sheets.category"}},[s("v-sheet",{staticClass:"px-3"},[s("formCategory")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}],null,!1,2045869111),model:{value:e.dialogs.category,callback:function(t){e.$set(e.dialogs,"category",t)},expression:"dialogs.category"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" جۆرەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCategory"),e.dialogs.category=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCategory")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeBrand"),expression:"emitter.$emit('closeBrand')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}]),model:{value:e.sheets.brand,callback:function(t){e.$set(e.sheets,"brand",t)},expression:"sheets.brand"}},[s("v-sheet",{staticClass:"px-3"},[s("formBrand")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}],null,!1,3873983502),model:{value:e.dialogs.brand,callback:function(t){e.$set(e.dialogs,"brand",t)},expression:"dialogs.brand"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" براندەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeBrand"),e.dialogs.brand=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formBrand")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeShelf"),expression:"emitter.$emit('closeShelf')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-bookshelf ")]),e._v(" خاوەندارێتیەکان ")],1)]}}]),model:{value:e.sheets.shelf,callback:function(t){e.$set(e.sheets,"shelf",t)},expression:"sheets.shelf"}},[s("v-sheet",{staticClass:"px-3"},[s("formShelf")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-account-tie ")]),e._v(" خاوەندارێتیەکان ")],1)]}}],null,!1,1467658905),model:{value:e.dialogs.shelf,callback:function(t){e.$set(e.dialogs,"shelf",t)},expression:"dialogs.shelf"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" خاوەندارێتیەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeShelf"),e.dialogs.shelf=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formShelf")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUnit"),expression:"emitter.$emit('closeUnit')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}]),model:{value:e.sheets.unit,callback:function(t){e.$set(e.sheets,"unit",t)},expression:"sheets.unit"}},[s("v-sheet",{staticClass:"px-3"},[s("formUnit")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}],null,!1,4058360020),model:{value:e.dialogs.unit,callback:function(t){e.$set(e.dialogs,"unit",t)},expression:"dialogs.unit"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" مەخزەنەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUnit"),e.dialogs.unit=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formUnit")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mb-2 mt-2"}),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("v-card",{staticClass:"px-5 py-3",attrs:{color:"blue-grey lighten-4"}},[s("v-form",{ref:"formDollar",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{staticClass:"my-0",attrs:{type:"number",label:"نرخی 1 دۆلار",outlined:"",dense:"",rules:e.rules.dollarRule,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateDollar()}},model:{value:e.dollarPrice,callback:function(t){e.dollarPrice=e._n(t)},expression:"dollarPrice"}}),s("v-btn",{attrs:{block:"",loading:e.loadings.updateDollar},on:{click:function(t){return e.updateDollar()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1)],1)],1),s("v-divider",{staticClass:"mb-2 mt-2"}),s("v-dialog",{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("v-data-table",{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((i.productPrice*i.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-dialog",{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.qty.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costAfterDisc.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((i.costAfterDisc*i.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("notification")],1)},D=[],I=(s("a9e3"),s("d3b7"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-alert",{staticClass:"my-0 px-1",attrs:{elevation:"1",outlined:"",text:"",color:e.color}},[s("v-row",[s("v-col",{attrs:{cols:"4"}},[s("v-icon",{staticClass:"px-3",attrs:{"x-large":"",color:e.color}},[e._v(" "+e._s(e.icon)+" ")])],1),s("v-col",{attrs:{cols:"8"}},[e._v(" "+e._s(e.text)+" "),s("hr"),e._v(" "+e._s(e.data)+" ")]),s("v-col",{staticClass:"px-5"},[e.to?s("v-btn",{attrs:{block:"",to:e.to,color:e.color+" lighten-1 white--text"}},[e._v(" بینین ")]):e._e(),e._t("default")],2)],1)],1)}),_=[],k={props:["color","icon","text","data","to"]},C=k,S=s("0798"),$=s("8336"),N=s("62ad"),w=s("132d"),P=s("0fd9"),V=Object(l["a"])(C,I,_,!1,null,null,null),T=V.exports;u()(V,{VAlert:S["a"],VBtn:$["a"],VCol:N["a"],VIcon:w["a"],VRow:P["a"]});var R=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formCategory",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"جـۆر",outlined:"",dense:"",rules:e.rules.categoryName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addCategory()}},model:{value:e.singleCategory.categoryName,callback:function(t){e.$set(e.singleCategory,"categoryName","string"===typeof t?t.trim():t)},expression:"singleCategory.categoryName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addCategory,disabled:!e.singleCategory.categoryName},on:{click:function(t){return e.addCategory()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearCategory()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" جۆر ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.categories,(function(t,i){return s("tr",{key:t.categoryID},[s("td",[e._v(" "+e._s(6*(e.page-1)+(i+1))+" ")]),t.categoryID!=e.singleCategory.categoryID?s("td",[e._v(" "+e._s(t.categoryName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateCategory(t.categoryID,i)}},model:{value:e.categories[i].categoryName,callback:function(t){e.$set(e.categories[i],"categoryName","string"===typeof t?t.trim():t)},expression:"categories[index].categoryName"}})],1),s("td",[t.categoryID!=e.singleCategory.categoryID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleCategory.categoryID=t.categoryID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.categories[i].categoryName,loading:e.loadings.updateCategory},on:{click:function(s){return e.updateCategory(t.categoryID,i)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfCategories/6),"total-visible":"5",color:"primary"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},E=[],O={data:function(){return{page:1,loadings:{addCategory:!1,updateCategory:!1},categories:[],singleCategory:{categoryID:null,categoryName:null},rules:{categoryName:[function(e){return null!=e&&e.length>0||"تکایە جۆرەکە داخڵ بکە"}]},numberOfCategories:0}},created:function(){var e=this;this.getCategories(),this.$http.get("/essential/numberOfCategories").then((function(t){var s=t.data;e.numberOfCategories=s.numberOfCategories}))},mounted:function(){var e=this;this.emitter.$on("closeCategory",(function(){e.clearCategory()}))},methods:{getCategories:function(){var e=this;this.$http.get("/essential/getLimitedCategories/"+6*(this.page-1)).then((function(t){var s=t.data;e.categories=s}))},addCategory:function(){var e=this;this.$refs.formCategory.validate()&&(this.loadings.addCategory=!0,this.$http.post("/essential/addCategory",{categoryName:this.singleCategory.categoryName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==e.page&&(e.categories.unshift({categoryID:s.categoryID,categoryName:e.singleCategory.categoryName}),e.categories.length>6&&e.categories.pop()),++e.numberOfCategories,e.clearCategory()})).finally((function(){e.loadings.addCategory=!1})))},updateCategory:function(e,t){var s=this,i=this.categories[t].categoryName;i?(this.loadings.updateCategory=!0,this.$http.patch("/essential/updateCategory/"+e,{categoryName:i}).then((function(){s.singleCategory.categoryID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateCategory=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆرەکە داخڵ بکە"}),console.log(e),console.log(t)},clearCategory:function(){this.singleCategory.categoryID=null,this.singleCategory.categoryName=null,this.$refs.formCategory.resetValidation()}},watch:{page:function(){this.getCategories()}},beforeDestroy:function(){this.emitter.$off("closeCategory")}},U=O,B=s("4bd4"),L=s("891e"),A=s("1f4f"),F=s("8654"),j=Object(l["a"])(U,R,E,!1,null,null,null),q=j.exports;u()(j,{VBtn:$["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VPagination:L["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var Q=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formBrand",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"براند",outlined:"",dense:"",rules:e.rules.brandName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addBrand()}},model:{value:e.singleBrand.brandName,callback:function(t){e.$set(e.singleBrand,"brandName","string"===typeof t?t.trim():t)},expression:"singleBrand.brandName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",disabled:!e.singleBrand.brandName,loading:e.loadings.addBrand},on:{click:function(t){return e.addBrand()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearBrand()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" براند ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.brands,(function(t,i){return s("tr",{key:t.brandID},[s("td",[e._v(" "+e._s(6*(e.page-1)+(i+1))+" ")]),t.brandID!=e.singleBrand.brandID?s("td",[e._v(" "+e._s(t.brandName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateBrand(t.brandID,i)}},model:{value:e.brands[i].brandName,callback:function(t){e.$set(e.brands[i],"brandName","string"===typeof t?t.trim():t)},expression:"brands[index].brandName"}})],1),s("td",[t.brandID!=e.singleBrand.brandID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleBrand.brandID=t.brandID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.brands[i].brandName,loading:e.loadings.updateBrand},on:{click:function(s){return e.updateBrand(t.brandID,i)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfBrands/6),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},M=[],W={data:function(){return{page:1,loadings:{addBrand:!1,updateBrand:!1},brands:[],singleBrand:{brandID:null,brandName:null},rules:{brandName:[function(e){return null!=e&&e.length>0||"تکایە براند داخڵ بکە"}]},numberOfBrands:0}},created:function(){var e=this;this.getBrands(),this.$http.get("/essential/numberOfBrands").then((function(t){var s=t.data;e.numberOfBrands=s.numberOfBrands}))},mounted:function(){var e=this;this.emitter.$on("closeBrand",(function(){e.clearBrand()}))},methods:{getBrands:function(){var e=this;this.$http.get("/essential/getLimitedBrands/"+6*(this.page-1)).then((function(t){var s=t.data;e.brands=s}))},addBrand:function(){var e=this;this.$refs.formBrand.validate()&&(this.loadings.addBrand=!0,this.$http.post("/essential/addBrand",{brandName:this.singleBrand.brandName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==e.page&&(e.brands.unshift({brandID:s.brandID,brandName:e.singleBrand.brandName}),e.brands.length>6&&e.brands.pop()),++e.numberOfBrands,e.clearBrand()})).finally((function(){e.loadings.addBrand=!1})))},updateBrand:function(e,t){var s=this,i=this.brands[t].brandName;i?(this.loadings.updateBrand=!0,this.$http.patch("/essential/updateBrand/"+e,{brandName:i}).then((function(){s.singleBrand.brandID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateBrand=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە براندەکە داخڵ بکە"})},clearBrand:function(){this.singleBrand.brandID=null,this.singleBrand.brandName=null,this.$refs.formBrand.resetValidation()}},watch:{page:function(){this.getBrands()}},beforeDestroy:function(){this.emitter.$off("closeBrand")}},H=W,z=Object(l["a"])(H,Q,M,!1,null,null,null),K=z.exports;u()(z,{VBtn:$["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VPagination:L["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formShelf",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"نــاو",outlined:"",dense:"",rules:e.rules.shelfName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addShelf()}},model:{value:e.singleShelf.shelfName,callback:function(t){e.$set(e.singleShelf,"shelfName","string"===typeof t?t.trim():t)},expression:"singleShelf.shelfName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addShelf,disabled:!e.singleShelf.shelfName},on:{click:function(t){return e.addShelf()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearShelf()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" نــاو ")]),s("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.shelfs,(function(t,i){return s("tr",{key:t.shelfID},[s("td",[e._v(" "+e._s(i+1)+" ")]),t.shelfID!=e.singleShelf.shelfID?s("td",[e._v(" "+e._s(t.shelfName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateShelf(t.shelfID,i)}},model:{value:e.shelfs[i].shelfName,callback:function(t){e.$set(e.shelfs[i],"shelfName","string"===typeof t?t.trim():t)},expression:"shelfs[index].shelfName"}})],1),s("td",[t.shelfID!=e.singleShelf.shelfID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleShelf.shelfID=t.shelfID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success"},on:{click:function(s){return e.updateShelf(t.shelfID,i)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},J=[],X={data:function(){return{loadings:{addShelf:!1,updateShelf:!1},shelfs:[],singleShelf:{shelfID:null,shelfName:null},rules:{shelfName:[function(e){return null!=e&&e.length>0||"تکایە ڕەفە داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s}))},mounted:function(){var e=this;this.emitter.$on("closeShelf",(function(){e.clearShelf()}))},methods:{addShelf:function(){var e=this;this.$refs.formShelf.validate()&&(this.loadings.addShelf=!0,this.$http.post("/essential/addShelf",{shelfName:this.singleShelf.shelfName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.shelfs.unshift({shelfID:s.shelfID,shelfName:e.singleShelf.shelfName}),e.clearShelf()})).finally((function(){e.loadings.addShelf=!1})))},updateShelf:function(e,t){var s=this,i=this.shelfs[t].shelfName;i?(this.loadings.updateShelf=!0,this.$http.patch("/essential/updateShelf/"+e,{shelfName:i}).then((function(){s.singleShelf.shelfID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateShelf=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە ڕەفەکە داخڵ بکە"})},clearShelf:function(){this.singleShelf.shelfID=null,this.singleShelf.shelfName=null,this.$refs.formShelf.resetValidation()}},beforeDestroy:function(){this.emitter.$off("closeShelf")}},Y=X,Z=Object(l["a"])(Y,G,J,!1,null,null,null),ee=Z.exports;u()(Z,{VBtn:$["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var te=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formUnit",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"مەخزەن",outlined:"",dense:"",rules:e.rules.unitName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addUnit()}},model:{value:e.singleUnit.unitName,callback:function(t){e.$set(e.singleUnit,"unitName","string"===typeof t?t.trim():t)},expression:"singleUnit.unitName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addUnit,disabled:!e.singleUnit.unitName},on:{click:function(t){return e.addUnit()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearUnit()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),s("th",{staticClass:"text-center",staticStyle:{}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.units,(function(t,i){return s("tr",{key:t.unitID},[s("td",[e._v(" "+e._s(i+1)+" ")]),t.unitID!=e.singleUnit.unitID?s("td",[e._v(" "+e._s(t.unitName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateUnit(t.unitID,i)}},model:{value:e.units[i].unitName,callback:function(t){e.$set(e.units[i],"unitName","string"===typeof t?t.trim():t)},expression:"units[index].unitName"}})],1),s("td",[t.unitID!=e.singleUnit.unitID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleUnit.unitID=t.unitID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",loading:e.loadings.updateUnit},on:{click:function(s){return e.updateUnit(t.unitID,i)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},se=[],ie={data:function(){return{loadings:{addUnit:!1,updateUnit:!1},units:[],singleUnit:{unitID:null,unitName:null,shortName:null},rules:{unitName:[function(e){return null!=e&&e.length>0||"تکایە یەکە داخڵ بکە"}],shortName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کورتکراوەی یەکە داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.units=s}))},mounted:function(){var e=this;this.emitter.$on("closeUnit",(function(){e.clearUnit()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addUnit:function(){var e=this;this.$refs.formUnit.validate()&&(this.loadings.addUnit=!0,this.$http.post("/essential/addUnit",{unitName:this.singleUnit.unitName,shortName:this.singleUnit.shortName}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.units.unshift({unitID:s.unitID,unitName:e.singleUnit.unitName,shortName:e.singleUnit.shortName}),e.clearUnit()})).finally((function(){e.loadings.addUnit=!1})))},updateUnit:function(e,t){var s=this,i=this.units[t].unitName;i?(this.loadings.updateUnit=!0,this.$http.patch("/essential/updateUnit/"+e,{unitName:i,shortName:null}).then((function(){s.singleUnit.unitID=null,s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){s.loadings.updateUnit=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە مەخزەن داخڵ بکە"})},clearUnit:function(){this.singleUnit.unitID=null,this.singleUnit.unitName=null,this.singleUnit.shortName=null,this.$refs.formUnit.resetValidation()}},beforeDestroy:function(){this.emitter.$off("closeUnit")}},ne=ie,ae=Object(l["a"])(ne,te,se,!1,null,null,null),re=ae.exports;u()(ae,{VBtn:$["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var oe=function(e){return{s:"فرۆشتن",rs:"گەڕاندنەوەی فرۆشراو",p:"کڕین",rp:"گەڕاندنەوەی کڕدراو",d:"تەلەف",c:"کاش"}[e]},le=function(e){return{c:"کاش",d:"قەرز"}[e]},ce=function(e){return{recived:"وەرگیراو",ordered:"کڕدراو",pending:"لە چاوەڕوانیدایە"}[e]},ue={name:"Index",components:{card:T,formCategory:q,formBrand:K,formShelf:ee,formUnit:re},data:function(){return{dialogs:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1,decreasedItems:!1,expiredItems:!1,expiredItems15:!1,todayExpenses:!1,todaySold:!1,todayPurchase:!1,purchaseDetail:!1,invoiceDetail:!1},sheets:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1},loadings:{invoiceDetail:!1,purchaseDetail:!1,updateDollar:!1},pages:{decreasedItems:1,expiredItems:1,expiredItems15:1},numberOfItems:0,numberOfUsers:0,todaySold:[],totalExpense:0,invoiceDetail:{invoiceID:null,items:[]},todayPurchase:[],purchaseDetail:{referenceNo:null,items:[]},lackInStockItems:[],dollarPrice:0,rules:{dollarRule:[function(e){return Number(e)>=0||"نرخی دۆلار ئەبێت لە 0 گەورەتر بێت"}]}}},created:function(){var e=this;this.$http.get("/item/countAllItems").then((function(t){var s=t.data;e.numberOfItems=s.numberOfItems})),this.$http.get("/user/countAllUsers").then((function(t){var s=t.data;e.numberOfUsers=s.numberOfUsers})),this.$http.get("/invoice/todaySold").then((function(t){var s=t.data;e.todaySold=s})),this.$http.get("/expense/todayTotalExpense").then((function(t){var s=t.data;e.totalExpense=s.total})),this.$http.get("/item/lackInStock").then((function(t){var s=t.data;e.lackInStockItems=s})),this.$http.get("/generalReport/getTodayPurchases").then((function(t){var s=t.data;e.todayPurchase=s})),this.$http.get("/essential/getDollarPrice").then((function(t){var s=t.data;e.$store.commit("updateDollar",s.dollarPrice),e.dollarPrice=s.dollarPrice}))},methods:{getInvoiceDetail:function(e){var t=this;this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then((function(s){var i=s.data;t.invoiceDetail.invoiceID=e,t.invoiceDetail.items=i.invoiceItems})).catch((function(e){t.emitter.$emit("notify",{type:"error",text:e.response.data.message})})).finally((function(){return t.loadings.invoiceDetail=!1}))},getPurchaseDetail:function(e,t){var s=this;this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then((function(e){var i=e.data;s.purchaseDetail.referenceNo=t,s.purchaseDetail.items=i})).finally((function(){return s.loadings.purchaseDetail=!1}))},updateDollar:function(){var e=this;this.$refs.formDollar.validate()&&(this.loadings.updateDollar=!0,this.$http.patch("/essential/updateDollar",{dollarPrice:this.dollarPrice}).then((function(){e.$store.commit("updateDollar",e.dollarPrice),e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})).finally((function(){return e.loadings.updateDollar=!1})))}},computed:{decreasedItemsHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",align:"center",value:"itemCode",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی ماوە لە مەخزەن",align:"center",value:"totalInStock",sortable:!0}]},todaySoldHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"کڕیار",align:"center",value:"customerName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"وردەکاری",align:"center",sortable:!1}]},invoiceDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},todayPurchaseHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},purchaseDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},getTotalSoldToday:function(){return this.todaySold.reduce((function(e,t){return e+t.totalPrice}),0)},getTotalPurchaseToday:function(){return this.todayPurchase.reduce((function(e,t){return e+t.totalPrice}),0)}},filters:{invoiceType:le,purchaseStatus:ce}},de=ue,me=s("288c"),pe=s("b0af"),ve=s("99d9"),he=s("cc20"),fe=s("a523"),ge=s("8fea"),be=s("169a"),xe=s("ce7e"),ye=s("8dd9"),De=s("2fa4"),Ie=s("269a"),_e=s.n(Ie),ke=s("a293"),Ce=Object(l["a"])(de,y,D,!1,null,null,null),Se=Ce.exports;u()(Ce,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VChip:he["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VForm:B["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(Ce,{ClickOutside:ke["a"]});var $e=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-dialog",{attrs:{persistent:"",eager:"",width:"95%"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-alert",e._g(e._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",n,!1),i),[s("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کاڵا ")],1)]}}]),model:{value:e.dialogs.item,callback:function(t){e.$set(e.dialogs,"item",t)},expression:"dialogs.item"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کاڵا ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeItem"),e.dialogs.item=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("formItem")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.items,search:e.search,loading:e.loadings.table,"footer-props":{"items-per-page-options":[10,15,20,25,30]},"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.categoryName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.shelfName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemPriceRetail.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getItem(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteItem(i.itemID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},Ne=[],we=(s("c740"),s("a434"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formItem",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"باڕکۆد",outlined:"",dense:"",id:"item-code",rules:e.rules.itemCode,"validate-on-blur":""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.setFocus("item-name"),e.searchItemByCode()}},model:{value:e.singleItem.itemCode,callback:function(t){e.$set(e.singleItem,"itemCode","string"===typeof t?t.trim():t)},expression:"singleItem.itemCode"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"ناوی کاڵا",outlined:"",dense:"",id:"item-name",rules:e.rules.itemName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("category")}},model:{value:e.singleItem.itemName,callback:function(t){e.$set(e.singleItem,"itemName","string"===typeof t?t.trim():t)},expression:"singleItem.itemName"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",clearable:"",items:e.categories,"item-value":"categoryID","item-text":"categoryName",id:"category"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("brand")}},model:{value:e.singleItem.categoryID,callback:function(t){e.$set(e.singleItem,"categoryID",t)},expression:"singleItem.categoryID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"براند",outlined:"",dense:"",clearable:"",items:e.brands,"item-value":"brandID","item-text":"brandName",id:"brand"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("shelf")}},model:{value:e.singleItem.brandID,callback:function(t){e.$set(e.singleItem,"brandID",t)},expression:"singleItem.brandID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",clearable:"",items:e.shelfs,"item-value":"shelfID","item-text":"shelfName",id:"shelf",rules:e.rules.shelf,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("unit")}},model:{value:e.singleItem.shelfID,callback:function(t){e.$set(e.singleItem,"shelfID",t)},expression:"singleItem.shelfID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-select",{attrs:{label:"مەخزەن",outlined:"",dense:"",clearable:"",items:e.units,"item-value":"unitID","item-text":"unitName",id:"unit",rules:e.rules.unit,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("perUnit")}},model:{value:e.singleItem.unitID,callback:function(t){e.$set(e.singleItem,"unitID",t)},expression:"singleItem.unitID"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی کڕین",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"cost-price",rules:e.rules.costPrice,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-retail")}},model:{value:e.singleItem.costPrice,callback:function(t){e.$set(e.singleItem,"costPrice",e._n(t))},expression:"singleItem.costPrice"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی فرۆشتنی تاک",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-retail",rules:e.rules.itemPriceRetail,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-whole")}},model:{value:e.singleItem.itemPriceRetail,callback:function(t){e.$set(e.singleItem,"itemPriceRetail",e._n(t))},expression:"singleItem.itemPriceRetail"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"نرخی فرۆشتنی کۆ",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-whole",rules:e.rules.itemPriceWhole,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("stock-alert")}},model:{value:e.singleItem.itemPriceWhole,callback:function(t){e.$set(e.singleItem,"itemPriceWhole",e._n(t))},expression:"singleItem.itemPriceWhole"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-text-field",{attrs:{label:"ئاگادارکردنەوە لە کەمبوون (دانە)",outlined:"",dense:"",type:"number",min:"1",id:"stock-alert",rules:e.rules.stockAlert,"validate-on-blur":""},model:{value:e.singleItem.stockAlert,callback:function(t){e.$set(e.singleItem,"stockAlert",e._n(t))},expression:"singleItem.stockAlert"}})],1)],1),s("v-row",[s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-checkbox",{attrs:{label:"دەرکەوتن لە جەرد",color:"primary"},model:{value:e.singleItem.hideInStock,callback:function(t){e.$set(e.singleItem,"hideInStock",t)},expression:"singleItem.hideInStock"}})],1),s("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[s("v-checkbox",{attrs:{label:"دەرکەوتن بە دوگمە",color:"primary"},model:{value:e.singleItem.showButton,callback:function(t){e.$set(e.singleItem,"showButton",t)},expression:"singleItem.showButton"}})],1)],1),s("v-row",{staticClass:"px-3"},[s("v-textarea",{attrs:{label:"تـێبـینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleItem.note,callback:function(t){e.$set(e.singleItem,"note","string"===typeof t?t.trim():t)},expression:"singleItem.note"}})],1),s("v-row",{staticClass:"my-0 px-3"},[e.singleItem.itemID?s("v-btn",{attrs:{color:"warning",block:"",loading:e.loadings.updateItem},on:{click:function(t){return e.updateItem()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:"",loading:e.loadings.addItem},on:{click:function(t){return e.addItem()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"4"}},[s("input",{attrs:{type:"file"},on:{change:e.processFile}}),s("v-divider",{staticClass:"mt-2"}),e.singleItem.imagePath?s("v-img",{attrs:{src:"/item/image/"+e.singleItem.imagePath}}):e._e(),e.singleItem.itemID?s("v-btn",{staticClass:"mt-2",attrs:{color:"primary",block:"",disabled:!e.singleItem.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وێنە ")],1):e._e(),e.singleItem.imagePath?s("v-btn",{staticClass:"mt-2",attrs:{color:"error",block:"",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e(),s("v-btn",{staticClass:"mt-2",attrs:{color:"info",block:""},on:{click:function(t){return e.clearItem()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-broom ")]),e._v(" پاکردنەوە ")],1)],1)],1)],1)],1)}),Pe=[],Ve=(s("25f0"),s("7db0"),{data:function(){return{loadings:{addItem:!1,updateItem:!1,updateImage:!1,deleteImage:!1},categories:[],brands:[],shelfs:[],units:[],singleItem:{itemID:null,itemCode:null,itemName:null,categoryID:null,brandID:null,shelfID:null,unitID:null,perUnit:1,costPrice:0,itemPriceRetail:0,itemPriceWhole:0,stockAlert:0,imagePath:null,imageFile:null,hideInStock:!1,showButton:!1,note:null},userID:null,rules:{itemCode:[function(e){return null!=e&&e.length>0||"تکایە باڕکۆد داخڵ بکە"}],itemName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کاڵا داخڵ بکە"}],unit:[function(e){return null!=e&&Number(e)>0||"تکایە مەخزەن هەڵبژێرە"}],shelf:[function(e){return null!=e&&Number(e)>0||"تکایە خاوەندارێتی هەڵبژێرە"}],perUnit:[function(e){return null!=e&&Number(e)>0||"تکایە عەدەد بۆ هەر یەکەیەک بە دروستی داخڵ بکە"}],costPrice:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی کڕین بەدروستی داخڵ بکە"}],itemPriceRetail:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی تاک بەدروستی داخڵ بکە"}],itemPriceWhole:[function(e){return null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی کۆ بەدروستی داخڵ بکە"}],stockAlert:[function(e){return null!=e&&Number(e)>=0||"تکایە ئاگادارکردنەوە لە کەمبوون بە دروستی داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),this.$http.get("/essential/getBrands").then((function(t){var s=t.data;e.brands=s})),this.$http.get("/essential/getShelfs").then((function(t){var s=t.data;e.shelfs=s})),this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.units=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openItem",(function(t){e.singleItem.itemID=t.itemID,e.singleItem.itemCode=t.itemCode,e.singleItem.itemName=t.itemName,e.singleItem.categoryID=t.categoryID,e.singleItem.brandID=t.brandID,e.singleItem.shelfID=t.shelfID,e.singleItem.unitID=t.unitID,e.singleItem.perUnit=t.perUnit,e.singleItem.costPrice=t.costPrice,e.singleItem.itemPriceRetail=t.itemPriceRetail,e.singleItem.itemPriceWhole=t.itemPriceWhole,e.singleItem.stockAlert=t.stockAlert,e.singleItem.imagePath=t.image,e.singleItem.hideInStock=Boolean(Number(t.hideInStock)),e.singleItem.showButton=Boolean(Number(t.showButton)),e.singleItem.note=t.note})),this.emitter.$on("closeItem",(function(){e.clearItem()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},processFile:function(e){this.singleItem.imageFile=e.target.files[0]},clearItem:function(){this.singleItem.itemID=null,this.singleItem.itemCode=null,this.singleItem.itemName=null,this.singleItem.categoryID=null,this.singleItem.brandID=null,this.singleItem.shelfID=null,this.singleItem.unitID=null,this.singleItem.perUnit=1,this.singleItem.costPrice=0,this.singleItem.itemPriceRetail=0,this.singleItem.itemPriceWhole=0,this.singleItem.stockAlert=0,this.singleItem.imagePath=null,this.singleItem.imageFile=null,this.singleItem.hideInStock=!1,this.singleItem.showButton=!1,this.singleItem.note=null,this.$refs.formItem.resetValidation(),this.setFocus("item-code")},searchItemByCode:function(){var e=this;this.$http.get("/item/getItemByCode/"+this.singleItem.itemCode).then((function(t){var s=t.data;s&&(e.singleItem.itemID=s.itemID,e.singleItem.itemName=s.itemName,e.singleItem.categoryID=s.categoryID,e.singleItem.brandID=s.brandID,e.singleItem.shelfID=s.shelfID,e.singleItem.unitID=s.unitID,e.singleItem.perUnit=s.perUnit,e.singleItem.costPrice=s.costPrice,e.singleItem.itemPriceRetail=s.itemPriceRetail,e.singleItem.itemPriceWhole=s.itemPriceWhole,e.singleItem.stockAlert=s.stockAlert,e.singleItem.imagePath=s.image,e.singleItem.hideInStock=Boolean(Number(s.hideInStock)),e.singleItem.showButton=Boolean(Number(s.showButton)),e.singleItem.note=s.note)}))},addItem:function(){var e=this;if(this.$refs.formItem.validate()){this.loadings.addItem=!0;var t=new FormData;t.append("itemCode",this.singleItem.itemCode),t.append("itemName",this.singleItem.itemName),t.append("categoryID",this.singleItem.categoryID||""),t.append("brandID",this.singleItem.brandID||""),t.append("shelfID",this.singleItem.shelfID||""),t.append("unitID",this.singleItem.unitID),t.append("perUnit",this.singleItem.perUnit),t.append("costPrice",this.singleItem.costPrice),t.append("itemPriceRetail",this.singleItem.itemPriceRetail),t.append("itemPriceWhole",this.singleItem.itemPriceWhole),t.append("stockAlert",this.singleItem.stockAlert),t.append("hideInStock",Number(this.singleItem.hideInStock).toString()),t.append("showButton",Number(this.singleItem.showButton).toString()),t.append("note",this.singleItem.note||""),t.append("userID",this.userID),t.append("itemImage",this.singleItem.imageFile),this.$http.post("/item/addItem",t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("itemAdded",{itemID:s.itemID,itemCode:e.singleItem.itemCode,itemName:e.singleItem.itemName,categoryID:e.singleItem.categoryID,categoryName:(e.categories.find((function(t){return t.categoryID==e.singleItem.categoryID}))||{categoryName:null}).categoryName,brandID:e.singleItem.brandID,shelfID:e.singleItem.shelfID,shelfName:(e.shelfs.find((function(t){return t.shelfID==e.singleItem.shelfID}))||{shelfName:null}).shelfName,unitID:e.singleItem.unitID,perUnit:e.singleItem.perUnit,costPrice:e.singleItem.costPrice,itemPriceRetail:e.singleItem.itemPriceRetail,itemPriceWhole:e.singleItem.itemPriceWhole,stockAlert:e.singleItem.stockAlert,image:s.image,hideInStock:Number(e.singleItem.hideInStock).toString(),showButton:Number(e.singleItem.showButton).toString(),note:e.singleItem.note}),e.clearItem()})).finally((function(){return e.loadings.addItem=!1}))}},updateItem:function(){var e=this;this.$refs.formItem.validate()&&(this.loadings.updateItem=!0,this.$http.patch("/item/updateItem/"+this.singleItem.itemID,{itemCode:this.singleItem.itemCode,itemName:this.singleItem.itemName,categoryID:this.singleItem.categoryID,brandID:this.singleItem.brandID,shelfID:this.singleItem.shelfID,unitID:this.singleItem.unitID,perUnit:this.singleItem.perUnit,costPrice:this.singleItem.costPrice,itemPriceRetail:this.singleItem.itemPriceRetail,itemPriceWhole:this.singleItem.itemPriceWhole,stockAlert:this.singleItem.stockAlert,hideInStock:Number(this.singleItem.hideInStock).toString(),showButton:Number(this.singleItem.showButton).toString(),note:this.singleItem.note}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکارییەکە سەرکەوتوو بوو"}),e.emitter.$emit("itemUpdated",{itemID:e.singleItem.itemID,itemCode:e.singleItem.itemCode,itemName:e.singleItem.itemName,categoryID:e.singleItem.categoryID,categoryName:(e.categories.find((function(t){return t.categoryID==e.singleItem.categoryID}))||{categoryName:null}).categoryName,brandID:e.singleItem.brandID,shelfID:e.singleItem.shelfID,shelfName:(e.shelfs.find((function(t){return t.shelfID==e.singleItem.shelfID}))||{shelfName:null}).shelfName,unitID:e.singleItem.unitID,perUnit:e.singleItem.perUnit,costPrice:e.singleItem.costPrice,itemPriceRetail:e.singleItem.itemPriceRetail,itemPriceWhole:e.singleItem.itemPriceWhole,stockAlert:e.singleItem.stockAlert,hideInStock:Number(e.singleItem.hideInStock).toString(),showButton:Number(e.singleItem.showButton).toString(),note:e.singleItem.note})})).finally((function(){return e.loadings.updateItem=!1})))},updateImage:function(){var e=this;this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then((function(){e.loadings.updateImage=!0;var t=new FormData;t.append("itemImage",e.singleItem.imageFile),e.$http.patch("/item/updateImage/"+e.singleItem.itemID,t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),e.emitter.$emit("imageUpdated",{image:s.image}),e.singleItem.imagePath=s.image})).finally((function(){return e.loadings.updateImage=!1}))}))},deleteImage:function(){var e=this;this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then((function(){e.loadings.deleteImage=!0,e.$http.delete("/item/deleteImage/"+e.singleItem.itemID).then((function(){e.singleItem.imagePath=null})).finally((function(){return e.loadings.deleteImage=!1}))}))}},beforeDestroy:function(){this.emitter.$off("openItem"),this.emitter.$off("closeItem")}}),Te=Ve,Re=s("ac7c"),Ee=s("adda"),Oe=s("b974"),Ue=s("a844"),Be=Object(l["a"])(Te,we,Pe,!1,null,null,null),Le=Be.exports;u()(Be,{VBtn:$["a"],VCheckbox:Re["a"],VCol:N["a"],VDivider:xe["a"],VForm:B["a"],VIcon:w["a"],VImg:Ee["a"],VRow:P["a"],VSelect:Oe["a"],VTextField:F["a"],VTextarea:Ue["a"]});var Ae={name:"Items",components:{formItem:Le},data:function(){return{page:1,dialogs:{item:!1},loadings:{table:!1},items:[],numberOfItems:0,search:""}},created:function(){this.getItems()},mounted:function(){var e=this;this.emitter.$on("itemAdded",(function(t){e.items.unshift(t)})),this.emitter.$on("itemUpdated",(function(t){var s=e.items.findIndex((function(e){return e.itemID==t.itemID}));e.items[s].itemCode=t.itemCode,e.items[s].itemName=t.itemName,e.items[s].categoryID=t.categoryID,e.items[s].categoryName=t.categoryName,e.items[s].shelfID=t.shelfID,e.items[s].shelfName=t.shelfName,e.items[s].brandID=t.brandID,e.items[s].unitID=t.unitID,e.items[s].perUnit=t.perUnit,e.items[s].costPrice=t.costPrice,e.items[s].itemPriceRetail=t.itemPriceRetail,e.items[s].itemPriceWhole=t.itemPriceWhole,e.items[s].stockAlert=t.stockAlert,e.items[s].hideInStock=t.hideInStock,e.items[s].showButton=t.showButton,e.items[s].note=t.note}))},methods:{getItems:function(){var e=this;this.items=[],this.loadings.table=!0,this.$http.get("/item/allItems").then((function(t){var s=t.data;e.items=s})).finally((function(){return e.loadings.table=!1}))},getItem:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.dialogs.item=!0,t.emitter.$emit("openItem",e);case 2:case"end":return s.stop()}}),s)})))()},deleteItem:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then((function(){var s=t.items.findIndex((function(t){return t.itemID==e}));t.$http.delete("/item/deleteItem/"+e).then((function(){t.items.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!1},{text:"جۆر",value:"categoryName",align:"center",sortable:!1},{text:"خاوەندارێتی",value:"shelfName",align:"center",sortable:!1},{text:"نرخی فرۆشتن",value:"itemPriceRetail",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("itemAdded"),this.emitter.$off("itemUpdated")}},Fe=Ae,je=s("5607"),qe=Object(l["a"])(Fe,$e,Ne,!1,null,null,null),Qe=qe.exports;u()(qe,{VAlert:S["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(qe,{Ripple:je["a"]});var Me=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeRole"),expression:"emitter.$emit('closeRole')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}]),model:{value:e.sheets.role,callback:function(t){e.$set(e.sheets,"role",t)},expression:"sheets.role"}},[s("v-sheet",{staticClass:"px-3"},[s("formRole")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}],null,!1,3571708683),model:{value:e.dialogs.role,callback:function(t){e.$set(e.dialogs,"role",t)},expression:"dialogs.role"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ڕۆڵەکان ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeRole"),e.dialogs.role=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formRole")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" ڕۆڵ ")]),s("th",{staticClass:"text-center",staticStyle:{width:"27%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.roles,(function(t,i){return s("tr",{key:t.roleID},[s("td",[e._v(" "+e._s(i+1)+" ")]),s("td",[e._v(" "+e._s(t.roleName)+" ")]),s("td",[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){return e.getRole(t.roleID,t.roleName)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deleteRole(t.roleID,i)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])}),s("notification")],1)},We=[],He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formRole",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"ڕۆڵ",outlined:"",dense:"",rules:e.rules.roleName},model:{value:e.singleRole.roleName,callback:function(t){e.$set(e.singleRole,"roleName",t)},expression:"singleRole.roleName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[e.singleRole.roleID?s("v-btn",{attrs:{color:"warning",block:"",loading:e.loadings.updateRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.updateRole()}}},[s("v-icon",[e._v(" mdi-content-save-outline ")])],1):s("v-btn",{attrs:{color:"success",block:"",loading:e.loadings.addRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.addRole()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.clearRole()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-divider"),s("v-row",[s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کاڵاکان",color:"primary",value:"items"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"بەکارهێنەرەکان",color:"primary",value:"users"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕۆڵەکان",color:"primary",value:"roles"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"فرۆشتن",color:"primary",value:"invoice"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"خەرجیەکان",color:"primary",value:"expenses"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کۆمپانیاکان",color:"primary",value:"suppliers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قەرزی کۆمپانیاکان",color:"primary",value:"supplierDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کڕیارەکان",color:"primary",value:"customers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"قەرزی کڕیارەکان",color:"primary",value:"customerDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"کڕینەکان",color:"primary",value:"purchases"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"تەلەفەکان",color:"primary",value:"disposals"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"مەخزەن",color:"primary",value:"stock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری مەخزەن",color:"primary",value:"stockReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری فرۆشتن",color:"primary",value:"saleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری کڕین",color:"primary",value:"purchaseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"جوڵەی پارە",color:"primary",value:"moneyMovement"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری قازانج",color:"primary",value:"profitReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری خەرجیەکان",color:"primary",value:"expenseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"زانیاری پارەی ماوە",color:"primary",value:"moneyInStock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی قەرزی کۆمپانیا",color:"primary",value:"supplierDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی قەرزی کڕیار",color:"primary",value:"customerDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),s("v-col",{staticClass:"my-0 py-0",attrs:{cols:"6"}},[s("v-checkbox",{attrs:{label:"ڕاپۆرتی فرۆشراوی خاوەنداێتی",color:"primary",value:"ownerSaleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1)],1)],1)},ze=[],Ke={data:function(){return{loadings:{addRole:!1,updateRole:!1},subRoles:[],singleRole:{roleID:null,roleName:null},rules:{roleName:[function(e){return null!=e&&e.length>0||"تکایە ڕۆڵ داخڵ بکە"}]}}},mounted:function(){var e=this;this.emitter.$on("openRole",(function(t){e.singleRole=t.singleRole,e.subRoles=t.subRoles})),this.emitter.$on("closeRole",(function(){e.clearRole()}))},methods:{clearRole:function(){this.singleRole.roleID=null,this.singleRole.roleName=null,this.subRoles=[],this.$refs.formRole.resetValidation()},addRole:function(){var e=this;this.$refs.formRole.validate()&&this.subRoles.length>0&&(this.loadings.addRole=!0,this.$http.post("/user/addRole",{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("roleAdded",{roleID:s.roleID,roleName:e.singleRole.roleName}),e.clearRole()})).finally((function(){return e.loadings.addRole=!1})))},updateRole:function(){var e=this;this.singleRole.roleName?(this.loadings.updateRole=!0,this.$http.patch("/user/updateRole/"+this.singleRole.roleID,{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("roleUpdated",{roleID:e.singleRole.roleID,roleName:e.singleRole.roleName})})).finally((function(){return e.loadings.updateRole=!1}))):this.emitter.$emit("notify",{type:"warning",text:"ناوی ڕۆڵ داخڵ بکە"})}},beforeDestroy:function(){this.emitter.$off("openRole"),this.emitter.$off("closeRole")}},Ge=Ke,Je=Object(l["a"])(Ge,He,ze,!1,null,null,null),Xe=Je.exports;u()(Je,{VBtn:$["a"],VCheckbox:Re["a"],VCol:N["a"],VDivider:xe["a"],VForm:B["a"],VIcon:w["a"],VRow:P["a"],VTextField:F["a"]});var Ye={name:"Roles",components:{formRole:Xe},data:function(){return{dialogs:{role:!1},sheets:{role:!1},roles:[]}},created:function(){var e=this;this.$http.get("/user/allRole").then((function(t){var s=t.data;e.roles=s}))},mounted:function(){var e=this;this.emitter.$on("roleAdded",(function(t){e.roles.unshift(t)})),this.emitter.$on("roleUpdated",(function(t){var s=e.roles.findIndex((function(e){return e.roleID==t.roleID}));e.roles[s].roleName=t.roleName}))},methods:{getRole:function(e,t){var s=this;this.$http.get("/user/subRoles/"+e).then(function(){var i=Object(f["a"])(regeneratorRuntime.mark((function i(n){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=n.data,i.next=3,s.$isMobile();case 3:if(!i.sent){i.next=7;break}s.sheets.role=!0,i.next=8;break;case 7:s.dialogs.role=!0;case 8:s.emitter.$emit("openRole",{singleRole:{roleID:e,roleName:t},subRoles:a});case 9:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}())},deleteRole:function(e,t){var s=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم ڕۆڵە ؟","","question").then((function(){s.$http.delete("/user/deleteRole/"+e).then((function(){s.roles.splice(t,1)}))}))}},beforeDestroy:function(){this.emitter.$off("roleAdded"),this.emitter.$off("roleUpdated")}},Ze=Ye,et=Object(l["a"])(Ze,Me,We,!1,null,null,null),tt=et.exports;u()(et,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSimpleTable:A["a"],VSpacer:De["a"]}),_e()(et,{ClickOutside:ke["a"]});var st=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpense"),expression:"emitter.$emit('closeExpense')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}]),model:{value:e.sheets.expense,callback:function(t){e.$set(e.sheets,"expense",t)},expression:"sheets.expense"}},[s("v-sheet",{staticClass:"pa-3"},[s("formExpense")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}],null,!1,3499921447),model:{value:e.dialogs.expense,callback:function(t){e.$set(e.dialogs,"expense",t)},expression:"dialogs.expense"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری خەرجی ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpense"),e.dialogs.expense=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formExpense")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpenseType"),expression:"emitter.$emit('closeExpenseType')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[e._v(" جۆرەکانی خەرجی ")])]}}]),model:{value:e.sheets.expenseType,callback:function(t){e.$set(e.sheets,"expenseType",t)},expression:"sheets.expenseType"}},[s("v-sheet",{staticClass:"px-3"},[s("formExpenseType")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[e._v(" جۆرەکانی خەرجی ")])]}}],null,!1,1375452407),model:{value:e.dialogs.expenseType,callback:function(t){e.$set(e.dialogs,"expenseType",t)},expression:"dialogs.expenseType"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" جۆرەکانی خەرجی ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpenseType"),e.dialogs.expenseType=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formExpenseType")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.expenses,search:e.search,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.typeName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.priceExpenseIQD.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.priceExpense$.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getExpense(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteExpense(i.expenseID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},it=[],nt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formExpenseType",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"8"}},[s("v-text-field",{attrs:{label:"جۆر",outlined:"",dense:"",rules:e.rules.typeName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addType()}},model:{value:e.singleType.typeName,callback:function(t){e.$set(e.singleType,"typeName","string"===typeof t?t.trim():t)},expression:"singleType.typeName"}})],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"success",disabled:!e.singleType.typeName,loading:e.loadings.addType},on:{click:function(t){return e.addType()}}},[s("v-icon",[e._v(" mdi-plus ")])],1)],1),s("v-col",{attrs:{cols:"12",md:"2"}},[s("v-btn",{attrs:{block:"",color:"info"},on:{click:function(t){return e.clearType()}}},[s("v-icon",[e._v(" mdi-broom ")])],1)],1)],1)],1),s("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[e._v(" # ")]),s("th",{staticClass:"text-center"},[e._v(" جۆر ")]),s("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),s("tbody",e._l(e.expenseTypes,(function(t,i){return s("tr",{key:t.typeExpenseID},[s("td",[e._v(" "+e._s(i+1)+" ")]),t.typeExpenseID!=e.singleType.typeExpenseID?s("td",[e._v(" "+e._s(t.typeName)+" ")]):s("td",[s("v-text-field",{attrs:{dense:""},on:{keyup:function(s){return!s.type.indexOf("key")&&e._k(s.keyCode,"enter",13,s.key,"Enter")?null:e.updateType(t.typeExpenseID,i)}},model:{value:e.expenseTypes[i].typeName,callback:function(t){e.$set(e.expenseTypes[i],"typeName","string"===typeof t?t.trim():t)},expression:"expenseTypes[index].typeName"}})],1),s("td",[t.typeExpenseID!=e.singleType.typeExpenseID?s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(s){e.singleType.typeExpenseID=t.typeExpenseID}}},[s("v-icon",[e._v(" mdi-pencil ")])],1):s("v-btn",{attrs:{icon:"",color:"success",disabled:!e.expenseTypes[i].typeName,loading:e.loadings.updateType},on:{click:function(s){return e.updateType(t.typeExpenseID,i)}}},[s("v-icon",[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),s("v-pagination",{staticClass:"mt-2",attrs:{length:Math.ceil(e.numberOfTypes/10),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},at=[],rt={data:function(){return{page:1,loadings:{addType:!1,updateType:!1},numberOfTypes:0,expenseTypes:[],singleType:{typeExpenseID:null,typeName:null},rules:{typeName:[function(e){return null!=e&&e.length>0||"تکایە جۆری خەرجی داخڵ بکە"}]}}},created:function(){var e=this;this.$http.get("/expense/countTypes").then((function(t){var s=t.data;e.numberOfTypes=s.numberOfTypes})),this.getTypes()},mounted:function(){var e=this;this.emitter.$on("closeExpenseType",(function(){e.clearType()}))},methods:{clearType:function(){this.singleType.typeExpenseID=null,this.singleType.typeName=null,this.$refs.formExpenseType.resetValidation()},getTypes:function(){var e=this;this.$http.get("/expense/limitedType/"+10*(this.page-1)).then((function(t){var s=t.data;e.expenseTypes=s}))},addType:function(){var e=this;this.$refs.formExpenseType.validate()&&(this.loadings.addType=!0,this.$http.post("/expense/addType",{typeName:this.singleType.typeName}).then((function(t){var s=t.data;1==e.page&&e.expenseTypes.length<10&&e.expenseTypes.unshift({typeExpenseID:s.typeExpenseID,typeName:e.singleType.typeName}),e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.clearType(),++e.numberOfTypes})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.addType=!1})))},updateType:function(e,t){var s=this,i=this.expenseTypes[t].typeName;i?(this.loadings.updateType=!0,this.$http.patch("/expense/updateType/"+e,{typeName:i}).then((function(){s.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),s.singleType.typeExpenseID=null})).catch((function(e){s.emitter.$emit("notify",{type:"error",text:e.response.data.message})})).finally((function(){return s.loadings.updateType=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆری خەرجی داخڵ بکە"})}},watch:{page:function(){this.getTypes()}},beforeDestroy:function(){this.emitter.$off("closeExpenseType")}},ot=rt,lt=Object(l["a"])(ot,nt,at,!1,null,null,null),ct=lt.exports;u()(lt,{VBtn:$["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VPagination:L["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var ut=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formExpense",on:{submit:function(e){e.preventDefault()}}},[s("v-select",{attrs:{label:"جۆری خەرجی",outlined:"",dense:"",items:e.expenseTypes,"item-value":"typeExpenseID","item-text":"typeName",rules:e.rules.typeExpenseID,"validate-on-blur":""},model:{value:e.singleExpense.typeExpenseID,callback:function(t){e.$set(e.singleExpense,"typeExpenseID",t)},expression:"singleExpense.typeExpenseID"}}),s("v-text-field",{attrs:{label:"بڕی خەرجی (دینار)",outlined:"",dense:"",type:"number",rules:e.rules.priceExpenseIQD,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-dollar")}},model:{value:e.singleExpense.priceExpenseIQD,callback:function(t){e.$set(e.singleExpense,"priceExpenseIQD",e._n(t))},expression:"singleExpense.priceExpenseIQD"}}),s("v-text-field",{attrs:{label:"بڕی خەرجی (دۆلار)",outlined:"",dense:"",type:"number",id:"price-dollar",rules:e.rules.priceExpenseIQD$,"validate-on-blur":""},model:{value:e.singleExpense.priceExpense$,callback:function(t){e.$set(e.singleExpense,"priceExpense$",e._n(t))},expression:"singleExpense.priceExpense$"}}),s("v-textarea",{attrs:{label:"تێبینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleExpense.note,callback:function(t){e.$set(e.singleExpense,"note","string"===typeof t?t.trim():t)},expression:"singleExpense.note"}})],1),e.singleExpense.expenseID?s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.updateExpense()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.addExpense()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},dt=[],mt={data:function(){return{loadings:{addExpense:!1,updateExpense:!1},expenseTypes:[],singleExpense:{expenseID:null,typeExpenseID:null,priceExpenseIQD:0,priceExpense$:0,note:null},rules:{typeExpenseID:[function(e){return null!=e&&Number(e)>0||"تکایە جۆری خەرجی هەڵبژێرە"}],priceExpenseIQD:[function(e){return null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دینار بە دروستی داخڵ بکە"}],priceExpense$:[function(e){return null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دۆلار بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.get("/expense/allType").then((function(t){var s=t.data;e.expenseTypes=s})),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openExpense",(function(t){e.singleExpense.expenseID=t.expenseID,e.singleExpense.typeExpenseID=t.typeExpenseID,e.singleExpense.priceExpenseIQD=t.priceExpenseIQD,e.singleExpense.priceExpense$=t.priceExpense$,e.singleExpense.note=t.note})),this.emitter.$on("closeExpense",(function(){e.clearExpense()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearExpense:function(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()},addExpense:function(){var e=this;this.$refs.formExpense.validate()&&(this.loadings.addExpense=!0,this.$http.post("/expense/addExpense",{typeExpenseID:this.singleExpense.typeExpenseID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("expenseAdded",{expenseID:s.expenseID,typeName:e.expenseTypes.find((function(t){return t.typeExpenseID==e.singleExpense.typeExpenseID})).typeName,typeExpenseID:e.singleExpense.typeExpenseID,priceExpenseIQD:e.singleExpense.priceExpenseIQD,priceExpense$:e.singleExpense.priceExpense$,userName:e.userName,note:e.singleExpense.note}),e.clearExpense()})).finally((function(){return e.loadings.addExpense=!1})))},updateExpense:function(){var e=this;this.$refs.formExpense.validate()&&(this.loadings.updateExpense=!0,this.$http.patch("/expense/updateExpense/"+this.singleExpense.expenseID,{typeExpenseID:this.singleExpense.typeExpenseID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("expenseUpdated",{expenseID:e.singleExpense.expenseID,typeName:e.expenseTypes.find((function(t){return t.typeExpenseID==e.singleExpense.typeExpenseID})).typeName,typeExpenseID:e.singleExpense.typeExpenseID,priceExpenseIQD:e.singleExpense.priceExpenseIQD,priceExpense$:e.singleExpense.priceExpense$,userName:e.userName,note:e.singleExpense.note})})).finally((function(){return e.loadings.updateExpense=!1})))}},beforeDestroy:function(){this.emitter.$off("openExpense"),this.emitter.$off("closeExpense")}},pt=mt,vt=Object(l["a"])(pt,ut,dt,!1,null,null,null),ht=vt.exports;u()(vt,{VBtn:$["a"],VForm:B["a"],VIcon:w["a"],VSelect:Oe["a"],VTextField:F["a"],VTextarea:Ue["a"]});var ft={name:"Expenses",components:{formExpenseType:ct,formExpense:ht},data:function(){return{dialogs:{expense:!1,expenseType:!1},sheets:{expense:!1,expenseType:!1},loadings:{table:!1},expenses:[],search:""}},created:function(){this.getExpenses()},mounted:function(){var e=this;this.emitter.$on("expenseAdded",(function(t){e.expenses.unshift(t)})),this.emitter.$on("expenseUpdated",(function(t){var s=e.expenses.findIndex((function(e){return e.expenseID=t.expenseID}));e.expenses[s].typeExpenseID=t.typeExpenseID,e.expenses[s].typeName=t.typeName,e.expenses[s].priceExpenseIQD=t.priceExpenseIQD,e.expenses[s].priceExpense$=t.priceExpense$,e.expenses[s].username=t.username}))},methods:{getExpenses:function(){var e=this;this.expenses=[],this.loadings.table=!0,this.$http.get("/expense/todayExpense").then((function(t){var s=t.data;e.expenses=s})).finally((function(){return e.loadings.table=!1}))},getExpense:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.expense=!0,s.next=7;break;case 6:t.dialogs.expense=!0;case 7:t.emitter.$emit("openExpense",e);case 8:case"end":return s.stop()}}),s)})))()},deleteExpense:function(e){var t=this,s=this.expenses.findIndex((function(t){return t.expenseID==e}));this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then((function(){t.$http.delete("/expense/deleteExpense/"+e).then((function(){t.expenses.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"جۆری خەرجی",value:"typeName",align:"center",sortable:!1},{text:"بڕی خەرجی (دینار)",value:"priceExpenseIQD",align:"center",sortable:!0},{text:"بڕی خەرجی (دۆلار)",value:"priceExpense$",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("expenseAdded"),this.emitter.$off("expenseUpdated")}},gt=ft,bt=Object(l["a"])(gt,st,it,!1,null,null,null),xt=bt.exports;u()(bt,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(bt,{ClickOutside:ke["a"]});var yt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplier"),expression:"emitter.$emit('closeSupplier')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.supplier,callback:function(t){e.$set(e.sheets,"supplier",t)},expression:"sheets.supplier"}},[s("v-sheet",{staticClass:"pa-3"},[s("formSupplier")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}],null,!1,822998163),model:{value:e.dialogs.supplier,callback:function(t){e.$set(e.dialogs,"supplier",t)},expression:"dialogs.supplier"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کۆمپانیا ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplier"),e.dialogs.supplier=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formSupplier")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.suppliers,loading:e.loadings.table,search:e.search,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[s("a",{attrs:{href:"/supplierDebts/"+i.supplierID}},[e._v(" "+e._s(i.supplierName)+" ")])]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.phone)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.address)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.previousBalance)+" ")]),s("td",{staticClass:"text-center subtitle-1 red--text"},[e._v(" "+e._s(i.totalRemain)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(i.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getSupplier(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deactiveSupplier(i.supplierID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},Dt=[],It=(s("ac1f"),s("1276"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formSupplier",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی کۆمپانیا",outlined:"",dense:"",rules:e.rules.supplierName,"validate-on-blur":"",id:"company-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone")}},model:{value:e.singleSupplier.supplierName,callback:function(t){e.$set(e.singleSupplier,"supplierName","string"===typeof t?t.trim():t)},expression:"singleSupplier.supplierName"}}),s("v-text-field",{attrs:{label:"ژ.مۆبایل",outlined:"",dense:"",rules:e.rules.phone,"validate-on-blur":"",id:"phone"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleSupplier.phone,callback:function(t){e.$set(e.singleSupplier,"phone","string"===typeof t?t.trim():t)},expression:"singleSupplier.phone"}}),s("v-text-field",{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-balance")}},model:{value:e.singleSupplier.address,callback:function(t){e.$set(e.singleSupplier,"address","string"===typeof t?t.trim():t)},expression:"singleSupplier.address"}}),s("v-text-field",{attrs:{label:"قەرزی کۆن",outlined:"",dense:"",type:"number",rules:e.rules.previousBalance,"validate-on-blur":"",id:"previous-balance"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.singleSupplier.supplierID?e.updateSupplier():e.addSupplier()}},model:{value:e.singleSupplier.previousBalance,callback:function(t){e.$set(e.singleSupplier,"previousBalance",e._n(t))},expression:"singleSupplier.previousBalance"}})],1),e.singleSupplier.supplierID?s("v-btn",{attrs:{color:"warning",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.updateSupplier()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.addSupplier()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)}),_t=[],kt={data:function(){return{loadings:{addSupplier:!1,updateSupplier:!1,deleteSupplier:!1},singleSupplier:{supplierID:null,supplierName:null,phone:null,address:null,previousBalance:0},userID:null,rules:{supplierName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کۆمپانیا بنووسە"}],phone:[function(e){return null!=e&&Number(e)>0||"تکایە ژمارەی مۆبایل بنووسە"}],previousBalance:[function(e){return null!=e&&Number(e)>=0||"تکایە قەرزی کۆن  با لەسەروو سفر بێت"}]}}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openSupplier",(function(t){e.singleSupplier.supplierID=t.supplierID,e.singleSupplier.supplierName=t.supplierName,e.singleSupplier.phone=t.phone,e.singleSupplier.address=t.address,e.singleSupplier.previousBalance=t.previousBalance})),this.emitter.$on("closeSupplier",(function(){e.clearSupplier()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addSupplier:function(){var e=this;this.$refs.formSupplier.validate()&&(this.loadings.addSupplier=!0,this.$http.post("/supplier/addSupplier",{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("supplierAdded",{supplierID:s.supplierID,supplierName:e.singleSupplier.supplierName,phone:e.singleSupplier.phone,address:e.singleSupplier.address,previousBalance:e.singleSupplier.previousBalance}),e.clearSupplier()})).finally((function(){e.loadings.addSupplier=!1})))},updateSupplier:function(){var e=this;this.$refs.formSupplier.validate()&&(this.loadings.updateSupplier=!0,this.$http.patch("/supplier/updateSupplier/"+this.singleSupplier.supplierID,{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("supplierUpdated",{supplierID:e.singleSupplier.supplierID,supplierName:e.singleSupplier.supplierName,phone:e.singleSupplier.phone,address:e.singleSupplier.address,previousBalance:e.singleSupplier.previousBalance})})).finally((function(){e.loadings.updateSupplier=!1})))},clearSupplier:function(){this.singleSupplier.supplierID=null,this.singleSupplier.supplierName=null,this.singleSupplier.phone=null,this.singleSupplier.address=null,this.singleSupplier.previousBalance=0,this.$refs.formSupplier.resetValidation()}},beforeDestroy:function(){this.emitter.$off("openSupplier"),this.emitter.$off("closeSupplier")}},Ct=kt,St=Object(l["a"])(Ct,It,_t,!1,null,null,null),$t=St.exports;u()(St,{VBtn:$["a"],VForm:B["a"],VIcon:w["a"],VTextField:F["a"]});var Nt={name:"Suppliers",components:{formSupplier:$t},data:function(){return{dialogs:{supplier:!1},sheets:{supplier:!1},loadings:{table:!1},suppliers:[],search:""}},created:function(){this.getSuppliers()},mounted:function(){var e=this;this.emitter.$on("supplierAdded",(function(t){e.suppliers.unshift({supplierID:t.supplierID,supplierName:t.supplierName,phone:t.phone,address:t.address,previousBalance:t.previousBalance,createAt:(new Date).toISOString().split("T")[0]})})),this.emitter.$on("supplierUpdated",(function(t){var s=e.suppliers.findIndex((function(e){return e.supplierID=t.supplierID}));e.suppliers[s].supplierName=t.supplierName,e.suppliers[s].phone=t.phone,e.suppliers[s].address=t.address,e.suppliers[s].previousBalance=t.previousBalance}))},methods:{getSuppliers:function(){var e=this;this.suppliers=[],this.loadings.table=!0,this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s})).finally((function(){e.loadings.table=!1}))},getSupplier:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.supplier=!0,s.next=7;break;case 6:t.dialogs.supplier=!0;case 7:t.emitter.$emit("openSupplier",{supplierID:e.supplierID,supplierName:e.supplierName,phone:e.phone,address:e.address,previousBalance:e.previousBalance});case 8:case"end":return s.stop()}}),s)})))()},deactiveSupplier:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کۆمپانیایە ؟","","question").then((function(){var s=t.suppliers.findIndex((function(t){return t.supplierID==e}));t.$http.patch("/supplier/deactive/"+e).then((function(){t.suppliers.splice(s,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کۆمپانیا",value:"supplierName",align:"center",sortable:!0},{text:"ژ.مۆبایل",value:"phone",align:"center",sortable:!1},{text:"ناونیشان",value:"address",align:"center",sortable:!1},{text:"قەرزی کۆن",vallue:"previousBalance",align:"center",sortable:!1},{text:"کۆی قەرز",vallue:"totalRemain",align:"center",sortable:!1},{text:"بەرواری تۆماربوون",vallue:"createAt",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("supplierAdded"),this.emitter.$off("supplierUpdated")}},wt=Nt,Pt=Object(l["a"])(wt,yt,Dt,!1,null,null,null),Vt=Pt.exports;u()(Pt,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(Pt,{ClickOutside:ke["a"]});var Tt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomer"),expression:"emitter.$emit('closeCustomer')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}]),model:{value:e.sheets.customer,callback:function(t){e.$set(e.sheets,"customer",t)},expression:"sheets.customer"}},[s("v-sheet",{staticClass:"pa-3"},[s("formCustomer")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}],null,!1,2208179531),model:{value:e.dialogs.customer,callback:function(t){e.$set(e.dialogs,"customer",t)},expression:"dialogs.customer"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کڕیار ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomer"),e.dialogs.customer=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCustomer")],1)],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.customers,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]},loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[s("a",{staticClass:"text-decoration-none",attrs:{href:"/customerDebts/"+i.customerID}},[e._v(" "+e._s(i.customerName)+" ")])]),s("td",{staticClass:"text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(i.phoneNumber)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.address)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.previousDebt)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.limitDebt)+" ")]),s("td",{staticClass:"text-center red--text subtitle-1"},[e._v(" "+e._s(i.totalRemain)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"6%"}},[1==i.activeStatus?s("v-chip",{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveCustomer(i.customerID,n)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):s("v-chip",{attrs:{outlined:"",color:"error"},on:{click:function(t){return e.activeCustomer(i.customerID,n)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getCustomer(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},Rt=[],Et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formCustomer",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی کڕیار",outlined:"",dense:"",id:"customer-name",rules:e.rules.customerName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone-number")}},model:{value:e.singleCustomer.customerName,callback:function(t){e.$set(e.singleCustomer,"customerName","string"===typeof t?t.trim():t)},expression:"singleCustomer.customerName"}}),s("v-text-field",{attrs:{label:"ژمارە تەلەفۆن",dir:"ltr",outlined:"",dense:"",id:"phone-number",rules:e.rules.phoneNumber,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleCustomer.phoneNumber,callback:function(t){e.$set(e.singleCustomer,"phoneNumber","string"===typeof t?t.trim():t)},expression:"singleCustomer.phoneNumber"}}),s("v-text-field",{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-debt")}},model:{value:e.singleCustomer.address,callback:function(t){e.$set(e.singleCustomer,"address","string"===typeof t?t.trim():t)},expression:"singleCustomer.address"}}),s("v-text-field",{attrs:{label:"قەرزی پێشوو",outlined:"",dense:"",type:"number",id:"previous-debt"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("limit-debt")}},model:{value:e.singleCustomer.previousDebt,callback:function(t){e.$set(e.singleCustomer,"previousDebt",e._n(t))},expression:"singleCustomer.previousDebt"}}),s("v-text-field",{attrs:{label:"زۆرترین قەرز",outlined:"",dense:"",type:"number",id:"limit-debt"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.singleCustomer.customerID?e.updateCustomer():e.addCustomer()}},model:{value:e.singleCustomer.limitDebt,callback:function(t){e.$set(e.singleCustomer,"limitDebt",e._n(t))},expression:"singleCustomer.limitDebt"}}),e.singleCustomer.customerID?s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateCustomer},on:{click:function(t){return e.updateCustomer()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addCustomers},on:{click:function(t){return e.addCustomer()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1)},Ot=[],Ut={data:function(){return{loadings:{addCustomer:!1,updateCustomer:!1},singleCustomer:{customerID:null,customerName:null,phoneNumber:null,address:null,previousDebt:0,limitDebt:0},rules:{customerName:[function(e){return null!=e&&e.length>0||"تکایە ناوی کڕیار داخڵ بکە"}],phoneNumber:[function(e){return null!=e&&e.length>10||"تکایە ژمارە تەلەفۆن بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openCustomer",(function(t){e.singleCustomer.customerID=t.customerID,e.singleCustomer.customerName=t.customerName,e.singleCustomer.phoneNumber=t.phoneNumber,e.singleCustomer.address=t.address,e.singleCustomer.previousDebt=t.previousDebt,e.singleCustomer.limitDebt=t.limitDebt})),this.emitter.$on("closeCustomer",(function(){e.clearCustomer()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearCustomer:function(){this.singleCustomer.customerID=null,this.singleCustomer.customerName=null,this.singleCustomer.phoneNumber=null,this.singleCustomer.address=null,this.singleCustomer.previousDebt=0,this.singleCustomer.limitDebt=0,this.$refs.formCustomer.resetValidation()},addCustomer:function(){var e=this;this.$refs.formCustomer.validate()&&(this.loadings.addCustomer=!0,this.$http.post("/customer/addCustomer",{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("customerAdded",{customerID:s.customerID,customerName:e.singleCustomer.customerName,phoneNumber:e.singleCustomer.phoneNumber,address:e.singleCustomer.address,previousDebt:e.singleCustomer.previousDebt,limitDebt:e.singleCustomer.limitDebt,userName:e.userName}),e.clearCustomer(),document.getElementById("customer-name").focus()})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.addCustomer=!1})))},updateCustomer:function(){var e=this;this.$refs.formCustomer.validate()&&this.$http.patch("/customer/updateCustomer/"+this.singleCustomer.customerID,{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆرانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("customerUpdated",{customerID:e.singleCustomer.customerID,customerName:e.singleCustomer.customerName,phoneNumber:e.singleCustomer.phoneNumber,address:e.singleCustomer.address,previousDebt:e.singleCustomer.previousDebt,limitDebt:e.singleCustomer.limitDebt})}))}},beforeDestroy:function(){this.emitter.$off("openCustomer"),this.emitter.$off("closeCustomer")}},Bt=Ut,Lt=Object(l["a"])(Bt,Et,Ot,!1,null,null,null),At=Lt.exports;u()(Lt,{VBtn:$["a"],VForm:B["a"],VIcon:w["a"],VTextField:F["a"]});var Ft={name:"Customers",components:{formCustomer:At},data:function(){return{dialogs:{customer:!1},sheets:{customer:!1},loadings:{table:!1},customers:[],search:""}},created:function(){this.getCustomers()},mounted:function(){var e=this;this.emitter.$on("customerAdded",(function(t){e.customers.unshift(t)})),this.emitter.$on("customerUpdated",(function(t){var s=e.customers.findIndex((function(e){return e.customerID==t.customerID}));e.customers[s].customerName=t.customerName,e.customers[s].phoneNumber=t.phoneNumber,e.customers[s].address=t.address,e.customers[s].previousDebt=t.previousDebt,e.customers[s].limitDebt=t.limitDebt}))},methods:{getCustomer:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.customer=!0,s.next=7;break;case 6:t.dialogs.customer=!0;case 7:t.emitter.$emit("openCustomer",e);case 8:case"end":return s.stop()}}),s)})))()},getCustomers:function(){var e=this;this.customers=[],this.loadings.table=!0,this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})).finally((function(){return e.loadings.table=!1}))},deactiveCustomer:function(e,t){var s=this;1!=e?this.$http.patch("/customer/deactive/"+e).then((function(){s.customers[t].activeStatus=0})):this.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم کڕیارە ناچالاک بکەیت"})},activeCustomer:function(e,t){var s=this;this.$http.patch("/customer/active/"+e).then((function(){s.customers[t].activeStatus=1}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کڕیار",align:"center",value:"customerName",sortable:!1},{text:"تەلەفۆن",align:"center",value:"phoneNumber",sortable:!1},{text:"ناونیشان",align:"center",value:"address",sortable:!1},{text:"قەرزی پێشوو",align:"center",value:"previousDebt",sortable:!0},{text:"زۆرترین قەرز",align:"center",value:"limitDebt",sortable:!0},{text:"کۆی قەرز",align:"center",value:"totalRemain",sortable:!0},{text:"بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("customerAdded"),this.emitter.$off("customerUpdated")}},jt=Ft,qt=Object(l["a"])(jt,Tt,Rt,!1,null,null,null),Qt=qt.exports;u()(qt,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VChip:he["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(qt,{ClickOutside:ke["a"]});var Mt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUser"),expression:"emitter.$emit('closeUser')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}]),model:{value:e.sheets.user,callback:function(t){e.$set(e.sheets,"user",t)},expression:"sheets.user"}},[s("v-sheet",[s("formUser")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}],null,!1,7878603),model:{value:e.dialogs.user,callback:function(t){e.$set(e.dialogs,"user",t)},expression:"dialogs.user"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری بەکارهێنەر ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUser"),e.dialogs.user=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formUser")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-btn",{attrs:{block:"",color:"primary",to:"/roles"}},[e._v(" ڕۆڵەکان ")])],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{"fixed-header":"",headers:e.headers,items:e.users,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.fullName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.email)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.roleName)+" ")]),s("td",{staticClass:"text-center"},[1==i.activeStatus?s("v-chip",{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveUser(i.userID)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):s("v-chip",{attrs:{outlined:"",color:"error",ripple:""},on:{click:function(t){return e.activeUser(i.userID)}}},[s("v-icon",{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getUser(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},Wt=[],Ht=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formUser",on:{submit:function(e){e.preventDefault()}}},[s("v-text-field",{attrs:{label:"ناوی تەواو",outlined:"",dense:"",rules:e.rules.fullName,"validate-on-blur":"",id:"full-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("user-name")}},model:{value:e.singleUser.fullName,callback:function(t){e.$set(e.singleUser,"fullName",t)},expression:"singleUser.fullName"}}),s("v-text-field",{attrs:{label:"ناوی بەکارهێنەر",outlined:"",dense:"",rules:e.rules.userName,"validate-on-blur":"",id:"user-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.singleUser.userName,callback:function(t){e.$set(e.singleUser,"userName",t)},expression:"singleUser.userName"}}),s("v-text-field",{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",rules:e.rules.userPassword,"validate-on-blur":"",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("email")}},model:{value:e.singleUser.userPassword,callback:function(t){e.$set(e.singleUser,"userPassword",t)},expression:"singleUser.userPassword"}}),s("v-text-field",{attrs:{label:"ئیمەیڵ",outlined:"",dense:"",type:"email",id:"email"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("role")}},model:{value:e.singleUser.email,callback:function(t){e.$set(e.singleUser,"email",t)},expression:"singleUser.email"}}),s("v-select",{attrs:{label:"ڕۆڵ",outlined:"",dense:"",items:e.roles,"item-text":"roleName","item-value":"roleID",rules:e.rules.roleID,"validate-on-blur":"",id:"role"},model:{value:e.singleUser.roleID,callback:function(t){e.$set(e.singleUser,"roleID",t)},expression:"singleUser.roleID"}}),s("input",{attrs:{type:"file",name:"",id:""},on:{change:e.processFile}}),e.singleUser.userID?s("div",[s("v-btn",{attrs:{block:"",color:"warning",loading:e.loadings.updateUser},on:{click:function(t){return e.updateUser()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1),s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"primary",loading:e.loadings.updatePassword},on:{click:function(t){return e.updatePassword()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وشەی نهێنی ")],1),s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"primary",disabled:!e.singleUser.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-image ")]),e._v(" نوێکردنەوەی وێنە ")],1),e.singleUser.imagePath?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"error",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e()],1):s("v-btn",{attrs:{block:"",color:"success",loading:e.loadings.addUser},on:{click:function(t){return e.addUser()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1),s("v-divider",{staticClass:"mt-2"}),e.singleUser.imagePath?s("v-img",{attrs:{src:"/user/image/"+e.singleUser.imagePath}}):e._e()],1)],1)},zt=[],Kt={data:function(){return{loadings:{addUser:!1,updateUser:!1,updatePassword:!1,updateImage:!1,deleteImage:!1},roles:[],singleUser:{userID:null,fullName:null,userName:null,userPassword:null,email:null,imageFile:null,imagePath:null,roleID:null},rules:{fullName:[function(e){return null!=e&&e.length>0||"تکایە ناوی تەواو داخڵ بکە"}],userName:[function(e){return null!=e&&e.length>0||"تکایە ناوی بەکارهێنەر داخڵ بکە"}],userPassword:[function(e){return null!=e&&e.length>0||"تکایە وشەی نهێنی داخڵ بکە"}],roleID:[function(e){return null!=e||"تکایە ڕۆڵێک هەڵبژێرە"}]}}},created:function(){var e=this;this.$http.get("/user/allRole").then((function(t){var s=t.data;e.roles=s}))},mounted:function(){var e=this;this.emitter.$on("openUser",(function(t){e.singleUser.userID=t.userID,e.singleUser.fullName=t.fullName,e.singleUser.userName=t.userName,e.singleUser.email=t.email,e.singleUser.imagePath=t.image,e.singleUser.roleID=t.roleID})),this.emitter.$on("closeUser",(function(){e.clearUser()}))},methods:{processFile:function(e){this.singleUser.imageFile=e.target.files[0]},setFocus:function(e){document.getElementById(e).focus()},clearUser:function(){this.singleUser.userID=null,this.singleUser.fullName=null,this.singleUser.userName=null,this.singleUser.userPassword=null,this.singleUser.email=null,this.singleUser.imageFile=null,this.singleUser.imagePath=null,this.singleUser.roleID=null,this.$refs.formUser.resetValidation()},addUser:function(){var e=this;if(this.$refs.formUser.validate()){this.loadings.addUser=!0;var t=new FormData;t.append("fullName",this.singleUser.fullName),t.append("userName",this.singleUser.userName),t.append("userPassword",this.singleUser.userPassword),t.append("email",this.singleUser.email),t.append("userImage",this.singleUser.imageFile),t.append("roleID",this.singleUser.roleID),this.$http.post("/user/addUser",t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("userAdded",{userID:s.userID,fullName:e.singleUser.fullName,userName:e.singleUser.userName,email:e.singleUser.email,roleName:e.roles.find((function(t){return t.roleID==e.singleUser.roleID})).roleName,roleID:e.singleUser.roleID,image:s.image,activeStatus:"1"}),e.clearUser()})).catch((function(t){e.emitter.$emit("notify",{type:"success",text:t.response.data.message})})).finally((function(){return e.loadings.addUser=!1}))}},updateUser:function(){var e=this;this.singleUser.fullName&&this.singleUser.userName&&this.singleUser.roleID?(this.loadings.updateUser=!0,this.$http.patch("/user/updateUser/"+this.singleUser.userID,{fullName:this.singleUser.fullName,userName:this.singleUser.userName,email:this.singleUser.email,roleID:this.singleUser.roleID}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("userUpdated",{userID:e.singleUser.userID,fullName:e.singleUser.fullName,userName:e.singleUser.userName,email:e.singleUser.email,roleID:e.singleUser.roleID,roleName:e.roles.find((function(t){return t.roleID==e.singleUser.roleID})).roleName})})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.updateUser=!1}))):this.emitter.$emit("notify",{type:"warning",text:"تکایە زانیارییە پێویستەکان داخڵ بکە"})},updatePassword:function(){var e=this;this.singleUser.userPassword?this.$confirm("دڵنیای لە نوێکردنەوەی وشەی نهێنی ؟","","question").then((function(){e.loadings.updatePassword=!0,e.$http.patch("/user/updatePassword/"+e.singleUser.userID,{userPassword:e.singleUser.userPassword}).then((function(){e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وشەی نهێنی سەرکەوتوو بوو"})})).finally((function(){return e.loadings.updatePassword=!1}))})):this.emitter.$emit("notify",{type:"warning",text:"تکایە وشەی نهێنی داخڵ بکە"})},updateImage:function(){var e=this;this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then((function(){e.loadings.updateImage=!0;var t=new FormData;t.append("userImage",e.singleUser.imageFile),e.$http.patch("/user/updateImage/"+e.singleUser.userID,t).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),e.singleUser.imagePath=+s.image})).finally((function(){return e.loadings.updateImage=!1}))}))},deleteImage:function(){var e=this;this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then((function(){e.loadings.deleteImage=!0,e.$http.delete("/user/deleteImage/"+e.singleUser.userID).then((function(){e.singleUser.imagePath=null})).finally((function(){return e.loadings.deleteImage=!1}))}))}},beforeDestroy:function(){this.emitter.$off("openUser"),this.emitter.$off("closeUser")}},Gt=Kt,Jt=Object(l["a"])(Gt,Ht,zt,!1,null,null,null),Xt=Jt.exports;u()(Jt,{VBtn:$["a"],VDivider:xe["a"],VForm:B["a"],VIcon:w["a"],VImg:Ee["a"],VSelect:Oe["a"],VTextField:F["a"]});var Yt={name:"Users",components:{formUser:Xt},data:function(){return{dialogs:{user:!1},sheets:{user:!1},users:[],currentUsers:[],search:""}},created:function(){var e=this;this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s}))},mounted:function(){var e=this;this.emitter.$on("userAdded",(function(t){e.users.unshift(t)})),this.emitter.$on("userUpdated",(function(t){var s=e.users.findIndex((function(e){return e.userID==t.userID}));e.users[s].fullName=t.fullName,e.users[s].userName=t.userName,e.users[s].email=t.email,e.users[s].roleID=t.roleID,e.users[s].roleName=t.roleName}))},methods:{getUser:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.user=!0,s.next=7;break;case 6:t.dialogs.user=!0;case 7:t.emitter.$emit("openUser",e);case 8:case"end":return s.stop()}}),s)})))()},deactiveUser:function(e){var t=this,s=this.users.findIndex((function(t){return t.userID==e}));this.$http.patch("/user/deactiveUser/"+e).then((function(){t.users[s].activeStatus=0})).catch((function(){t.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم بەکارهێنەرە ناچالاک بکەیت"})}))},activeUser:function(e){var t=this,s=this.users.findIndex((function(t){return t.userID==e}));this.$http.patch("/user/activeUser/"+e).then((function(){t.users[s].activeStatus=1}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی تەواو",align:"center",value:"fullName",sortable:!1},{text:"ناوی بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"ئیمەیڵ",align:"center",value:"email",sortable:!1},{text:"ڕۆڵ",align:"center",value:"roleName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1,width:"8%"},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("userAdded"),this.emitter.$off("userUpdated")}},Zt=Yt,es=Object(l["a"])(Zt,Mt,Wt,!1,null,null,null),ts=es.exports;u()(es,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VChip:he["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(es,{ClickOutside:ke["a"]});var ss=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4",xl:"4",lg:"4"}},[s("v-dialog",{attrs:{persistent:"",eager:"",width:"1400px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-alert",e._g(e._b({directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",n,!1),i),[s("v-icon",{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕین ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" زانیاری کڕین ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closePurchase"),e.dialog=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formPurchase")],1)],1)],1)],1)],1),s("hr"),s("v-data-table",{attrs:{headers:e.headers,items:e.purchases,"hide-default-footer":"","items-per-page":26},scopedSlots:e._u([{key:"item.actions",fn:function(t){var i=t.item;return[s("v-hover",{attrs:{"open-delay":"75","close-delay":"100",id:"icon"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.hover;return[n?s("v-icon",{staticClass:"ml-2",attrs:{"x-large":"",color:"indigo"},on:{click:function(t){return e.getPurchase(i.purchaseID)}}},[e._v("mdi-eye")]):s("v-icon",e._b({staticClass:"ml-2",attrs:{large:""}},"v-icon",i,!1),[e._v("mdi-eye-off")])]}}],null,!0)})]}}],null,!0)}),s("v-pagination",{attrs:{length:Math.ceil(e.table.numberOfPurchase/20),"total-visible":"6"},model:{value:e.table.page,callback:function(t){e.$set(e.table,"page",t)},expression:"table.page"}}),s("notification")],1)},is=[],ns=(s("159b"),s("4de4"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-container",{attrs:{fluid:""}},[s("v-form",{ref:"formPurchase",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-autocomplete",{attrs:{label:"ناوی کۆمپانیا",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID","search-input":e.searches.sSearch,rules:e.rules.supplier_rule,outlined:"",dense:""},on:{"update:searchInput":function(t){return e.$set(e.searches,"sSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"sSearch",t)}},model:{value:e.purchase.supplierID,callback:function(t){e.$set(e.purchase,"supplierID",t)},expression:"purchase.supplierID"}})],1),s("v-col",{attrs:{cols:"12",md:"2",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"ژمارەی وەصل",type:"number",outlined:"",dense:"",rules:e.rules.referenceNo},model:{value:e.purchase.referenceNo,callback:function(t){e.$set(e.purchase,"referenceNo",t)},expression:"purchase.referenceNo"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"پێشەکی پارە",type:"number",outlined:"",dense:"",value:"0"},model:{value:e.purchase.amountPay,callback:function(t){e.$set(e.purchase,"amountPay",t)},expression:"purchase.amountPay"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-text-field",{attrs:{label:"داشکاندن",type:"number",outlined:"",dense:"",value:"0"},model:{value:e.purchase.discount,callback:function(t){e.$set(e.purchase,"discount",t)},expression:"purchase.discount"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"دۆخی کڕین",items:e.PurchaseStatus,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.PurchaseStatus,callback:function(t){e.$set(e.purchase,"PurchaseStatus",t)},expression:"purchase.PurchaseStatus"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"جۆری پارەدان",items:e.paymentTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.paymentType,callback:function(t){e.$set(e.purchase,"paymentType",t)},expression:"purchase.paymentType"}})],1),s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-select",{attrs:{label:"جۆری وەسڵ",items:e.stockTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.stockType,callback:function(t){e.$set(e.purchase,"stockType",t)},expression:"purchase.stockType"}})],1),s("v-col",{attrs:{cols:"12",md:"6",xl:"6",lg:"6"}},[s("v-textarea",{attrs:{dense:"",counter:"100",maxlength:"100","auto-grow":"","row-height":"1",outlined:"",name:"input-5-3",label:"تێبینی"},model:{value:e.purchase.note,callback:function(t){e.$set(e.purchase,"note",t)},expression:"purchase.note"}})],1)],1)],1),s("hr"),s("br"),s("v-row",[s("v-col",[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center"},[e._v("باڕکۆد")]),s("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v("ناوی کاڵا")]),s("th",{staticClass:"text-center"},[e._v("نرخی کڕین")]),s("th",{staticClass:"text-center"},[e._v("نرخی فرۆشتن")]),s("th",{staticClass:"text-center"},[e._v("ژمارەی دانە")]),s("th",{staticClass:"text-center"},[e._v("داشکاندن")]),s("th",{staticClass:"text-center"},[e._v("نرخ دوای داشکاندن")]),s("th",{staticClass:"text-center"},[e._v("کۆی گشتی")]),s("th",{staticClass:"text-center",staticStyle:{width:"9%"}},[e._v("کردارەکان")])])]),s("tbody",[e._l(e.purchase.purchase_items,(function(t,i){return s("tr",{key:i},[s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.item.itemCode))]),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.item.itemName))]),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.costPrice},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[i].costPrice,callback:function(t){e.$set(e.purchase.purchase_items[i],"costPrice",t)},expression:"purchase.purchase_items[index].costPrice"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.costPrice},model:{value:e.purchase.purchase_items[i].itemPriceRetail,callback:function(t){e.$set(e.purchase.purchase_items[i],"itemPriceRetail",t)},expression:"purchase.purchase_items[index].itemPriceRetail"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.qty},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[i].qty,callback:function(t){e.$set(e.purchase.purchase_items[i],"qty",t)},expression:"purchase.purchase_items[index].qty"}})],1),s("td",{staticClass:"text-center"},[s("v-text-field",{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.discount},on:{change:function(s){return e.changeAfterDis(t)}},model:{value:e.purchase.purchase_items[i].discount,callback:function(t){e.$set(e.purchase.purchase_items[i],"discount",t)},expression:"purchase.purchase_items[index].discount"}})],1),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.costAfterDisc.toLocaleString()))]),s("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(t.total.toLocaleString()))]),s("td",{staticStyle:{width:"9%"}},[s("v-hover",{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.hover;return[n?s("v-icon",{staticClass:"mb-5",attrs:{color:"red",large:""},on:{click:function(s){return e.deleteItem(t)}}},[e._v("mdi-delete-empty")]):s("v-icon",{staticClass:"mb-5",attrs:{color:"red"}},[e._v("mdi-delete")])]}}],null,!0)}),e.purchase.purchaseID>0?s("v-hover",{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.hover;return[s("v-icon",n?{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success",large:""},on:{click:function(s){t.purchaseID?e.updateItem(t):e.insertItem(t)}}}:{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success"}},[e._v("mdi-check")])]}}],null,!0)}):e._e()],1)])})),s("tr",[s("td"),s("td"),s("td"),s("td"),s("td"),s("td"),s("td",{staticClass:"text-center green white--text font-weight-bold"},[s("h3",[e._v("سەرجەم :")])]),s("td",{staticClass:"text-center green white--text font-weight-bold"},[s("h3",[e._v(e._s(e.total.toLocaleString()))])]),s("td"),s("td")])],2)]},proxy:!0}])}),s("br"),s("v-form",{ref:"listForm",on:{submit:function(e){e.preventDefault()}}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[s("v-autocomplete",{attrs:{filter:e.filterObject,label:"باڕکۆد",items:e.items,"item-text":"itemName","item-value":"itemID","search-input":e.searches.iSearch,"return-object":"",outlined:"",dense:"",rules:e.rules.item},on:{"update:searchInput":function(t){return e.$set(e.searches,"iSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"iSearch",t)},change:function(t){return e.selectItem()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addItemBarcode())}},model:{value:e.purchase_item.item,callback:function(t){e.$set(e.purchase_item,"item",t)},expression:"purchase_item.item"}})],1)],1),s("v-btn",{attrs:{color:e.purchase.purchaseID?"warning":"success"},on:{click:function(t){e.purchase.purchaseID?e.update():e.submit()}}},[s("v-icon",[e._v(e._s(e.purchase.purchaseID?"mdi-content-save-outline":"mdi-plus"))]),e._v(" "+e._s(e.purchase.purchaseID?"نوێکردنەوە":"زیادکردنی کڕین "))],1)],1)],1)],1)],1)],1)}),as=[],rs=s("3835"),os=s("5530"),ls=(s("8ba4"),s("2ca0"),{data:function(){return{loading:!1,suppliers:[],menues:{menue1:!1},searches:{sSearch:"",iSearch:""},PurchaseStatus:[{name:"وەرگیراو",value:"recived"},{name:"لە چاوەڕوانیدایە",value:"pending"},{name:"کڕدراوە",value:"ordered"}],paymentTypes:[{name:"کاش",value:"c"},{name:"قەرز",value:"d"}],debtStatus:[{name:"دراوە",value:1},{name:"نەدراوە",value:0}],stockTypes:[{name:"کڕین",value:"p"},{name:"گەڕاندنەوە",value:"rp"}],items:[],purchase:{supplierID:0,referenceNo:0,shipingCost:0,amountPay:0,discount:0,PurchaseStatus:"recived",paymentType:"c",debtStatus:0,stockType:"p",purchase_items:[]},purchase_item:{itemID:0,costPrice:0,qty:0,discount:0,costAfterDisc:0,expiryDate:(new Date).toISOString().split("T")[0],item:{itemID:0}},rules:{supplier_rule:[function(e){return null!=e&&""!=e||"تکایە  کۆمپانیا هەڵبژێرە"}],referenceNo:[function(e){return null!=e&&Number(e)>0||"تکایە ژمارەی وەسڵ داخڵ بکە"}],costPrice:[function(e){return null!=e&&Number(e)>0||"تکایە نرخ بە دروستی داخڵ بکە"}],qty:[function(e){return null!=e&&Number(e)>0||"تکایە دانە بە دروستی داخڵ بکە"}],discount:[function(e){return null!=e&&Number(e)>=0||"تکایە داشکاندن بە دروستی داخڵ بکە"}],item:[function(e){return null!=e&&e!={}||"تکایە مەواد بە دروستی داخڵ بکە"}],expiryDate:[function(e){return null!=e&&""!=e||"تکایە بەروار بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},computed:{total:function(){var e=0;return this.purchase.purchase_items.forEach((function(t){return e+=t.qty*t.costAfterDisc})),e}},mounted:function(){var e=this;this.emitter.$on("openPurchase",(function(t){e.suppliers.push(Object(os["a"])({},t.suppliers)),e.purchase=Object(os["a"])({},t),e.purchase.purchase_items.forEach((function(e){e.itemPriceRetail=e.item.itemPriceRetail,e.costPrice=e.item.costPrice,e.itemID=e.item.itemID,e.total=e.qty*e.costAfterDisc,e.expiryDate=new Date(e.expiryDate).toISOString().split("T")[0],e.menu=!1}))})),this.emitter.$on("closePurchase",(function(){return e.clearFields(!0)}))},methods:{getSuplliers:function(){var e=this;this.$http.get("/purchase/getSupplier",{params:{name:this.searches.sSearch}}).then((function(t){var s=t.data;e.suppliers=s}))},getItems:function(){var e=this;this.$http.get("/purchase/getItems",{params:{name:this.searches.iSearch}}).then((function(t){var s=t.data;e.items=s}))},selectItem:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.purchase_item.itemPriceRetail=e.purchase_item.item.itemPriceRetail,e.purchase_item.costPrice=e.purchase_item.item.costPrice,e.purchase_item.itemID=e.purchase_item.item.itemID,e.purchase_item.total=e.purchase_item.qty*e.purchase_item.costAfterDisc,e.purchase_item.menu=!1,t.next=7,e.purchase.purchase_items.filter((function(t){return t.itemID===e.purchase_item.itemID}));case 7:s=t.sent,0===s.length?(e.purchase.purchase_items.push(Object(os["a"])({},e.purchase_item)),e.clearFields()):(e.emitter.$emit("notify",{type:"error",text:"ئەم مەوادە زیادکراوە"}),e.clearFields());case 9:case"end":return t.stop()}}),t)})))()},addItemBarcode:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Number.isInteger(Number(e.searches.iSearch))){t.next=7;break}return t.next=3,e.items.filter((function(t){return Number(t.itemCode)===Number(e.searches.iSearch)}));case 3:s=t.sent,i=Object(rs["a"])(s,1),n=i[0],n?(e.purchase_item.item=n,e.selectItem()):e.clearFields();case 7:case"end":return t.stop()}}),t)})))()},deleteItem:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(Object(f["a"])(regeneratorRuntime.mark((function s(){var i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.purchaseID){s.next=7;break}return i=Object(os["a"])({},e),i.stockType=t.purchase.stockType,s.next=5,t.$http.delete("/purchase/deleteItem",{data:i}).then((function(s){var i=s.data;i.force?(t.emitter.$emit("deletePurchase",t.purchase.purchaseID),t.emitter.$emit("notify",{type:"success",text:"زانیاری ئەم وەسڵە سڕایەوە"}),t.clearFields(!0)):(t.emitter.$emit("notify",{type:"success",text:"کاڵاکە سڕایەوە"}),t.purchase.purchase_items=t.purchase.purchase_items.filter((function(t){return t.itemID!=e.itemID})))})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"})}));case 5:s.next=8;break;case 7:t.purchase.purchase_items=t.purchase.purchase_items.filter((function(t){return t.itemID!=e.itemID}));case 8:case"end":return s.stop()}}),s)}))));case 1:case"end":return s.stop()}}),s)})))()},submit:function(){var e=this;if(this.$refs.formPurchase.validate()){var t=Object(os["a"])({},this.purchase);t.purchase_items.forEach((function(e){delete e.item,delete e.menu,delete e.total,t.totalPrice=e.costAfterDisc*e.qty})),this.$http.post("/purchase",{data:t}).then((function(){e.emitter.$emit("notify",{type:"success",text:"کڕینەکە زیادکرا"}),e.clearFields(!0),e.emitter.$emit("addPurchase")})).catch((function(){return e.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا!"})}))}},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},updateItem:function(e){var t=this,s=e;s.stockType=this.purchase.stockType,s.total=this.total,delete s.item,delete s.total,delete s.menu,this.$http.patch("/purchase/updateItem",{data:s}).then((function(){return t.emitter.$emit("notify",{type:"success",text:"زانیارییەکان نوێکرانەوە"})})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"})}))},insertItem:function(e){var t=this;if(e.qty<0)this.emitter.$emit("notify",{type:"error",text:"تکایە ژمارەی دانەکان دیاریبکە"});else{var s=Object(os["a"])({},e);delete s.item,delete s.menu,delete s.total,s.purchaseID=this.purchase.purchaseID,s.stockType=this.purchase.stockType,this.$http.post("purchase/addItem",{itemm:s}).then((function(){e.purchaseID=t.purchase.purchaseID,t.emitter.$emit("notify",{type:"success",text:"کاڵاکە زیادکرا"})})).catch((function(){return t.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"})}))}},update:function(){var e=this;if(this.$refs.formPurchase.validate()){var t=Object(os["a"])({},this.purchase);delete t.purchase_items,delete t.suppliers,this.$http.patch("purchase/updatePurchase",{data:t}).then((function(){e.clearFields(!0),e.emitter.$emit("notify",{type:"success",text:"وەسڵەکە نوێکرایەوە "}),e.emitter.$emit("updatePurchase")})).catch((function(){return e.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"})}))}},changeAfterDis:function(e){e.costAfterDisc=e.costPrice-e.discount,e.total=e.costAfterDisc*e.qty},clearFields:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.purchase_item.costPrice=0,this.purchase_item.item={itemID:0},this.purchase_item.discount=0,this.purchase_item.expiryDate=(new Date).toISOString().split("T")[0],this.purchase_item.qty=0,this.purchase_item.discount=0,this.purchase_item.costAfterDisc=0,this.purchase_item.itemID=0,this.$refs.listForm.resetValidation(),e&&(this.purchase.purchaseID=null,this.purchase.purchase_items=[],this.purchase.discount=0,this.purchase.amountPay=0,this.purchase.note="",this.purchase.supplierID=0,this.purchase.referenceNo=0,this.$refs.formPurchase.resetValidation())},setFocus:function(e){document.getElementById(e).focus()},clearExpense:function(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()}},watch:{"searches.sSearch":function(){this.getSuplliers()},"searches.iSearch":function(){this.getItems()}},beforeDestroy:function(){this.emitter.$off("closePurchase")}}),cs=ls,us=s("c6a6"),ds=s("ce87"),ms=Object(l["a"])(cs,ns,as,!1,null,null,null),ps=ms.exports;u()(ms,{VAutocomplete:us["a"],VBtn:$["a"],VCol:N["a"],VContainer:fe["a"],VForm:B["a"],VHover:ds["a"],VIcon:w["a"],VRow:P["a"],VSelect:Oe["a"],VSimpleTable:A["a"],VTextField:F["a"],VTextarea:Ue["a"]});var vs={name:"Purchases",components:{formPurchase:ps},data:function(){return{dialog:!1,table:{page:1,numberOfPurchase:0},purchases:[]}},methods:{getPurchases:function(){var e=this;this.$http.get("/purchase",{params:{page:this.table.page}}).then(function(){var t=Object(f["a"])(regeneratorRuntime.mark((function t(s){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=s.data,t.next=3,i.purchases.forEach((function(t,s){t.index=20*(e.table.page-1)+s+1}));case 3:e.purchases=i.purchases,e.table.numberOfPurchase=i.nop;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getPurchase:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:t.$http.get("/purchase/"+e).then((function(e){var s=e.data;t.dialog=!0,t.emitter.$emit("openPurchase",s)}));case 1:case"end":return s.stop()}}),s)})))()}},created:function(){this.getPurchases()},mounted:function(){var e=this;this.emitter.$on("deletePurchase",(function(t){e.purchases=e.purchases.filter((function(e){return e.purchaseID!=t})),e.dialog=!1})),this.emitter.$on("updatePurchase",(function(){e.dialog=!1,e.getPurchases()})),this.emitter.$on("addPurchase",(function(){return e.getPurchases()}))},computed:{headers:function(){return[{text:"#",value:"index",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"ژمارەی وەصل",value:"referenceNo",align:"center",sortable:!0},{text:"کۆی گشتی",value:"totalPrice",align:"center",sortable:!0},{text:"جۆری کڕین",value:"paymentType",align:"center",sortable:!1},{text:"جۆری وەصل",value:"purchaseStatus",align:"center",sortable:!1},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردار",value:"actions",align:"center",sortable:!1}]}},watch:{"table.page":function(){this.getPurchases()}},beforeDestroy:function(){this.emitter.$off("openPurchase"),this.emitter.$off("deletePurchase"),this.emitter.$off("updatePurchase"),this.emitter.$off("addPurchase")}},hs=vs,fs=Object(l["a"])(hs,ss,is,!1,null,null,null),gs=fs.exports;u()(fs,{VAlert:S["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VHover:ds["a"],VIcon:w["a"],VPagination:L["a"],VRow:P["a"],VSpacer:De["a"]}),_e()(fs,{Ripple:je["a"]});var bs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeDisposal"),expression:"emitter.$emit('closeDisposal')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.disposal,callback:function(t){e.$set(e.sheets,"disposal",t)},expression:"sheets.disposal"}},[s("v-sheet",{staticClass:"pa-3"},[s("formDisposal")],1)],1):s("v-dialog",{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی تەلەف ")],1)]}}],null,!1,1542061410),model:{value:e.dialogs.disposal,callback:function(t){e.$set(e.dialogs,"disposal",t)},expression:"dialogs.disposal"}},[s("v-card",[s("v-card-title",[s("span",[e._v("تۆمارکردنی (تەلەف - ونبوو - شکاو)")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeDisposal"),e.dialogs.disposal=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formDisposal")],1)],1)],1)],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headers,items:e.disposals,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە....","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costPrice)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(i.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDisposal(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteDisposal(i.disposalID,i.itemID)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)])]}}])}),s("notification")],1)},xs=[],ys=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDisposal",on:{submit:function(e){e.preventDefault()}}},[e.singleDisposal.disposalID?s("v-text-field",{attrs:{outlined:"",dense:"",label:"ناوی کاڵا",readonly:""},model:{value:e.singleDisposal.itemName,callback:function(t){e.$set(e.singleDisposal,"itemName",t)},expression:"singleDisposal.itemName"}}):s("v-autocomplete",{attrs:{outlined:"",dense:"","search-input":e.search,items:e.items,"item-text":"itemName","item-value":"itemID",filter:e.filterObject},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getItemID()}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=i.itemName,e.getItemID()}}},[e._v(" "+e._s(i.itemName)+" ")])]}}],null,!1,1751291520)}),s("v-text-field",{attrs:{label:"نرخی کڕین",readonly:"",dense:"",outlined:"",type:"number"},model:{value:e.singleDisposal.costPrice,callback:function(t){e.$set(e.singleDisposal,"costPrice",e._n(t))},expression:"singleDisposal.costPrice"}}),s("v-text-field",{attrs:{label:"دانە",dense:"",outlined:"",type:"number",id:"qty",rules:e.rules.qty},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("expiryDate")}},model:{value:e.singleDisposal.qty,callback:function(t){e.$set(e.singleDisposal,"qty",e._n(t))},expression:"singleDisposal.qty"}})],1),e.singleDisposal.disposalID?s("v-btn",{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateDisposal()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{attrs:{color:"success",block:""},on:{click:function(t){return e.addDisposal()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},Ds=[],Is=(s("841c"),{data:function(){return{lodings:{addDisposal:!1,updateDisposal:!1,deleteDisposal:!1},singleDisposal:{disposalID:null,itemID:null,itemName:null,costPrice:0,qty:0},menu2:!1,barcode:null,userID:null,rules:{itemCode:[function(e){return null!=e&&e.length>0||"تکایە بارکۆد دیاری بکە"}],qty:[function(e){return null!=e&&e>0||"تکایە دانە دیاری بکە"}]},search:null,items:[]}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}))},mounted:function(){var e=this;this.emitter.$on("openDisposal",(function(t){e.singleDisposal.disposalID=t.disposalID,e.singleDisposal.itemID=t.itemID,e.singleDisposal.itemName=t.itemName,e.singleDisposal.costPrice=t.costPrice,e.singleDisposal.qty=t.qty})),this.emitter.$on("closeDisposal",(function(){e.clearDisposal()}))},methods:{setFocus:function(e){document.getElementById(e).focus()},addDisposal:function(){var e=this;this.$refs.formDisposal.validate()&&(this.lodings.addDisposal=!0,this.$http.post("/item/addDisposal",{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),e.emitter.$emit("disposalAdded",{disposalID:s.disposalID,itemID:e.singleDisposal.itemID,itemCode:e.items.find((function(t){return t.itemID==e.singleDisposal.itemID})).itemCode,itemName:e.items.find((function(t){return t.itemID==e.singleDisposal.itemID})).itemName,costPrice:e.singleDisposal.costPrice,qty:e.singleDisposal.qty,expiryDate:e.singleDisposal.expiryDate}),e.clearDisposal()})).finally((function(){e.lodings.addDisposal=!1})))},updateDisposal:function(){var e=this;this.$refs.formDisposal.validate()&&(this.lodings.updateDisposal=!0,this.$http.patch("/item/updateDisposal/"+this.singleDisposal.disposalID,{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("disposalUpdated",{disposalID:e.singleDisposal.disposalID,costPrice:e.singleDisposal.costPrice,qty:e.singleDisposal.qty})})).finally((function(){e.lodings.updateDisposal=!1})))},clearDisposal:function(){this.singleDisposal.disposalID=null,this.search=null,this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0,this.singleDisposal.qty=0,this.singleDisposal.expiryDate=null,this.items=[],this.$refs.formDisposal.resetValidation()},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},getItemID:function(){var e=this,t=this.items.find((function(t){return t.itemCode==e.search||t.itemName==e.search}));t?(this.singleDisposal.itemID=t.itemID,this.search=t.itemName,this.singleDisposal.costPrice=t.costPrice):(this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0)}},watch:{search:function(){var e=this;this.search?this.$http.get("/item/getItem/"+this.search).then((function(t){var s=t.data;e.items=s})):this.items=[]}},beforeDestroy:function(){this.emitter.$off("openDisposal"),this.emitter.$off("closeDisposal")}}),_s=Is,ks=Object(l["a"])(_s,ys,Ds,!1,null,null,null),Cs=ks.exports;u()(ks,{VAutocomplete:us["a"],VBtn:$["a"],VForm:B["a"],VIcon:w["a"],VTextField:F["a"]});var Ss={name:"Disposals",components:{formDisposal:Cs},data:function(){return{dialogs:{disposal:!1},sheets:{disposal:!1},loadings:{table:!1},disposals:[],userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userName=s.userName})),this.getDisposals()},mounted:function(){var e=this;this.emitter.$on("disposalAdded",(function(t){e.disposals.unshift({disposalID:t.disposalID,itemID:t.itemID,itemCode:t.itemCode,itemName:t.itemName,costPrice:t.costPrice,userName:e.userName,qty:t.qty,createAt:(new Date).toISOString().split("T")[0]})})),this.emitter.$on("disposalUpdated",(function(t){var s=e.disposals.findIndex((function(e){return e.disposalID=t.disposalID}));e.disposals[s].costPrice=t.costPrice,e.disposals[s].qty=t.qty}))},methods:{getDisposals:function(){var e=this;this.loadings.table=!0,this.$http.get("/item/disposalToday").then((function(t){var s=t.data;e.disposals=s})).finally((function(){e.loadings.table=!1}))},getDisposal:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.disposal=!0,s.next=7;break;case 6:t.dialogs.disposal=!0;case 7:t.emitter.$emit("openDisposal",{disposalID:e.disposalID,itemID:e.itemID,itemName:e.itemName,costPrice:e.costPrice,qty:e.qty});case 8:case"end":return s.stop()}}),s)})))()},deleteDisposal:function(e,t){var s=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then((function(){var i=s.disposals.findIndex((function(t){return t.disposalID==e}));s.$http.delete("/item//deleteDisposal/"+e+"/"+t).then((function(){s.disposals.splice(i,1)}))}))}},computed:{headers:function(){return[{text:"#",align:"center",sortable:!1},{text:"بارکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!1},{text:"نرخی کڕین",value:"costPrice",align:"center",sortable:!1},{text:"دانە",value:"qty",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!1},{text:"بەکار‌هێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy:function(){this.emitter.$off("disposalAdded"),this.emitter.$off("disposalUpdated")}},$s=Ss,Ns=Object(l["a"])($s,bs,xs,!1,null,null,null),ws=Ns.exports;u()(Ns,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"]}),_e()(Ns,{ClickOutside:ke["a"]});var Ps=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[i("v-container",{staticClass:"pt-1",style:"max-height: "+e.dynamicHeight+"px; max-height: "+e.dynamicHeight+"px; overflow-y: auto;"},[i("v-row",[i("v-col",{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[i("v-row",[i("v-col",{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2"}},[i("v-switch",{attrs:{label:"جوملە",inset:"",disabled:1==e.singleInvoice.sellStatus},model:{value:e.wholeSell,callback:function(t){e.wholeSell=t},expression:"wholeSell"}})],1),i("v-col",{attrs:{cols:"12",md:"3",lg:"3"}},[i("v-text-field",{attrs:{label:"ژ.وەصڵ",outlined:"",dense:"",success:"",loading:e.loadings.searchInvoice,clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getInvoice()},"click:clear":function(t){!e.singleInvoice.invoiceID||0!=e.singleInvoice.sellStatus||e.unsoldedInvoices.push(e.singleInvoice.invoiceID),e.clearInvoice()}},model:{value:e.searchInvoice,callback:function(t){e.searchInvoice=e._n(t)},expression:"searchInvoice"}})],1),i("v-col",{attrs:{cols:"12",md:"7",lg:"7"}},[i("v-autocomplete",{attrs:{label:"گەڕان",outlined:"",dense:"",items:e.items,loading:e.loadings.searchItem,filter:e.filterObject,id:"search-item","item-text":"itemName","item-value":"itemID","search-input":e.search},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setItem()}},scopedSlots:e._u([{key:"item",fn:function(t){var s=t.item;return[i("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=s.itemName,e.setItem()}}},[e._v(" "+e._s(s.itemName)+" ")])]}}])})],1)],1),i("v-select",{attrs:{label:"جۆرەکان",outlined:"",dense:"",clearable:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID"},model:{value:e.categoryID,callback:function(t){e.categoryID=t},expression:"categoryID"}})],1),e._l(e.buttonItems,(function(t){return i("v-col",{key:t.itemID,attrs:{cols:"12",md:"2",xl:"2"}},[i("v-card",{staticClass:"pa-1",attrs:{elevation:"2",disabled:1==e.singleInvoice.sellStatus},on:{click:function(s){e.search=t.itemCode,e.setItem()}}},[i("v-img",{attrs:{src:"/item/image/"+(t.image||"default.jpg"),contain:"",height:"95px"}}),i("v-divider",{staticClass:"my-1"}),i("div",{staticStyle:{height:"75px"}},[i("small",{staticClass:"font-weight-bold"},[e._v(" "+e._s(t.itemName.length>36?t.itemName.substring(0,36)+"...":t.itemName)+" ")])]),i("v-chip",{attrs:{color:"primary",label:"",outlined:"",small:"",dir:"ltr"}},[e._v(" "+e._s((e.wholeSell?t.itemPriceWhole:t.itemPriceRetail).toLocaleString())+" IQD ")])],1)],1)}))],2)],1)],1),i("v-divider",{attrs:{vertical:""}}),i("v-col",{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[i("v-container",{staticClass:"pt-0",attrs:{fluid:""}},[i("v-row",[i("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"5",xl:"5"}},[i("v-badge",{attrs:{color:"primary",content:e.customerDebt.toLocaleString()+" $",value:e.customerDebt,"offset-x":9*e.customerDebt.toString().length,"offset-y":"12"}},[i("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,disabled:1==e.singleInvoice.sellStatus,"item-text":"customerName","item-value":"customerID"},model:{value:e.singleInvoice.customerID,callback:function(t){e.$set(e.singleInvoice,"customerID",t)},expression:"singleInvoice.customerID"}})],1)],1),i("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[i("v-select",{attrs:{label:"جۆر",outlined:"",dense:"",items:[{text:"فرۆشتن",value:"s"},{text:"گەڕاندنەوە",value:"rs"}],disabled:1==e.singleInvoice.sellStatus,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.stockType,callback:function(t){e.$set(e.singleInvoice,"stockType",t)},expression:"singleInvoice.stockType"}})],1),i("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[i("v-select",{attrs:{label:"فرۆشتن بە",outlined:"",dense:"",items:[{text:"کاش",value:"c"},{text:"قەرز",value:"d"}],disabled:1==e.singleInvoice.sellStatus,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.invoiceType,callback:function(t){e.$set(e.singleInvoice,"invoiceType",t)},expression:"singleInvoice.invoiceType"}})],1),e.unsoldedInvoices.length>0&&!e.singleInvoice.invoiceID?i("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"1",xl:"1"}},[i("v-btn",{attrs:{color:"warning",block:"",fab:"",small:""},on:{click:function(t){e.searchInvoice=e.unsoldedInvoices.pop(),e.getInvoice()}}},[i("v-icon",[e._v(" mdi-alert-circle-outline ")])],1)],1):e._e(),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12"}},[i("v-simple-table",{staticClass:"text-center",attrs:{"fixed-header":"",height:e.dynamicHeight-255+"px"},scopedSlots:e._u([{key:"default",fn:function(){return[i("thead",[i("tr",[i("th",{staticClass:"text-center"},[e._v(" کاڵا ")]),i("th",{staticClass:"text-center"},[e._v(" خاوەندارێتی ")]),i("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),i("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" نرخ ")]),i("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" دانە ")]),i("th",{staticClass:"text-center"},[e._v(" کۆی نرخ ")]),0==e.singleInvoice.sellStatus?i("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")]):e._e()])]),i("tbody",e._l(e.invoiceItems,(function(t,s){return i("tr",{key:t.invdID},[i("td",[e._v(" "+e._s(t.itemName)+" ")]),i("td",[e._v(" "+e._s(t.shelfName)+" ")]),i("td",[e._v(" "+e._s(t.unitName)+" ")]),i("td",[0==e.singleInvoice.sellStatus?i("v-text-field",{attrs:{dense:"",type:"number"},on:{change:function(s){return e.changeProductPrice(t.invdID,t.productPrice)}},model:{value:e.invoiceItems[s].productPrice,callback:function(t){e.$set(e.invoiceItems[s],"productPrice",t)},expression:"invoiceItems[index].productPrice"}}):e._e()],1),i("td",[0==e.singleInvoice.sellStatus?i("v-text-field",{attrs:{dense:"",type:"number"},on:{change:function(s){return e.changeQty(t.invdID,t.qty)}},scopedSlots:e._u([t.qty>1?{key:"prepend-inner",fn:function(){return[i("v-btn",{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(i){return e.decreaseItem(t.invdID,s)}}},[i("v-icon",[e._v(" mdi-minus ")])],1)]},proxy:!0}:null,{key:"append",fn:function(){return[i("v-btn",{attrs:{icon:"","x-small":"",color:"success"},on:{click:function(i){return e.increaseItem(t.invdID,s)}}},[i("v-icon",[e._v(" mdi-plus ")])],1)]},proxy:!0}],null,!0),model:{value:e.invoiceItems[s].qty,callback:function(t){e.$set(e.invoiceItems[s],"qty",t)},expression:"invoiceItems[index].qty"}}):i("span",[e._v(" "+e._s(t.qty)+" ")])],1),i("td",[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" ")]),0==e.singleInvoice.sellStatus?i("td",[e.wholeSell?i("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(i){return e.openWholeSell(t.itemID,t.qty,t.invdID,s)}}},[i("v-icon",[e._v(" mdi-pencil ")])],1):e._e(),i("v-btn",{attrs:{color:"error",icon:""},on:{click:function(i){return e.deleteItem(t.invdID,t.itemID,s)}}},[i("v-icon",[e._v(" mdi-delete ")])],1)],1):e._e()])})),0)]},proxy:!0}])})],1),i("v-col",{attrs:{cols:"12"}},[i("v-chip",{staticClass:"text-center pt-0",staticStyle:{width:"100%","font-size":"24px"},attrs:{color:"success",large:"",label:""}},[e._v(" کۆی گشتی : "+e._s(e.getTotal.toLocaleString())+" $ ")])],1),i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[i("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",prefix:"$",type:"number"},model:{value:e.singleInvoice.discount,callback:function(t){e.$set(e.singleInvoice,"discount",e._n(t))},expression:"singleInvoice.discount"}})],1),i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[i("v-text-field",{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"$",type:"number"},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),0==e.singleInvoice.sellStatus?i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[i("v-btn",{attrs:{color:"primary",block:"",disabled:!e.singleInvoice.invoiceID,loading:e.loadings.sellInvoice},on:{click:function(t){return e.sellInvoice()}}},[i("v-icon",{attrs:{left:""}},[e._v(" fa fa-money-bill-wave ")]),e._v(" فرۆشتن ")],1)],1):i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"12"}},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[i("v-btn",{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateInvoice()}}},[i("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1),i("v-col",{attrs:{cols:"12",md:"6",lg:"6"}},[i("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){return e.printInvoice()}}},[i("v-icon",{attrs:{left:""}},[e._v(" mdi-printer ")]),e._v(" چاپکردن ")],1)],1)],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{persistent:"",width:"35%"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[i("v-card",[i("v-card-title",[i("span",[e._v(" زانیاری کاڵا ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){return e.closeWholeSell()}}},[i("v-icon",[e._v(" mdi-close ")])],1)],1),i("v-divider"),i("v-card-text",{staticClass:"mt-2"},[i("v-chip",{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی جوملە = "+e._s(e.wholeSellObj.itemPriceWhole.toLocaleString())+" $ ")]),i("v-chip",{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی مفرد = "+e._s(e.wholeSellObj.itemPriceRetail.toLocaleString())+" $ ")]),i("v-divider",{staticClass:"my-2"}),i("v-btn",{attrs:{color:"primary",block:"",loading:e.loadings.saveWholeSell},on:{click:function(t){return e.saveWholeSell()}}},[e._v(" گۆڕین بە فرۆشتنی جوملە ")])],1)],1)],1),i("v-dialog",{attrs:{width:"70%"},model:{value:e.dialogs.cashDiscount,callback:function(t){e.$set(e.dialogs,"cashDiscount",t)},expression:"dialogs.cashDiscount"}},[i("v-card",[i("v-card-title",[i("span",[e._v(" دراوەکان ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashDiscount=!1}}},[i("v-icon",[e._v(" mdi-close ")])],1)],1),i("v-divider"),i("v-card-text",{staticClass:"mt-2"},[i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"10"}},[i("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.discount=0):null}},model:{value:e.singleInvoice.discount,callback:function(t){e.$set(e.singleInvoice,"discount",e._n(t))},expression:"singleInvoice.discount"}})],1),i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"2"}},[i("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.discount=0}}},[e._v(" سفرکردنەوە ")])],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.discount+=100*e.$store.state.dollarPrice}}})],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.discount+=25e3}}})],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.discount+=1e4}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.discount+=5e3}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.discount+=1e3}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.discount+=250}}})],1)],1)],1)],1)],1)],1),i("v-dialog",{attrs:{width:"70%"},model:{value:e.dialogs.cashPayment,callback:function(t){e.$set(e.dialogs,"cashPayment",t)},expression:"dialogs.cashPayment"}},[i("v-card",[i("v-card-title",[i("span",[e._v(" دراوەکان ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashPayment=!1}}},[i("v-icon",[e._v(" mdi-close ")])],1)],1),i("v-divider"),i("v-card-text",{staticClass:"mt-2"},[i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"7"}},[i("v-text-field",{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.totalPay=0):null}},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"3"}},[i("v-alert",{attrs:{color:"success",outlined:"",dense:""}},[e._v(" باقی: "+e._s((e.singleInvoice.totalPay-e.getTotal).toLocaleString())+" ")])],1),i("v-col",{staticClass:"my-0 py-0",attrs:{cols:"2"}},[i("v-btn",{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.totalPay=0}}},[e._v(" سفرکردنەوە ")])],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.totalPay+=100*e.$store.state.dollarPrice}}})],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.totalPay+=25e3}}})],1),i("v-col",{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.totalPay+=1e4}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.totalPay+=5e3}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.totalPay+=1e3}}})],1),i("v-col",{attrs:{cols:"12",md:"4",xl:"4"}},[i("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.totalPay+=250}}})],1)],1)],1)],1)],1)],1),i("notification")],1)},Vs=[],Ts=(s("99af"),{name:"Invoice",data:function(){return{dialogs:{cashPayment:!1,cashDiscount:!1,itemDetail:!1},loadings:{searchInvoice:!1,saveWholeSell:!1,sellInvoice:!1,searchItem:!1},wholeSell:!1,customers:[],categories:[],items:[],buttonItems:[],categoryID:null,searchInvoice:null,singleInvoice:{invoiceID:null,customerID:1,totalPay:0,discount:0,dollarPrice:0,stockType:"s",sellStatus:"0",invoiceType:"c"},invoiceItems:[],wholeSellObj:{qtyWhole:0,perUnit:0,unit:null,invdID:null,index:null,itemPriceWhole:0,itemPriceRetail:0},customerDebt:0,unsoldedInvoices:[],userID:null,search:""}},created:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID}));case 2:e.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),e.$http.get("/essential/getCategories").then((function(t){var s=t.data;e.categories=s})),e.$http.get("/invoice/getUnsoldedInvoices/"+e.userID).then((function(t){var s=t.data;e.unsoldedInvoices=s}));case 5:case"end":return t.stop()}}),t)})))()},mounted:function(){document.getElementById("search-item").focus(),this.emitter.$emit("changeDrawer",!1)},methods:{closeWholeSell:function(){this.dialogs.itemDetail=!1,this.wholeSellObj.qtyWhole=0,this.wholeSellObj.perUnit=0,this.wholeSellObj.unit=null,this.wholeSellObj.invdID=null,this.wholeSellObj.itemPriceWhole=0,this.wholeSellObj.itemPriceRetail=0,this.wholeSellObj.index=null},filterObject:function(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},clearInvoice:function(){this.singleInvoice.invoiceID=null,this.singleInvoice.customerID=1,this.singleInvoice.totalPay=0,this.singleInvoice.discount=0,this.singleInvoice.dollarPrice=0,this.singleInvoice.stockType="s",this.singleInvoice.sellStatus="0",this.singleInvoice.invoiceType="c",this.invoiceItems=[],this.searchInvoice=null},setItem:function(){var e=this;0==this.singleInvoice.sellStatus?this.search&&(this.loadings.searchItem=!0,this.$http.post("/invoice/addInvoice",{search:this.search,invoiceID:this.singleInvoice.invoiceID,customerID:this.singleInvoice.customerID,dollarPrice:this.$store.state.dollarPrice,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,wholeSell:this.wholeSell}).then((function(t){var s=t.data;if("Invoice Created"==s.message)e.singleInvoice.invoiceID=s.invoiceID,e.searchInvoice=s.invoiceID,e.invoiceItems.unshift({invdID:s.invdID,itemID:s.itemID,itemName:s.itemName,qty:s.qty,productPrice:s.productPrice,shelfName:s.shelfName,unitName:s.unitName});else if("Item Added"==s.message)e.invoiceItems.unshift({invdID:s.invdID,itemID:s.itemID,itemName:s.itemName,qty:s.qty,productPrice:s.productPrice,shelfName:s.shelfName,unitName:s.unitName});else if("Item Updated"==s.message){var i=e.invoiceItems.findIndex((function(e){return e.itemID==s.itemID}));e.invoiceItems[i].qty+=s.qty}})).catch((function(t){e.emitter.$emit("notify",{type:"warning",text:t.response.data.message})})).finally((function(){e.loadings.searchItem=!1,e.search=null}))):this.emitter.$emit("notify",{type:"warning",text:"ئەم وەصڵە فرۆشراوە"})},getInvoice:function(){var e=this;this.searchInvoice?(this.loadings.searchInvoice=!0,this.$http.get("/invoice/searchInvoice/"+this.searchInvoice).then((function(t){var s=t.data;e.singleInvoice.invoiceID=e.searchInvoice,e.singleInvoice.customerID=s.invoice.customerID,e.singleInvoice.totalPay=s.invoice.totalPay,e.singleInvoice.discount=s.invoice.discount,e.singleInvoice.stockType=s.invoice.stockType,e.singleInvoice.sellStatus=s.invoice.sellStatus,e.singleInvoice.invoiceType=s.invoice.invoiceType,e.invoiceItems=s.invoiceItems})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loadings.searchInvoice=!1}))):this.emitter.$emit("notify",{type:"warning",text:"ژمارەی وەصڵ داخڵ بکە"})},increaseItem:function(e,t){var s=this;this.$http.patch("/invoice/increaseItem/"+e).then((function(){var e=Number(s.invoiceItems[t].qty);s.invoiceItems[t].qty=e+1}))},decreaseItem:function(e,t){var s=this;this.$http.patch("/invoice/decreaseItem/"+this.singleInvoice.invoiceID+"/"+e).then((function(){s.invoiceItems[t].qty-=Number(1)}))},changeQty:function(e,t){var s=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.$http.patch("/invoice/changeQty/"+e,{qty:t});case 2:case"end":return i.stop()}}),i)})))()},changeProductPrice:function(e,t){var s=this;return Object(f["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,s.$http.patch("/invoice/changeProductPrice/"+e,{productPrice:t});case 2:case"end":return i.stop()}}),i)})))()},deleteItem:function(e,t,s){var i=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then((function(){i.$http.delete("/invoice/deleteItem/".concat(i.singleInvoice.invoiceID,"/").concat(e,"/").concat(i.singleInvoice.stockType,"/").concat(t)).then((function(e){var t=e.data;"Item Deleted"==t.message?i.invoiceItems.splice(s,1):"Invoice Deleted"==t.message&&i.clearInvoice()}))}))},openWholeSell:function(e,t,s,i){var n=this;this.$http.get("/item/getUnitInfo/"+e).then((function(e){var a=e.data;n.wholeSellObj.unit=a.unit,n.wholeSellObj.perUnit=a.perUnit,n.wholeSellObj.qtyWhole=t/a.perUnit,n.wholeSellObj.invdID=s,n.wholeSellObj.index=i,n.wholeSellObj.itemPriceWhole=a.itemPriceWhole,n.wholeSellObj.itemPriceRetail=a.itemPriceRetail,n.dialogs.itemDetail=!0}))},saveWholeSell:function(){var e=this;this.loadings.saveWholeSell=!0,this.$http.patch("/invoice/changePricetoWhole/"+this.wholeSellObj.invdID,{itemPriceWhole:this.wholeSellObj.itemPriceWhole}).then((function(){e.invoiceItems[e.wholeSellObj.index].productPrice=e.wholeSellObj.itemPriceWhole})).finally((function(){return e.loadings.saveWholeSell=!1}))},sellInvoice:function(){var e=this;this.loadings.sellInvoice=!0,this.$http.patch("/invoice/sellInvoice/"+this.singleInvoice.invoiceID,{customerID:this.singleInvoice.customerID,totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay,discount:this.singleInvoice.discount,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType}).then((function(){e.singleInvoice.sellStatus=1,e.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی فرۆشرا"}),window.open("/printA4/"+e.singleInvoice.invoiceID),e.clearInvoice(),document.getElementById("search-item").focus()})).finally((function(){return e.loadings.sellInvoice=!1}))},printInvoice:function(){window.open("/printA4/"+this.singleInvoice.invoiceID)},updateInvoice:function(){var e=this;this.$confirm("دڵنیای لە گۆڕانکاری ئەم وەصڵە ؟","","question").then((function(){e.$http.patch("/invoice/updateInvoice/"+e.singleInvoice.invoiceID,{totalPrice:e.getTotal,totalPay:e.singleInvoice.totalPay,discount:e.singleInvoice.discount}).then((function(){e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}))}))}},computed:{dynamicHeight:function(){return window.innerHeight-80},getTotal:function(){var e=this.invoiceItems.reduce((function(e,t){return e+t.qty*t.productPrice}),0);return e-this.singleInvoice.discount}},watch:{categoryID:function(){var e=this;this.categoryID?(this.buttonItems=[],this.$http.get("/item/getButtonItems/"+this.categoryID).then((function(t){var s=t.data;e.buttonItems=s}))):this.buttonItems=[]},search:function(){var e=this;this.search?this.$http.get("/item/getItem/"+this.search).then((function(t){var s=t.data;e.items=s})):this.items=[]},getTotal:function(){"c"==this.singleInvoice.invoiceType&&(this.singleInvoice.totalPay=this.getTotal)},"singleInvoice.customerID":function(e){var t=this;1==e?this.customerDebt=0:(this.customerDebt=0,this.$http.get("/customer/getCustomerDebtForInvoice/"+e).then((function(e){var s=e.data;t.customerDebt=s.totalRemain})))},"singleInvoice.invoiceType":function(e){this.singleInvoice.totalPay="d"==e?0:this.getTotal}}}),Rs=Ts,Es=s("4ca6"),Os=s("b73d"),Us=Object(l["a"])(Rs,Ps,Vs,!1,null,null,null),Bs=Us.exports;u()(Us,{VAlert:S["a"],VAutocomplete:us["a"],VBadge:Es["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VChip:he["a"],VCol:N["a"],VContainer:fe["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VImg:Ee["a"],VRow:P["a"],VSelect:Oe["a"],VSimpleTable:A["a"],VSpacer:De["a"],VSwitch:Os["a"],VTextField:F["a"]}),_e()(Us,{Ripple:je["a"]});var Ls=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"cyan darken-4",icon:"mdi-archive",text:"کۆی کاڵاکان",data:e.countItemByStock}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"blue-grey",icon:"mdi-chart-scatter-plot-hexbin",text:"کۆی دانەی ناو مەخزەن",data:e.totalQtyItemByStock}})],1),s("v-divider",{attrs:{vertical:""}}),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-1",icon:"mdi-cart-arrow-down",text:"کۆی هاتووی ئەمڕۆ",data:e.inToStock}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"red darken-2",icon:"mdi-cart-arrow-up",text:"کۆی ڕۆیشتووی ئەمڕۆ",data:e.outFromStock}})],1),s("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[s("v-card",[s("v-card-title",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[s("v-text-field",{staticStyle:{"margin-top":"-26px"},attrs:{dense:"",outlined:"","append-icon":"mdi-magnify",label:"گەڕان بە پێی بارکۆد و ناو .....","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[s("v-select",{attrs:{label:"مەخزەن",dense:"",outlined:"",items:e.stocks,"item-text":"unitName","item-value":"unitName"},model:{value:e.searchStockName,callback:function(t){e.searchStockName=t},expression:"searchStockName"}})],1),s("v-spacer"),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:e.generatePDFStock}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{dense:"",headers:e.headers,items:e.filterStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]},search:e.search,loading:e.loadings.item,"loading-text":"تکایە چاوەروانبە....","item-key":"itemID"},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.purchased)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.returnPurchase)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.sold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.returnSold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.disposal)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.unitName)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{small:"",color:i.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(i.totalInStock)+" ")])],1),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){e.getItemDetail(i.itemID),e.dialogs.itemDetail=!0}}},[s("v-icon",[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1),s("v-row",[s("v-dialog",{attrs:{width:"1525px"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v("وردەکاری کاڵا : ")])]),s("v-card-text",[s("v-data-table",{attrs:{dense:"",headers:e.itemDetailHeaders,items:e.itemDetail,loading:e.loadings.itemDetail,"loading-text":"تکایە چاوەروانبە ....","hide-default-footer":""},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.purchased)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.returnPurchase)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.sold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.returnSold)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.disposal)+" ")]),s("td",{staticClass:"text-center"},[s("v-chip",{attrs:{small:"",color:i.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(i.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1)},As=[],Fs=(s("466d"),s("8baf")),js=(s("0da4"),{components:{card:T},data:function(){return{search:"",items:[],itemDetail:[],stocks:[],searchStockName:"",loadings:{item:!1,itemDetail:!1},dialogs:{itemDetail:!1},numberOfItems:0,numberOfAllQtyItems:0,inToStock:0,outFromStock:0}},created:function(){var e=this;this.getStockItem(),this.$http.get("/essential/getUnits").then((function(t){var s=t.data;e.stocks=s})),this.$http.get("/item//countAllItems").then((function(t){var s=t.data;e.numberOfItems=s.numberOfItems,e.numberOfAllQtyItems=s.numberOfAllQtyItems,e.inToStock=s.inToStock,e.outFromStock=s.outFromStock}))},methods:{getItemDetail:function(e){var t=this;this.$http.get("/item/inStockDeatil/"+e).then((function(e){var s=e.data;t.itemDetail=s}))},generatePDFStock:function(){var e=[{title:"Barcode",dataKey:"itemCode"},{title:"Item Name",dataKey:"itemName"},{title:"Total Purchased",dataKey:"purchased"},{title:"Total Sold",dataKey:"sold"},{title:"Total Disposal",dataKey:"disposal"},{title:"In Stock",dataKey:"totalInStock"}],t=new Fs["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.items}),t.save("stock-"+(new Date).toISOString().split("T")[0]+".pdf")},getStockItem:function(){var e=this;this.$http.get("/item/inStock").then((function(t){var s=t.data;e.items=s}))}},computed:{headers:function(){return[{text:"بارکۆد",align:"center",sortable:!0,value:"itemCode"},{text:"ناوی کاڵا",align:"center",sortable:!0,value:"itemName"},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"مەخزەن",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},itemDetailHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1}]},filterStock:function(){var e=this;return this.items.filter((function(t){return t.unitName.toString().match(e.searchStockName||"")}))},totalQtyItemByStock:function(){return this.filterStock.reduce((function(e,t){return e+t.totalInStock}),0)},countItemByStock:function(){return this.filterStock.length}}}),qs=js,Qs=Object(l["a"])(qs,Ls,As,!1,null,null,null),Ms=Qs.exports;u()(Qs,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VChip:he["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSelect:Oe["a"],VSpacer:De["a"],VTextField:F["a"]});var Ws=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[s("div",[s("v-card",[s("v-card-title",[s("span",[e._v("جوڵەی کاڵاکان : ")])]),s("apexchart",{attrs:{width:"340",type:"donut",options:e.options,series:e.series}})],1)],1)]),s("v-col",{attrs:{cols:"12",md:"3",xl:"4",sm:"6",xs:"12"}},[s("div",[s("v-card",[s("v-card-title",[e._v(" "+e._s("پڕفرۆشترینی مانگی - "+(new Date).toLocaleString("default",{month:"short"}))+" ")]),s("v-card-text",[s("v-data-table",{attrs:{id:"topSale",headers:e.topItemHeaders,items:e.topSale,"hide-default-footer":"",dense:""}}),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFTopSale()}}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)]),s("v-col",{attrs:{cols:"12",md:"6",xl:"6",sm:"6",xs:"12"}},[s("v-card",[s("v-card-title",[s("span",[e._v("کاڵا کەم فرۆشەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{headers:e.notSaleHeaders,items:e.notSale,dense:"","footer-props":{"items-per-page-options":[5]}}}),s("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFNotSale()}}},[s("v-icon",[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)],1)],1)},Hs=[],zs={data:function(){return{options:{series:[44,55,13,33],labels:["  -هاتوو","  -ڕۆیشتوو","  -تەلەفکراو"],plotOptions:{pie:{customScale:1,donut:{size:"70%"}}}},series:[],topSale:[],notSale:[]}},created:function(){var e=this;this.$http.get("/item/moveFromToInStock").then((function(t){var s=t.data;e.series[0]=s.inToStock||1,e.series[1]=s.outFromStock||1,e.series[2]=s.disposal||1,e.topSale=s.topSale,e.notSale=s.notSale}))},methods:{generatePDFTopSale:function(){var e=[{title:"Item name",dataKey:"itemName"},{title:"topSale",dataKey:"topSale"}],t=new Fs["default"]({orientation:"landscape",filters:["ASCIIHexEncode"]});t.autoTable({columnStyles:{margin:0},columns:e,body:this.topSale,margin:0}),t.save("topSale"+(new Date).toISOString().split("T")[0]+".pdf")},generatePDFNotSale:function(){var e=[{title:"Item Name",dataKey:"itemName"},{title:"Not Sale",dataKey:"notSale"}],t=new Fs["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.notSale}),t.save("notSale"+(new Date).toISOString().split("T")[0]+".pdf")}},computed:{topItemHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"کۆی فرۆشراو",align:"center",sortable:!1,value:"topSale"}]},notSaleHeaders:function(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"بڕی فرۆشراو",align:"center",sortable:!1,value:"notSale"}]}}},Ks=zs,Gs=Object(l["a"])(Ks,Ws,Hs,!1,null,null,null),Js=Gs.exports;u()(Gs,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VIcon:w["a"],VRow:P["a"]});var Xs=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomerDebt"),expression:"emitter.$emit('closeCustomerDebt')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[s("v-sheet",{staticClass:"pa-3"},[s("formCustomerDebt")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)]}}],null,!1,3615532712),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" گەڕانەوەی قەرز ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomerDebt"),e.dialogs.debt=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formCustomerDebt")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-bottom-sheet",{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[s("v-sheet",{staticClass:"pa-3"},[s("span",[e._v(" لیستی قەرزەکان ")]),s("v-btn",{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[s("v-icon",[e._v(" mdi-refresh ")])],1),s("v-divider",{staticClass:"my-3"}),s("v-text-field",{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),s("v-data-table",{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalRemainCustomer.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.customerName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.amountReturn.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},Ys=[],Zs=(s("a15b"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDebt"},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",disabled:e.singleDebt.rdcID,items:e.customers,"item-text":"customerName","item-value":"customerID",rules:e.rules.customer,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.customerID,callback:function(t){e.$set(e.singleDebt,"customerID",t)},expression:"singleDebt.customerID"}}),s("v-text-field",{attrs:{label:"بڕی وەرگیراو",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),s("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedInvoices.length>0?s("v-row",e._l(e.singleDebt.returnedInvoices,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-chip",{attrs:{label:"",color:"success"}},[e._v(" "+e._s(t)+" ")]),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deleteInvoice(t)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getInvoices?s("v-progress-circular",{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):s("v-row",e._l(e.invoiceNumbers,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-checkbox",{attrs:{label:t.toString(),value:t},model:{value:e.singleDebt.invoiceNumbers,callback:function(t){e.$set(e.singleDebt,"invoiceNumbers",t)},expression:"singleDebt.invoiceNumbers"}})],1)})),1),e.singleDebt.rdcID?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)],1)],1)}),ei=[],ti=s("2909"),si={data:function(){return{loadings:{addDebt:!1,updateDebt:!1,getInvoices:!1},customers:[],invoiceNumbers:[],singleDebt:{rdcID:null,customerID:null,amountReturn:0,discount:0,invoiceNumbers:[],returnedInvoices:[]},rules:{customer:[function(e){return null!=e||"تکایە کڕیارێک هەڵبژێرە"}],amountReturn:[function(e){return e>0||"تکایە بڕی وەرگیراو بە دروستی داخڵ بکە"}],discount:[function(e){return e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openCustomerDebt",(function(t){e.singleDebt.rdcID=t.rdcID,e.singleDebt.customerID=t.customerID,e.singleDebt.amountReturn=t.amountReturn,e.singleDebt.discount=t.discount,e.singleDebt.returnedInvoices=(t.invoiceNumbers||[]).split(",")})),this.emitter.$on("closeCustomerDebt",(function(){e.clearDebt()})),this.emitter.$on("setDebtCustomerID",(function(t){e.singleDebt.customerID=Number(t)})),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearDebt:function(){this.singleDebt.rdcID=null,this.singleDebt.customerID=null,this.singleDebt.amountReturn=0,this.singleDebt.discount=0,this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[],this.$refs.formDebt.resetValidation()},addDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/customer/addReturnDebt",{customerID:this.singleDebt.customerID,amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,invoiceNumbers:this.singleDebt.invoiceNumbers}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("customerDebtAdded",{rdcID:s.rdcID,customerID:e.singleDebt.customerID,customerName:e.customers.find((function(t){return t.customerID==e.singleDebt.customerID})).customerName,amountReturn:e.singleDebt.amountReturn,discount:e.singleDebt.discount,dollarPrice:e.$store.state.dollarPrice,invoiceNumbers:e.singleDebt.invoiceNumbers.join(","),userName:e.userName}),e.clearDebt()})).finally((function(){return e.loadings.addDebt=!1})))},updateDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/customer/updateReturnDebt/"+this.singleDebt.rdcID,{amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,invoiceNumbers:this.singleDebt.invoiceNumbers}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("customerDebtUpdated",{rdcID:e.singleDebt.rdcID,amountReturn:e.singleDebt.amountReturn,discount:e.singleDebt.discount,invoiceNumbers:s.newInvoices||e.singleDebt.returnedInvoices.join(",")}),e.singleDebt.returnedInvoices=[].concat(Object(ti["a"])(e.singleDebt.returnedInvoices),Object(ti["a"])(e.singleDebt.invoiceNumbers)),e.invoiceNumbers=e.invoiceNumbers.filter((function(t){return!e.singleDebt.invoiceNumbers.includes(t)})),e.singleDebt.invoiceNumbers=[]})).finally((function(){return e.loadings.updateDebt=!1})))},deleteInvoice:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then((function(){t.$http.delete("/customer/deleteInvoice/"+t.singleDebt.rdcID+"/"+e+"/"+t.userID).then((function(){t.singleDebt.returnedInvoices=t.singleDebt.returnedInvoices.filter((function(t){return t!=e})),t.invoiceNumbers.push(e),t.emitter.$emit("debtInvoiceDeleted",{rdcID:t.singleDebt.rdcID,invoiceNumbers:t.singleDebt.returnedInvoices})}))}))}},watch:{"singleDebt.customerID":function(){var e=this;this.singleDebt.customerID?(this.loadings.getInvoices=!0,this.$http.get("/customer/getDebtInvoices/"+this.singleDebt.customerID).then((function(t){var s=t.data;e.invoiceNumbers=s,0==s.length&&e.emitter.$emit("notify",{text:"ئەم کڕیارە هیچ وەصڵێکی قەرزی نییە"})})).finally((function(){return e.loadings.getInvoices=!1}))):(this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[])}},beforeDestroy:function(){this.emitter.$off("closeCustomerDebt"),this.emitter.$off("openCustomerDebt"),this.emitter.$off("setDebtCustomerID")}},ii=si,ni=s("490a"),ai=Object(l["a"])(ii,Zs,ei,!1,null,null,null),ri=ai.exports;u()(ai,{VBtn:$["a"],VCheckbox:Re["a"],VChip:he["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VProgressCircular:ni["a"],VRow:P["a"],VSelect:Oe["a"],VTextField:F["a"]});var oi={name:"customerDebts",components:{formCustomerDebt:ri},data:function(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created:function(){var e=this;this.$http.get("/customer/todayReturnDebt").then((function(t){var s=t.data;e.debts=s})),this.getDebtsList()},mounted:function(){var e=this;this.emitter.$on("customerDebtAdded",(function(t){e.debts.unshift(t)})),this.emitter.$on("customerDebtUpdated",(function(t){var s=e.debts.findIndex((function(e){return e.rdcID==t.rdcID}));e.debts[s].amountReturn=t.amountReturn,e.debts[s].discount=t.discount,e.debts[s].invoiceNumbers=t.invoiceNumbers})),this.emitter.$on("debtInvoiceDeleted",(function(t){var s=e.debts.findIndex((function(e){return e.rdcID==t.rdcID}));e.debts[s].invoiceNumbers=t.invoiceNumbers.join(",")})),this.$route.params.customerID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtCustomerID",this.$route.params.customerID))},methods:{getDebt:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.debt=!0,s.next=7;break;case 6:t.dialogs.debt=!0;case 7:t.emitter.$emit("openCustomerDebt",e);case 8:case"end":return s.stop()}}),s)})))()},getDebtsList:function(){var e=this;this.loadings.debtsList=!0,this.$http.get("/customer/getDebtsList").then((function(t){var s=t.data;e.debtsList=s})).finally((function(){return e.loadings.debtsList=!1}))}},computed:{headersReturnDebt:function(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"بڕی وەرگیراو",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList:function(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainCustomer",align:"center",sortable:!0}]}},beforeDestroy:function(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},li=oi,ci=Object(l["a"])(li,Xs,Ys,!1,null,null,null),ui=ci.exports;u()(ci,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(ci,{ClickOutside:ke["a"]});var di=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?s("v-bottom-sheet",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplierDebt"),expression:"emitter.$emit('closeSupplierDebt')"}],scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[s("v-sheet",{staticClass:"pa-3"},[s("formSupplierDebt")],1)],1):s("v-dialog",{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)]}}],null,!1,3615532712),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" گەڕانەوەی قەرز ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplierDebt"),e.dialogs.debt=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("formSupplierDebt")],1)],1)],1)],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[s("v-bottom-sheet",{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[s("v-btn",e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",n,!1),i),[s("v-icon",{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[s("v-sheet",{staticClass:"pa-3"},[s("span",[e._v(" لیستی قەرزەکان ")]),s("v-btn",{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[s("v-icon",[e._v(" mdi-refresh ")])],1),s("v-divider",{staticClass:"my-3"}),s("v-text-field",{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),s("v-data-table",{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalRemainSupplier.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),s("v-spacer"),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),s("v-divider",{staticClass:"mt-2"}),s("v-data-table",{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.amountReturn.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.userName)+" ")]),s("td",{staticClass:"text-center"},[s("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(i)}}},[s("v-icon",[e._v(" mdi-pencil ")])],1)],1)])]}}])}),s("notification")],1)},mi=[],pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-form",{ref:"formDebt"},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",disabled:null!=e.singleDebt.rdID,items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",rules:e.rules.supplier,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.supplierID,callback:function(t){e.$set(e.singleDebt,"supplierID",t)},expression:"singleDebt.supplierID"}}),s("v-text-field",{attrs:{label:"بڕی گەڕاوە بۆ کۆمپانیا",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),s("v-text-field",{attrs:{label:"وەصڵی گەڕانەوە",outlined:"",dense:""},model:{value:e.singleDebt.referenceNO,callback:function(t){e.$set(e.singleDebt,"referenceNO","string"===typeof t?t.trim():t)},expression:"singleDebt.referenceNO"}}),s("v-text-field",{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedPurchases.length>0?s("v-row",e._l(e.singleDebt.returnedPurchases,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-chip",{attrs:{label:"",color:"success"}},[e._v(" "+e._s(t)+" ")]),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(s){return e.deletePurchase(t)}}},[s("v-icon",[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getPurchases?s("v-progress-circular",{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):s("v-row",e._l(e.purchaseNumbers,(function(t){return s("v-col",{key:t,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[s("v-checkbox",{attrs:{label:t.toString(),value:t},model:{value:e.singleDebt.purchaseNumbers,callback:function(t){e.$set(e.singleDebt,"purchaseNumbers",t)},expression:"singleDebt.purchaseNumbers"}})],1)})),1),e.singleDebt.rdID?s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):s("v-btn",{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[s("v-icon",{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" گەڕانەوەی قەرز ")],1)],1)],1)},vi=[],hi={data:function(){return{loadings:{addDebt:!1,updateDebt:!1,getPurchases:!1},suppliers:[],purchaseNumbers:[],singleDebt:{rdID:null,supplierID:null,amountReturn:0,referenceNO:null,discount:0,purchaseNumbers:[],returnedPurchases:[]},rules:{supplier:[function(e){return null!=e||"تکایە کۆمپانیایەک هەڵبژێرە"}],amountReturn:[function(e){return e>0||"تکایە بڕی گەڕاوە بە دروستی داخڵ بکە"}],discount:[function(e){return e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"}]},userID:null,userName:""}},created:function(){var e=this;this.$http.post("/verifyToken").then((function(t){var s=t.data;e.userID=s.userID,e.userName=s.userName}))},mounted:function(){var e=this;this.emitter.$on("openSupplierDebt",(function(t){e.singleDebt.rdID=t.rdID,e.singleDebt.supplierID=t.supplierID,e.singleDebt.amountReturn=t.amountReturn,e.singleDebt.referenceNO=t.referenceNO,e.singleDebt.discount=t.discount,e.singleDebt.returnedPurchases=(t.purchaseNumbers||[]).split(",")})),this.emitter.$on("closeSupplierDebt",(function(){e.clearDebt()})),this.emitter.$on("setDebtSupplierID",(function(t){e.singleDebt.supplierID=Number(t)})),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},clearDebt:function(){this.singleDebt.rdID=null,this.singleDebt.supplierID=null,this.singleDebt.amountReturn=0,this.singleDebt.referenceNO=null,this.singleDebt.discount=0,this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[],this.$refs.formDebt.resetValidation()},addDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/supplier/addReturnDebt",{supplierID:this.singleDebt.supplierID,amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,purchaseNumbers:this.singleDebt.purchaseNumbers}).then((function(t){var s=t.data;e.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),e.emitter.$emit("supplierDebtAdded",{rdID:s.rdID,supplierID:e.singleDebt.supplierID,supplierName:e.suppliers.find((function(t){return t.supplierID==e.singleDebt.supplierID})).supplierName,amountReturn:e.singleDebt.amountReturn,referenceNo:e.singleDebt.referenceNo,discount:e.singleDebt.discount,dollarPrice:e.$store.state.dollarPrice,purchaseNumbers:e.singleDebt.purchaseNumbers.join(","),userName:e.userName}),e.clearDebt()})).finally((function(){return e.loadings.addDebt=!1})))},updateDebt:function(){var e=this;this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/supplier/updateReturnDebt/"+this.singleDebt.rdID,{amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,purchaseNumbers:this.singleDebt.purchaseNumbers}).then((function(t){var s=t.data;console.log(s.newPurchases),e.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),e.emitter.$emit("supplierDebtUpdated",{rdID:e.singleDebt.rdID,amountReturn:e.singleDebt.amountReturn,referenceNO:e.singleDebt.referenceNO,discount:e.singleDebt.discount,purchaseNumbers:s.newPurchases||e.singleDebt.returnedPurchases.join(",")}),e.singleDebt.returnedPurchases=[].concat(Object(ti["a"])(e.singleDebt.returnedPurchases),Object(ti["a"])(e.singleDebt.purchaseNumbers)),e.purchaseNumbers=e.purchaseNumbers.filter((function(t){return!e.singleDebt.purchaseNumbers.includes(t)})),e.singleDebt.purchaseNumbers=[]})).finally((function(){return e.loadings.updateDebt=!1})))},deletePurchase:function(e){var t=this;this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then((function(){t.$http.delete("/supplier/deletePurchase/"+t.singleDebt.rdID+"/"+e+"/"+t.userID).then((function(){t.singleDebt.returnedPurchases=t.singleDebt.returnedPurchases.filter((function(t){return t!=e})),t.purchaseNumbers.push(e),t.emitter.$emit("debtPurchaseDeleted",{rdID:t.singleDebt.rdID,purchaseNumbers:t.singleDebt.returnedPurchases})}))}))}},watch:{"singleDebt.supplierID":function(){var e=this;this.singleDebt.supplierID?(this.loadings.getPurchases=!0,this.$http.get("/supplier/getDebtPurchases/"+this.singleDebt.supplierID).then((function(t){var s=t.data;e.purchaseNumbers=s,0==s.length&&e.emitter.$emit("notify",{text:"ئەم کۆمپانیایە هیچ وەصڵێکی قەرزی نییە"})})).finally((function(){return e.loadings.getPurchases=!1}))):(this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[])}},beforeDestroy:function(){this.emitter.$off("closeSupplierDebt"),this.emitter.$off("openSupplierDebt"),this.emitter.$off("setDebtSupplierID")}},fi=hi,gi=Object(l["a"])(fi,pi,vi,!1,null,null,null),bi=gi.exports;u()(gi,{VBtn:$["a"],VCheckbox:Re["a"],VChip:he["a"],VCol:N["a"],VForm:B["a"],VIcon:w["a"],VProgressCircular:ni["a"],VRow:P["a"],VSelect:Oe["a"],VTextField:F["a"]});var xi={name:"customerDebts",components:{formSupplierDebt:bi},data:function(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created:function(){var e=this;this.$http.get("/supplier/todayReturnDebt").then((function(t){var s=t.data;e.debts=s})),this.getDebtsList()},mounted:function(){var e=this;this.emitter.$on("supplierDebtAdded",(function(t){e.debts.unshift(t)})),this.emitter.$on("supplierDebtUpdated",(function(t){var s=e.debts.findIndex((function(e){return e.rdID==t.rdID}));e.debts[s].amountReturn=t.amountReturn,e.debts[s].referenceNO=t.referenceNO,e.debts[s].discount=t.discount,e.debts[s].purchaseNumbers=t.purchaseNumbers})),this.emitter.$on("debtPurchaseDeleted",(function(t){var s=e.debts.findIndex((function(e){return e.rdID==t.rdID}));e.debts[s].purchaseNumbers=t.purchaseNumbers.join(",")})),this.$route.params.supplierID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtSupplierID",this.$route.params.supplierID))},methods:{getDebt:function(e){var t=this;return Object(f["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$isMobile();case 2:if(!s.sent){s.next=6;break}t.sheets.debt=!0,s.next=7;break;case 6:t.dialogs.debt=!0;case 7:t.emitter.$emit("openSupplierDebt",e);case 8:case"end":return s.stop()}}),s)})))()},getDebtsList:function(){var e=this;this.loadings.debtsList=!0,this.$http.get("/supplier/getDebtsList").then((function(t){var s=t.data;e.debtsList=s})).finally((function(){return e.loadings.debtsList=!1}))}},computed:{headersReturnDebt:function(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierNane",align:"center",sortable:!1},{text:"بڕی گەڕاوە",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList:function(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainSupplier",align:"center",sortable:!0}]}},beforeDestroy:function(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},yi=xi,Di=Object(l["a"])(yi,di,mi,!1,null,null,null),Ii=Di.exports;u()(Di,{VBottomSheet:me["a"],VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDialog:be["a"],VDivider:xe["a"],VIcon:w["a"],VRow:P["a"],VSheet:ye["a"],VSpacer:De["a"],VTextField:F["a"]}),_e()(Di,{ClickOutside:ke["a"]});var _i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text",attrs:{dir:"ltr"}},[s("v-btn",{staticClass:"ma-2",attrs:{color:"primary",id:"print_btn"},on:{click:function(t){return e.window.print()}}},[e._v(" Print ")]),s("div",{staticClass:"text-center mt-1",staticStyle:{width:"100%","font-weight":"bolder","font-size":"22px"}},[e._v(" مارکێتی تـێسـت ")]),s("v-row",{staticClass:"mt-3",staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.$route.params.invoiceID)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" ژ.پــسووڵە ")])],1),s("v-row",{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.user)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" کاشـێر ")])],1),s("v-row",{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[s("v-col",{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s((new Date).toISOString().split("T")[0])+" "+e._s(e.getCurrentTime)+" ")]),s("v-col",{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" کات و بەروار ")])],1),s("v-divider",{staticClass:"my-2"}),s("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[e._m(0),s("tbody",e._l(e.invoiceItems,(function(t){return s("tr",{key:t.invdID},[s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.productPrice.toLocaleString())+" ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(t.itemName)+" ")])])})),0)]),s("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[s("tbody",[s("tr",{staticStyle:{border:"1px solid"}},[s("td",{staticStyle:{border:"1px solid",width:"65%"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" IQD ")]),s("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆی نــرخ ")])]),s("tr",{staticStyle:{border:"1px solid"}},[s("td",{staticStyle:{border:"1px solid",width:"65%"}},[e._v(" "+e._s(e.discount.toLocaleString())+" IQD ")]),s("td",{staticStyle:{border:"1px solid"}},[e._v(" داشکاندن ")])]),s("tr",{staticStyle:{border:"1px solid"}},[s("td",{staticStyle:{border:"1px solid",width:"65%"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" IQD ")]),s("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆتا نــرخ ")])])])])],1)},ki=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" کــۆ ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" نرخ ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"10%","font-size":"13px"}},[e._v(" بـڕ ")]),s("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"55%","font-size":"13px"}},[e._v(" نـاوی کـاڵا ")])])}],Ci=new Date,Si={data:function(){return{user:"",invoiceItems:[],discount:0,totalPrice:0}},mounted:function(){var e=this;this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then((function(t){var s=t.data;e.invoiceItems=s.invoiceItems,e.user=s.invoice.fullName,e.totalPrice=s.invoice.totalPrice,e.discount=s.invoice.discount})).finally((function(){e.$http.get("/invoice/enterKey").then((function(){})),window.print(),setTimeout((function(){window.close()}),200)}))},computed:{getCurrentTime:function(){var e=Ci.getHours();return e>=12?e-12+":"+Ci.getMinutes()+":"+Ci.getSeconds()+" PM":e+":"+Ci.getMinutes()+":"+Ci.getSeconds()+" AM"},getTotal:function(){return this.invoiceItems.reduce((function(e,t){return e+t.productPrice*t.qty}),0)}}},$i=Si,Ni=(s("2aa5"),Object(l["a"])($i,_i,ki,!1,null,"16f5c436",null)),wi=Ni.exports;u()(Ni,{VBtn:$["a"],VCol:N["a"],VDivider:xe["a"],VRow:P["a"]});var Pi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"black--text"},[e._m(0),s("hr"),s("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەروار/ "+e._s((new Date).toISOString().split("T")[0])+" "),s("span",{staticClass:"float-right"},[e._v(" فرۆشیار: "+e._s(e.userName)+" ")])]),s("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[s("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" بــەڕێــــز: ")]),s("span",{staticClass:"px-2"},[e._v(" "+e._s("Walk-in Customer"==e.customerName?"":e.customerName)+" ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"100px"}},[e._v(" "+e._s(e._f("invoiceType")(e.invoiceType))+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")]),s("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"150px"}},[e._v(" "+e._s(e.invoiceID)+" ")]),s("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" ژ.وەصــڵ: ")])]),s("div",{staticClass:"pa-1"},[s("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(1),s("tbody",e._l(e.items,(function(t,i){return s("tr",{key:t.invdID},[s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(i+1)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.itemName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(t.qty)+" ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((t.productPrice*t.qty).toLocaleString())+" $ ")]),s("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),e._m(2),s("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[s("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.totalPrice+e.discount).toLocaleString())+" $ ")])]),s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" داشکاندن: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.discount.toLocaleString())+" $ ")])]),s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" سەرجەمی دوای داشکاندن: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دینار): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.collimation(e.totalPrice*this.$store.state.dollarPrice).toLocaleString())+" د.ع ")])]),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی دراو: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPay.toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی ماوە (قەرز): ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.totalPrice-e.totalPay).toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" قەرزی کۆن: ")]),s("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.customerDebt-(e.totalPrice-e.totalPay)).toLocaleString())+" $ ")])]):e._e()])])])])])},Vi=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[i("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",[s("tr",[s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ (دۆلار) ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),s("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[s("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),s("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"333px",height:"50px"}})])}],Ti=function(e){e=e.toString(),e.includes(".")&&(e=Math.round(Number(e)).toString());var t=Number(e.substring(e.length-3));e-=t,e=Number(e);var s=[0,250,500,750,1e3];if(!s.includes(t)){var i=t%250>250-t%250?"high":"low";if("high"==i)for(var n=1;n<s.length;n++){var a=s[n]-t;if(a>0)return t=Number(t)+Number(a),Number(Number(e)+Number(t))}else for(var r=0;r<s.length;r++){var o=s[r]-t;if(o>0){var l=-1*(t-(250-(o-t)));return t-=l,Number(Number(e)+Number(t))}}}return Number(Number(e)+Number(t))},Ri={data:function(){return{invoiceID:null,userName:"",customerName:"",customerID:null,customerDebt:0,items:[],invoiceType:"c",totalPrice:0,totalPay:0,discount:0}},created:function(){var e=this;this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then((function(t){var s=t.data;e.invoiceID=s.invoice.invoiceID,e.userName=s.invoice.fullName,e.customerName=s.invoice.customerName,e.customerID=s.invoice.customerID,e.items=s.invoiceItems,e.invoiceType=s.invoice.invoiceType,e.totalPrice=s.invoice.totalPrice,e.totalPay=s.invoice.totalPay,e.discount=s.invoice.discount,"d"==e.invoiceType&&e.$http.get("/customer/getCustomerDebtForInvoice/"+e.customerID).then((function(t){var s=t.data;e.customerDebt=s.totalRemain}))}))},methods:{collimation:Ti},filters:{invoiceType:le}},Ei=Ri,Oi=Object(l["a"])(Ei,Pi,Vi,!1,null,null,null),Ui=Oi.exports,Bi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("زانیاری گەڕان بۆ فرۆشراوەکان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"1",md:"2"}},[s("v-text-field",{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.invoiceID,callback:function(t){e.$set(e.search,"invoiceID",t)},expression:"search.invoiceID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"customerID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.customerID=null}},model:{value:e.search.customerID,callback:function(t){e.$set(e.search,"customerID",t)},expression:"search.customerID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",[s("span",[e._v("لیستی فرۆشراوەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{items:e.filterdItems,headers:e.saleHeaders,loading:e.loadings.search,"footer-props":{"items-per-page-options":[5,15,25,50]},"item-key":"invoiceID"},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",{class:{"yellow lighten-3":"d"==i.invoiceType,"green lighten-4":"c"==i.invoiceType},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.getInvoiceDetail(i.invoiceID)}}},[s("td",{staticClass:"text-center"},[e._v(e._s(i.invoiceID))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("typeFilter")(i.stockType)))]),s("td",{staticClass:"text-center"},[e._v(e._s(i.customerName))]),s("td",{staticClass:"text-center"},[e._v(e._s(e._f("invoiceType")(i.invoiceType)))]),s("td",{staticClass:"text-center"},[e._v(e._s(i.totalPrice.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(i.totalPay.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(i.discount.toLocaleString()+" $"))]),s("td",{staticClass:"text-center"},[e._v(e._s(i.userName))]),s("td",{staticClass:"text-center"},[e._v(e._s(new Date(i.createAt).toISOString().split("T")[0]))])])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"success white--text"},[s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی فرۆشراو : ")]),s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),s("v-dialog",{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-divider"),s("v-card-text",{staticClass:"mt-2"},[s("v-data-table",{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.qty)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.productPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((i.productPrice*i.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Li=[],Ai={components:{card:T},data:function(){return{sales:[],loadings:{search:!1,clearSearch:!1,invoiceDetail:!1},dialogs:{invoiceDetail:!1},search:{invoiceID:null,customerID:null,userID:null,fromDate:null,toDate:null},invoiceDetail:{invoiceID:null,items:[]},customers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created:function(){var e=this;this.getTodayInvoices(),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s})),this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s})),this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},methods:{clearSearch:function(){this.loadings.clearSearch=!0,this.search.invoiceID=null,this.search.customerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},getTodayInvoices:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadings.search=!0,t.next=3,e.$http.get("/invoice/getTodayInvoices").then((function(t){var s=t.data;e.sales=s.getTodayInvoices})).finally((function(){return e.loadings.search=!1}));case 3:case"end":return t.stop()}}),t)})))()},getInvoiceDetail:function(e){var t=this;this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then((function(s){var i=s.data;t.invoiceDetail.invoiceID=e,t.invoiceDetail.items=i.invoiceItems})).finally((function(){return t.loadings.invoiceDetail=!1}))}},computed:{saleHeaders:function(){return[{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"جۆر",align:"center",sortable:!1,value:"stockType"},{text:"کڕیار",align:"center",sortable:!1,value:"customerName"},{text:"جۆری فرۆشتن",align:"center",sortable:!1,value:"invoiceType"},{text:"کۆی نرخ",align:"center",sortable:!1,value:"totalPrice"},{text:"کۆی پارەی وەگیراو",align:"center",sortable:!1,value:"totalPay"},{text:"داشکاندن",align:"center",sortable:!1,value:"discount"},{text:"بەرکارهێنەر",align:"center",sortable:!1,value:"userName"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"}]},invoiceDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},filterdItems:function(){var e=this;return this.sales.filter((function(t){return t.invoiceID.toString().match(e.search.invoiceID||"")&&t.customerID.toString().match(e.search.customerID||"")&&t.userIDUpdate.toString().match(e.search.userID||"")&&new Date(t.createAt).toISOString().split("T")[0]>=e.search.fromDate&&new Date(t.createAt).toISOString().split("T")[0]<=e.search.toDate}))},getTotalCash:function(){return this.filterdItems.filter((function(e){return"c"==e.invoiceType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalDebt:function(){return this.filterdItems.filter((function(e){return"d"==e.invoiceType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalSafi:function(){return this.filterdItems.reduce((function(e,t){return e+t.totalPay}),0)},getTotal:function(){return this.getTotalCash+this.getTotalDebt}},filters:{typeFilter:oe,invoiceType:le}},Fi=Ai,ji=s("2e4b"),qi=s("cd55"),Qi=s("49e2"),Mi=s("c865"),Wi=s("0393"),Hi=s("e449"),zi=Object(l["a"])(Fi,Bi,Li,!1,null,null,null),Ki=zi.exports;u()(zi,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDatePicker:ji["a"],VDialog:be["a"],VDivider:xe["a"],VExpansionPanel:qi["a"],VExpansionPanelContent:Qi["a"],VExpansionPanelHeader:Mi["a"],VExpansionPanels:Wi["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VSelect:Oe["a"],VSpacer:De["a"],VTextField:F["a"]});var Gi=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("زانیاری گەڕان بۆ کڕدراوەکان : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"1",md:"2"}},[s("v-text-field",{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.referenceNo,callback:function(t){e.$set(e.search,"referenceNo",t)},expression:"search.referenceNo"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.supplierID=null}},model:{value:e.search.supplierID,callback:function(t){e.$set(e.search,"supplierID",t)},expression:"search.supplierID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"کڕدراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-title",[s("span",[e._v("لیستی فرۆشراوەکان")])]),s("v-card-text",[s("v-data-table",{attrs:{items:e.filterdItems,headers:e.purchasesHeader,loading:e.loadings.search,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",{class:{"yellow lighten-3":"d"==i.paymentType,"green lighten-4":"c"==i.paymentType},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.getPurchaseDetail(i.purchaseID,i.referenceNo)}}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.referenceNo)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.supplierName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.amountPay.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(i.paymentType))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(i.PurchaseStatus))+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.user)+" ")]),s("td",{staticClass:"text-center"},[e._v(e._s(new Date(i.createAt).toISOString().split("T")[0]))])])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"success white--text"},[s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی کڕدراو : ")]),s("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),s("v-dialog",{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[s("v-card",[s("v-card-title",[s("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),s("v-spacer"),s("v-btn",{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[s("v-icon",[e._v(" mdi-close ")])],1)],1),s("v-card-text",[s("v-data-table",{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item,n=t.index;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(n+1)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costPrice.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.qty.toLocaleString())+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.discount.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costAfterDisc.toLocaleString())+" $ ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((i.costAfterDisc*i.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Ji=[],Xi={components:{card:T},data:function(){return{purchases:[],loadings:{search:!1,clearSearch:!1,purchaseDetail:!1},dialogs:{purchaseDetail:!1},search:{referenceNo:null,supplierID:null,userID:null,fromDate:null,toDate:null},purchaseDetail:{referenceNo:null,items:[]},suppliers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created:function(){var e=this;this.getTodayInvoices(),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s})),this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s})),this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},methods:{clearSearch:function(){this.loadings.clearSearch=!0,this.search.referenceNo=null,this.search.supplierID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},getTodayInvoices:function(){var e=this;this.loadings.search=!0,this.$http.get("/generalReport/getAllPurchases").then((function(t){var s=t.data;e.purchases=s})).finally((function(){return e.loadings.search=!1}))},getPurchaseDetail:function(e,t){var s=this;this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then((function(e){var i=e.data;s.purchaseDetail.referenceNo=t,s.purchaseDetail.items=i})).finally((function(){return s.loadings.purchaseDetail=!1}))}},computed:{purchasesHeader:function(){return[{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"بەروار",align:"center",sortable:!1,value:"createAt"}]},purchaseDetailHeader:function(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},filterdItems:function(){var e=this;return this.purchases.filter((function(t){return t.referenceNo.match(e.search.referenceNo||"")&&t.supplierID.toString().match(e.search.supplierID||"")&&t.userIDCreated.toString().match(e.search.userID||"")&&new Date(t.createAt).toISOString().split("T")[0]>=e.search.fromDate&&new Date(t.createAt).toISOString().split("T")[0]<=e.search.toDate}))},getTotalCash:function(){return this.filterdItems.filter((function(e){return"c"==e.paymentType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalDebt:function(){return this.filterdItems.filter((function(e){return"d"==e.paymentType})).reduce((function(e,t){return e+t.totalPrice}),0)},getTotalSafi:function(){return this.filterdItems.reduce((function(e,t){return e+t.amountPay}),0)},getTotal:function(){return this.getTotalCash+this.getTotalDebt}},filters:{invoiceType:le,purchaseStatus:ce}},Yi=Xi,Zi=Object(l["a"])(Yi,Gi,Ji,!1,null,null,null),en=Zi.exports;u()(Zi,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCardTitle:ve["b"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDatePicker:ji["a"],VDialog:be["a"],VExpansionPanel:qi["a"],VExpansionPanelContent:Qi["a"],VExpansionPanelHeader:Mi["a"],VExpansionPanels:Wi["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VSelect:Oe["a"],VSpacer:De["a"],VTextField:F["a"]});var tn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{staticClass:"center"},[s("v-col",{attrs:{cols:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"3"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"success"},on:{click:e.getAllData}},[s("v-icon",[e._v("mdi-database-search")])],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:"",elevation:"2"}},[s("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[s("thead",[s("tr",[s("th",{staticClass:"text-center",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی هاتوو ")]),s("th",{staticClass:"text-center ",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی ڕۆیشتوو ")])])]),s("tbody",[s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنەکان : "+e._s(e.allData.totalSale.toLocaleString())+" IQD")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("کڕینەکان : "+e._s(e.allData.totalPurchase.toLocaleString())+" IQD")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("وەرگرتنەوەی قەرز : "+e._s(e.allData.totalDebtCustomer.toLocaleString())+" IQD")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("دانەوەی قەرز : "+e._s(e.allData.totalDebtCompany.toLocaleString())+" IQD")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("داشکاندنی کڕین : "+e._s(e.allData.totalDiscountPurchase.toLocaleString())+" IQD")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("داشکاندنی فرۆشتن : "+e._s(e.allData.totalDiscountInvoice.toLocaleString())+" IQD")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنی صافی : "+e._s((e.allData.totalSale-e.allData.totalDiscountInvoice).toLocaleString())+" IQD")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("خەرجی : "+e._s(e.allData.totalExpenseIQD.toLocaleString())+" IQD")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("گەڕاوەی کڕین : "+e._s(e.allData.totalReturnPurchase.toLocaleString())+" IQD")])],1),s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("گەڕاوەی فرۆشتن : "+e._s(e.allData.totalReturnSale.toLocaleString())+" IQD")])],1)]),s("tr",[s("td",{staticClass:"text-center pa-0"},[s("v-alert",{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("قازانج : "+e._s((e.allData.totalProfit-e.allData.totalDiscountInvoice).toLocaleString())+" IQD")])],1)])])]},proxy:!0}])})],1)],1)],1)],1)},sn=[],nn={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},allData:{totalSale:0,totalPurchase:0,totalDebtCustomer:0,totalDebtCompany:0,totalDiscountInvoice:0,totalDiscountPurchase:0,totalExpenseIQD:0,totalReturnSale:0,totalReturnPurchase:0,totalProfit:0}}},methods:{getAllData:function(){var e=this;this.$http.get("/generalReport/moneyMovement/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.allData.totalSale=s.totalSale,e.allData.totalPurchase=s.totalPurchase,e.allData.totalDebtCustomer=s.totalDebtCustomer,e.allData.totalDebtCompany=s.totalDebtCompany,e.allData.totalDiscountInvoice=s.totalDiscountInvoice,e.allData.totalDiscountPurchase=s.totalDiscountPurchase,e.allData.totalExpenseIQD=s.totalExpenseIQD,e.allData.totalReturnSale=s.totalReturnSale,e.allData.totalReturnPurchase=s.totalReturnPurchase,e.allData.totalProfit=s.totalProfit}))}}},an=nn,rn=(s("06f8"),Object(l["a"])(an,tn,sn,!1,null,"6612bd0e",null)),on=rn.exports;u()(rn,{VAlert:S["a"],VBtn:$["a"],VCard:pe["a"],VCol:N["a"],VContainer:fe["a"],VDatePicker:ji["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VSimpleTable:A["a"],VTextField:F["a"]});var ln=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"success"},on:{click:e.getTotalProfit}},[s("v-icon",[e._v("mdi-database-search")])],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error"},on:{click:function(t){e.totalProfit=[],e.totalAll=0}}},[s("v-icon",[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-data-table",{attrs:{headers:e.headers,items:e.totalProfit,"footer-props":{"items-per-page-options":[5,15,25,50]}}},[s("template",{slot:"body.append"},[s("tr",{staticClass:"blue-grey lighten-4"},[s("th",{staticStyle:{"font-size":"20px"}},[e._v("کۆی قازانج : ")]),s("th",{staticStyle:{"font-size":"20px"}},[e._v(e._s(e.totalAll.toLocaleString())+" IQD ")])])])],2)],1)],1)],1)],1)],1)},cn=[],un={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalProfit:[],totalAll:0}},methods:{getTotalProfit:function(){var e=this;this.$http.get("/generalReport/totalProfit/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.totalProfit=s.totalProfit,e.totalAll=s.totalAll}))}},computed:{headers:function(){return[{text:"ژ.وەصڵ",align:"center",sortable:!1,value:"sourceID"},{text:"جۆری وەصڵ",align:"center",sortable:!1,value:"sourceType"},{text:"کۆی فرۆشتن",align:"center",sortable:!1,value:"totalSale"},{text:"کۆی قازانج",align:"center",sortable:!1,value:"totalProfit"}]}}},dn=un,mn=Object(l["a"])(dn,ln,cn,!1,null,null,null),pn=mn.exports;u()(mn,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDatePicker:ji["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VTextField:F["a"]});var vn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",[s("v-card-text",[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"success"},on:{click:e.getTotalExpense}},[s("v-icon",[e._v("mdi-database-search")])],1)],1),s("v-col",{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.totalExpense=[],e.totalPrice.totalIQD=0,e.totalPrice.total$=0}}},[s("v-icon",[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),s("v-data-table",{attrs:{items:e.totalExpense,headers:e.headers,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",[s("td",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" "+e._s(i.typeName)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(i.priceExpenseIQD)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(i.priceExpense$)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(i.dollarPrice)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(" "+e._s(i.note)+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(new Date(i.createAt).toISOString().split("T")[0])+" ")]),s("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(i.userName)+" ")])])]}}])},[s("template",{slot:"body.append"},[s("tr",{staticClass:"blue-grey lighten-4"},[s("th",{staticStyle:{"font-size":"20px"}},[e._v("کۆی خەرجی : ")]),s("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.totalIQD.toLocaleString())+" IQD ")]),s("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.total$)+" $ ")])])])],2)],1)},hn=[],fn={data:function(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalExpense:[],totalPrice:{totalIQD:0,total$:0}}},methods:{getTotalExpense:function(){var e=this;this.$http.get("/expense/betweenDateExpense/"+this.search.fromDate+"/"+this.search.toDate).then((function(t){var s=t.data;e.totalExpense=s.totalExpense,e.totalPrice.totalIQD=s.totalPrice.totalIQD,e.totalPrice.total$=s.totalPrice.total$}))}},computed:{headers:function(){return[{text:"جۆری مەسرووف",align:"center",sortable:!1,value:"typeName"},{text:"بڕی دینار",align:"center",sortable:!1,value:"priceExpenseIQD"},{text:"بڕی دۆلار",align:"center",sortable:!1,value:"priceExpense$"},{text:"نرخی دۆلار",align:"center",sortable:!1,value:"dollarPrice"},{text:"تێبینی",align:"center",sortable:!1,value:"note"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"},{text:"بەکرهێنەر",align:"center",sortable:!1,value:"userName"}]}}},gn=fn,bn=Object(l["a"])(gn,vn,hn,!1,null,null,null),xn=bn.exports;u()(bn,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDatePicker:ji["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VTextField:F["a"]});var yn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی پارەی ناو مەخزەن",data:e.sum.toLocaleString()}})],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.moneyInStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",[s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.costPrice)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalInStock)+" ")]),s("td",{staticClass:"text-center"},[e._v(" "+e._s((i.totalInStock*i.costPrice).toLocaleString())+" ")])])]}}])})],1)],1)],1)},Dn=[],In={components:{card:T},data:function(){return{totalMoenyInStock:0,moneyInStock:[]}},created:function(){var e=this;this.$http.get("/item/moneyInStock").then((function(t){var s=t.data;e.moneyInStock=s.moneyInStock}))},computed:{headers:function(){return[{text:"بارکۆد",align:"center",sortable:!1,value:"itemCode"},{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"نرخی کڕین",align:"center",value:"costPrice"},{text:"دانەی ماوە",align:"center",sortable:!1,value:"totalInStock"},{text:"کۆی پارە",align:"center",sortable:!1}]},sum:function(){return this.moneyInStock.reduce((function(e,t){return e+(t.totalInStock||0)}),0)*this.moneyInStock.reduce((function(e,t){return e+(t.costPrice||0)}),0)}}},_n=In,kn=Object(l["a"])(_n,yn,Dn,!1,null,null,null),Cn=kn.exports;u()(kn,{VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VRow:P["a"]});var Sn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[s("v-card-text",[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("گەڕان بۆ کۆمپانیا : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[s("v-select",{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierName"},model:{value:e.search.supplierName,callback:function(t){e.$set(e.search,"supplierName",t)},expression:"search.supplierName"}})],1),s("v-col",{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.search.supplierName=null}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کۆمپانیاکان",data:e.sum.toLocaleString()+"$"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{items:e.debtSupToCust,headers:e.headers,"footer-props":{"items-per-page-options":[20,30,40,50]}}})],1)],1)],1)},$n=[],Nn={components:{card:T},data:function(){return{debtSupToCust:[],suppliers:[],search:{supplierName:null}}},created:function(){var e=this;this.$http.get("/supplier/debtSupToCust").then((function(t){var s=t.data;e.debtSupToCust=s.debtSupToCust})),this.$http.get("/supplier/allSuppliers").then((function(t){var s=t.data;e.suppliers=s}))},computed:{headers:function(){var e=this;return[{text:"ناوی کۆمپانیا",align:"center",sortable:!1,value:"supplierName",filter:function(t){return!e.search.supplierName||t==e.search.supplierName}},{text:"قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کۆمپانیا",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemain"}]},sum:function(){return this.debtSupToCust.reduce((function(e,t){return e+t.totalRemain}),0)}}},wn=Nn,Pn=Object(l["a"])(wn,Sn,$n,!1,null,null,null),Vn=Pn.exports;u()(Pn,{VBtn:$["a"],VCard:pe["a"],VCardText:ve["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VExpansionPanel:qi["a"],VExpansionPanelContent:Qi["a"],VExpansionPanelHeader:Mi["a"],VExpansionPanels:Wi["a"],VIcon:w["a"],VRow:P["a"],VSelect:Oe["a"]});var Tn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("گەڕان بۆ کڕیار : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[s("v-select",{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"CustomerName"},model:{value:e.search.customerName,callback:function(t){e.$set(e.search,"customerName",t)},expression:"search.customerName"}})],1),s("v-col",{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[s("v-btn",{attrs:{block:"",color:"error"},on:{click:function(t){e.search.customerName=null}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کڕیارەکان",data:e.sum.toLocaleString()+"$"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.debtCustToSup}})],1)],1)],1)},Rn=[],En={components:{card:T},data:function(){return{search:{customerName:null},customers:[],debtCustToSup:[]}},created:function(){var e=this;this.$http.get("/customer/debtCustToSup").then((function(t){var s=t.data;e.debtCustToSup=s.debtCustToSup})),this.$http.get("/customer/allCustomers").then((function(t){var s=t.data;e.customers=s}))},computed:{headers:function(){var e=this;return[{text:"ناوی کڕیار",align:"center",sortable:!1,value:"customerName",filter:function(t){return!e.search.customerName||t==e.search.customerName}},{text:"قەرزی کڕیار لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemain"}]},sum:function(){return this.debtCustToSup.reduce((function(e,t){return e+t.totalRemain}),0)}}},On=En,Un=Object(l["a"])(On,Tn,Rn,!1,null,null,null),Bn=Un.exports;u()(Un,{VBtn:$["a"],VCard:pe["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VExpansionPanel:qi["a"],VExpansionPanelContent:Qi["a"],VExpansionPanelHeader:Mi["a"],VExpansionPanels:Wi["a"],VIcon:w["a"],VRow:P["a"],VSelect:Oe["a"]});var Ln=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-container",{attrs:{fluid:""}},[s("v-row",[s("v-col",{attrs:{cols:"12"}},[s("v-card",{attrs:{outlined:""}},[[s("v-expansion-panels",[s("v-expansion-panel",[s("v-expansion-panel-header",[s("span",[e._v("فرۆشراوی خاوەندارێتی : ")])]),s("v-expansion-panel-content",[s("v-row",[s("v-col",{attrs:{cols:"2"}},[s("v-select",{attrs:{label:"خاوەنی کاڵا",outlined:"",dense:"",items:e.owners,"item-text":"shelfName","item-value":"shelfID"},model:{value:e.search.ownerID,callback:function(t){e.$set(e.search,"ownerID",t)},expression:"search.ownerID"}})],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},i))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[s("v-date-picker",{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),s("v-col",{attrs:{cols:"2"}},[s("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[s("v-text-field",e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},i))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[s("v-date-picker",{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),s("v-col",{attrs:{cols:"1"}},[s("v-btn",{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[s("v-icon",[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),s("v-row",[s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراو",data:e.getTotalSale.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی گەڕاوەی فرۆشراو",data:e.getTotalReturnSale.toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[s("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:(e.getTotalSale-e.getTotalReturnSale).toLocaleString()+" $"}})],1),s("v-col",{attrs:{cols:"12"}},[s("v-data-table",{attrs:{headers:e.headers,items:e.filteredSale,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function(t){var i=t.item;return[s("tr",{class:{"yellow lighten-3":"rs"==i.sourceType,"green lighten-4":"s"==i.sourceType}},[s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemCode))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.itemName))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.shelfName))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.sold))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(i.totalPriceSold))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(i.sourceType)))]),s("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(i.createAt).toISOString().split("T")[0]))])])]}}])})],1)],1)],1)},An=[],Fn={components:{card:T},data:function(){return{owners:[],getSaleByOwner:[],search:{ownerID:null,fromDate:null,toDate:null},menu2:!1,menu3:!1,loadings:{search:!1,clearSearch:!1}}},created:function(){var e=this;this.getTodaySale(),this.$http.get("/essential/getOwner").then((function(t){var s=t.data;e.owners=s})),this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},computed:{headers:function(){return[{text:"بارکۆد",align:"center",value:"itemCode",sortable:!1},{text:"ناوی کاڵا",align:"center",value:"itemName",sortable:!1},{text:"ناوی خاوەن",align:"center",value:"shelfName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"sold",sortable:!1},{text:"کۆی نرخی فرۆشراو",align:"center",value:"totalPriceSold",sortable:!1},{text:"جۆر",align:"center",value:"sourceType",sortable:!1},{text:"بەروار",align:"center",value:"createAt",sortable:!1}]},filteredSale:function(){var e=this;return this.getSaleByOwner.filter((function(t){return t.shelfID.toString().match(e.search.ownerID||"")&&new Date(t.createAt).toISOString().split("T")[0]>=e.search.fromDate&&new Date(t.createAt).toISOString().split("T")[0]<=e.search.toDate}))},getTotalSale:function(){return this.filteredSale.filter((function(e){return"s"==e.sourceType})).reduce((function(e,t){return e+t.totalPriceSold}),0)},getTotalReturnSale:function(){return this.filteredSale.filter((function(e){return"rs"==e.sourceType})).reduce((function(e,t){return e+-1*t.totalPriceSold}),0)}},methods:{clearSearch:function(){this.search.ownerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getTodaySale:function(){var e=this;this.$http.get("/invoice/getSaleByOwner").then((function(t){var s=t.data;e.getSaleByOwner=s.getSaleByOwner}))}},filters:{typeFilter:oe}},jn=Fn,qn=Object(l["a"])(jn,Ln,An,!1,null,null,null),Qn=qn.exports;u()(qn,{VBtn:$["a"],VCard:pe["a"],VCol:N["a"],VContainer:fe["a"],VDataTable:ge["a"],VDatePicker:ji["a"],VExpansionPanel:qi["a"],VExpansionPanelContent:Qi["a"],VExpansionPanelHeader:Mi["a"],VExpansionPanels:Wi["a"],VIcon:w["a"],VMenu:Hi["a"],VRow:P["a"],VSelect:Oe["a"],VTextField:F["a"]});var Mn=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("v-alert",{staticClass:"title text-center py-3",attrs:{text:"",color:"green"}},[e._v(" داریــن گـەیـم ")]),s("v-card",{staticClass:"mt-3 px-3 py-5",attrs:{elevation:"4",width:"450px"}},[s("v-select",{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userName"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),s("v-text-field",{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}}),s("v-btn",{attrs:{color:"success",block:"",loading:e.loading},on:{click:function(t){return e.login()}}},[e._v(" چوونەژوورەوە ")])],1),s("v-divider"),s("v-alert",{staticClass:"text-center py-5 mt-3",attrs:{text:"",color:"success"}},[e._v(" Developed By: Suly Tech ")]),s("notification")],1)},Wn=[],Hn={data:function(){return{loading:!1,username:null,password:null,users:[]}},created:function(){var e=this;this.$http.get("/user/allUser").then((function(t){var s=t.data;e.users=s}))},methods:{setFocus:function(e){document.getElementById(e).focus()},login:function(){var e=this;this.loading=!0,this.$http.post("/login",{userName:this.username,password:this.password}).then((function(t){var s=t.data;localStorage.setItem("darinGameToken",s.token),e.$http.defaults.headers.common["Authorization"]="Bearer "+s.token,location.href="/"})).catch((function(t){e.emitter.$emit("notify",{type:"error",text:t.response.data.message})})).finally((function(){return e.loading=!1}))}}},zn=Hn,Kn=Object(l["a"])(zn,Mn,Wn,!1,null,null,null),Gn=Kn.exports;u()(Kn,{VAlert:S["a"],VBtn:$["a"],VCard:pe["a"],VDivider:xe["a"],VSelect:Oe["a"],VTextField:F["a"]}),i["a"].use(g["a"]);var Jn=[{path:"/moneyInStock",component:Cn,name:"moneyInStock",meta:{requireAuth:!0}},{path:"/",component:Se,name:"home",meta:{requireAuth:!0}},{path:"/items",component:Qe,name:"items",meta:{requireAuth:!0}},{path:"/roles",component:tt,name:"roles",meta:{requireAuth:!0}},{path:"/expenses",component:xt,name:"expenses",meta:{requireAuth:!0}},{path:"/suppliers",component:Vt,name:"suppliers",meta:{requireAuth:!0}},{path:"/customers",component:Qt,name:"customers",meta:{requireAuth:!0}},{path:"/users",component:ts,name:"users",meta:{requireAuth:!0}},{path:"/purchases",component:gs,name:"purchases",meta:{requireAuth:!0}},{path:"/disposals",component:ws,name:"disposals",meta:{requireAuth:!0}},{path:"/invoice",component:Bs,name:"invoice",meta:{requireAuth:!0}},{path:"/stock",component:Ms,name:"stock",meta:{requireAuth:!0}},{path:"/stockReport",component:Js,name:"stockReport",meta:{requireAuth:!0}},{path:"/saleReport",component:Ki,name:"saleReport",meta:{requireAuth:!0}},{path:"/purchaseReport",component:en,name:"purchaseReport",meta:{requireAuth:!0}},{path:"/moneyMovement",component:on,name:"moneyMovement",meta:{requireAuth:!0}},{path:"/customerDebts/:customerID?",component:ui,name:"customerDebts",meta:{requireAuth:!0}},{path:"/supplierDebts/:supplierID?",component:Ii,name:"supplierDebts",meta:{requireAuth:!0}},{path:"/printInvoice/:invoiceID",component:wi,name:"printInvoice"},{path:"/printA4/:invoiceID",component:Ui,name:"printInvoiceA4"},{path:"/profitReport",component:pn,name:"profitReport",meta:{requireAuth:!0}},{path:"/expenseReport",component:xn,name:"expenseReport",meta:{requireAuth:!0}},{path:"/supplierDebtReport",component:Vn,name:"supplierDebtReport",meta:{requireAuth:!0}},{path:"/customerDebtReport",component:Bn,name:"customerDebtReport",meta:{requireAuth:!0}},{path:"/ownerSaleReport",component:Qn,name:"ownerSaleReport",meta:{requireAuth:!0}},{path:"/login",component:Gn,name:"login"}],Xn=new g["a"]({routes:Jn,mode:"history"});Xn.beforeEach(function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,s,i){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.matched.some((function(e){return e.meta.requireAuth}))&&(n=localStorage.getItem("darinGameToken"),n?x.a.post("/verifyToken").then((function(e){var s=e.data;"login"==t.name?i({name:"home"}):s.permissions.includes(t.name)||"home"==t.name?i():(alert("ببورە ... ئەم هەژمارە رێگەپێندراوە بۆ بەکارهێنانی ئەم بەشە"),i({name:"home"}))})).catch((function(){return i({name:"login"})})):i({name:"login"})),i();case 2:case"end":return e.stop()}}),e)})));return function(t,s,i){return e.apply(this,arguments)}}());var Yn=Xn,Zn=s("2f62"),ea=s("0e44");i["a"].use(Zn["a"]);var ta=new Zn["a"].Store({plugins:[Object(ea["a"])()],state:{dollarPrice:0},mutations:{updateDollar:function(e,t){e.dollarPrice=t}},actions:{},modules:{}}),sa=(s("5363"),s("15f5"),s("f309")),ia=s("fcf4");i["a"].use(sa["a"]);var na=new sa["a"]({rtl:!0,icons:{iconfont:"mdi"},theme:{dark:Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),themes:{dark:{primary:ia["a"].blue.darken3,success:ia["a"].green.darken1,error:ia["a"].red.darken2,cyan:ia["a"].cyan.lighten4}}}}),aa=s("ba48"),ra=s.n(aa),oa=s("683f"),la=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",[s("v-app-bar",{attrs:{dark:"",height:"49.5",dir:this.$vuetify.rtl?"rtl":"ltr"}},["/invoice"!=e.$route.fullPath?s("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}):s("v-btn",{attrs:{icon:"",to:"/"}},[s("v-icon",[e._v(" mdi-home ")])],1),s("v-toolbar-title",{staticClass:"mx-2"},[e._v(" "+e._s(e.pageTitle)+" ")]),s("v-spacer"),s("v-switch",{staticClass:"mt-6",attrs:{dense:"",inset:"",label:"Dark"},model:{value:e.dark,callback:function(t){e.dark=t},expression:"dark"}}),s("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleFullScreen()}}},[s("v-icon",[e._v(" "+e._s(e.isFullScreen?"mdi-fullscreen-exit":"mdi-fullscreen")+" ")])],1),s("v-btn",{attrs:{color:"error",loading:e.loadings.logout,icon:""},on:{click:function(t){return e.logout()}}},[s("v-icon",[e._v(" mdi-logout ")])],1)],1),s("v-navigation-drawer",{staticClass:"fill-height",attrs:{app:"",dark:"",width:"225",right:this.$vuetify.rtl},scopedSlots:e._u([{key:"append",fn:function(){return[s("v-banner",{staticClass:"text-center"},[s("small",{attrs:{dir:"ltr"}},[e._v(" Developed By: "),s("a",{staticStyle:{"text-decoration":"none",color:"white"},attrs:{href:"https://www.facebook.com/sulytech19",target:"_blank"}},[e._v(" Suly Tech ")])])])]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"title text-center",staticStyle:{"font-family":"NRT !important"}},[e._v(" داریــن گــەیـم ")])],1)],1),s("v-divider"),s("v-list",{attrs:{nav:"",dense:""}},[s("v-list-item",{attrs:{link:"",to:"/"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-home ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" پەڕەی سەرەکی ")])],1)],1),e.permissions.includes("items")?s("v-list-item",{attrs:{link:"",to:"/items"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-dots-grid ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کاڵاکان ")])],1)],1):e._e(),e.permissions.includes("users")?s("v-list-item",{attrs:{link:"",to:"/users"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-group-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" بەکارهێنەرەکان ")])],1)],1):e._e(),e.permissions.includes("invoice")?s("v-list-item",{attrs:{link:"",to:"/invoice"}},[s("v-list-item-icon",[s("v-icon",[e._v(" fa fa-cash-register ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("expenses")?s("v-list-item",{attrs:{link:"",to:"/expenses"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" خەرجیەکان ")])],1)],1):e._e(),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کۆمپانیا ")])],1)],1)]},proxy:!0}])},[s("v-list",[e.permissions.includes("suppliers")?s("v-list-item",{attrs:{link:"",to:"/suppliers"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کۆمپانیاکان ")])],1)],1):e._e(),e.permissions.includes("supplierDebts")?s("v-list-item",{attrs:{link:"",to:"/supplierDebts"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" قەرزەکان ")])],1)],1):e._e()],1)],1),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕیار ")])],1)],1)]},proxy:!0}])},[s("v-list",[e.permissions.includes("customers")?s("v-list-item",{attrs:{link:"",to:"/customers"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕیارەکان ")])],1)],1):e._e(),e.permissions.includes("customerDebts")?s("v-list-item",{attrs:{link:"",to:"/customerDebts"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-multiple ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" قەرزەکان ")])],1)],1):e._e()],1)],1),e.permissions.includes("purchases")?s("v-list-item",{attrs:{link:"",to:"/purchases"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cart-plus ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" کڕینەکان ")])],1)],1):e._e(),e.permissions.includes("disposals")?s("v-list-item",{attrs:{link:"",to:"/disposals"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-image-broken-variant ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" تەلەفەکان ")])],1)],1):e._e(),e.permissions.includes("stock")?s("v-list-item",{attrs:{link:"",to:"/stock"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-pie ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" مەخزەن ")])],1)],1):e._e(),s("v-list-group",{scopedSlots:e._u([{key:"activator",fn:function(){return[s("v-list-item",[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-areaspline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" ڕاپۆرتەکان ")])],1)],1)]},proxy:!0}])},[s("v-list",{staticClass:"ml-7"},[e.permissions.includes("stockReport")?s("v-list-item",{attrs:{link:"",to:"/stockReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-pie ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری مەخزەن ")])],1)],1):e._e(),e.permissions.includes("saleReport")?s("v-list-item",{attrs:{link:"",to:"/saleReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-point-of-sale ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("purchaseReport")?s("v-list-item",{attrs:{link:"",to:"/purchaseReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cart-check ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری کڕین ")])],1)],1):e._e(),e.permissions.includes("moneyMovement")?s("v-list-item",{attrs:{link:"",to:"/moneyMovement"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cached ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" جوڵەی پارە ")])],1)],1):e._e(),e.permissions.includes("profitReport")?s("v-list-item",{attrs:{link:"",to:"/profitReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-line ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری قازانج ")])],1)],1):e._e(),e.permissions.includes("expenseReport")?s("v-list-item",{attrs:{link:"",to:"/expenseReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-chart-sankey ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" زانیاری خەرجیەکان ")])],1)],1):e._e(),s("v-list-item",{attrs:{link:"",to:"/moneyInStock"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-cash-check ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v(" پارەی مخزەن ")])],1)],1),s("v-list-item",{attrs:{link:"",to:"/supplierDebtReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-office-building-marker-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("قەرزی کۆمپانیان")])],1)],1),s("v-list-item",{attrs:{link:"",to:"/customerDebtReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-cash-outline ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("قەرزی کڕیارەکان")])],1)],1),s("v-list-item",{attrs:{link:"",to:"/ownerSaleReport"}},[s("v-list-item-icon",[s("v-icon",[e._v(" mdi-account-convert ")])],1),s("v-list-item-content",[s("v-list-item-title",[e._v("فرۆشراوی خاوەندارێتی")])],1)],1)],1)],1)],1)],1)],1)},ca=[],ua={props:{pageTitle:String},data:function(){return{loadings:{logout:!1},drawer:!0,isFullScreen:!1,dark:!1,permissions:[]}},created:function(){var e=this;this.drawer="/invoice"!=this.$route.fullPath&&!this.$isMobile(),this.$http.post("/verifyToken").then((function(t){var s=t.data;e.permissions=s.permissions}))},mounted:function(){var e=this;this.dark=Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),this.emitter.$on("changeDrawer",(function(t){e.drawer=t}))},methods:{toggleFullScreen:function(){document.fullscreenElement?(document.exitFullscreen(),this.isFullScreen=!1):(document.getElementById("app").requestFullscreen(),this.isFullScreen=!0)},logout:function(){this.loadings.logout=!1,localStorage.removeItem("sulyMarketToken"),this.$http.defaults.headers.common["Authorization"]=null,this.$router.push({name:"login"})}},watch:{dark:function(){localStorage.setItem("sulyMarketDarkTheme",Number(this.dark)),this.$vuetify.theme.dark=this.dark}},beforeDestroy:function(){this.emitter.$off("changeDrawer")}},da=ua,ma=s("40dc"),pa=s("5bc1"),va=s("e4e5"),ha=s("8860"),fa=s("56b0"),ga=s("da13"),ba=s("5d23"),xa=s("34c3"),ya=s("f774"),Da=s("2a7f"),Ia=Object(l["a"])(da,la,ca,!1,null,null,null),_a=Ia.exports;u()(Ia,{VAppBar:ma["a"],VAppBarNavIcon:pa["a"],VBanner:va["a"],VBtn:$["a"],VDivider:xe["a"],VIcon:w["a"],VList:ha["a"],VListGroup:fa["a"],VListItem:ga["a"],VListItemContent:ba["a"],VListItemIcon:xa["a"],VListItemTitle:ba["b"],VNavigationDrawer:ya["a"],VSpacer:De["a"],VSwitch:Os["a"],VToolbarTitle:Da["a"]});var ka=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("v-snackbar",{attrs:{timeout:e.timeout,color:e.types[e.type].color},scopedSlots:e._u([{key:"action",fn:function(t){var i=t.attrs;return[s("v-btn",e._b({staticClass:"px-1",attrs:{color:"white black--text",outlined:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",i,!1),[e._v(" بــاشـە ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[s("v-icon",[e._v(" "+e._s(e.types[e.type].icon)+" ")]),e._v("   "+e._s(e.text)+" ")],1)},Ca=[],Sa={data:function(){return{snackbar:!1,type:"default",timeout:3500,text:"",types:{success:{color:"success",icon:"mdi-check-circle"},warning:{color:"warning",icon:"mdi-information"},error:{color:"error",icon:"mdi-alert-circle"},default:{color:"dark",icon:""}}}},mounted:function(){var e=this;this.emitter.$on("notify",(function(t){e.type=t.type||"default",e.text=t.text,e.snackbar=!0}))},beforeDestroy:function(){this.emitter.$off("notify")}},$a=Sa,Na=s("2db4"),wa=Object(l["a"])($a,ka,Ca,!1,null,null,null),Pa=wa.exports;u()(wa,{VBtn:$["a"],VIcon:w["a"],VSnackbar:Na["a"]});var Va=s("1321"),Ta=s.n(Va);i["a"].use(Ta.a),i["a"].component("apexchart",Ta.a),i["a"].component("navbar",_a),i["a"].component("notification",Pa),i["a"].prototype.emitter=new i["a"],x.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("darinGameToken"),i["a"].prototype.$http=x.a,i["a"].config.productionTip=!1,i["a"].use(ra.a),i["a"].use(oa["a"]),new i["a"]({router:Yn,store:ta,vuetify:na,render:function(e){return e(v)}}).$mount("#app")},"59f6":function(e,t,s){e.exports=s.p+"img/250_IQD.fa47d52f.jpg"},6027:function(e,t,s){e.exports=s.p+"img/25_IQD.b3049890.jpg"},7546:function(e,t,s){},"85ec":function(e,t,s){},9145:function(e,t,s){e.exports=s.p+"img/10_IQD.66ceeb85.jpg"},b445:function(e,t,s){},d9b1:function(e,t,s){e.exports=s.p+"img/100_$.f99014bf.jpg"}});