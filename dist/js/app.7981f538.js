(function(e){function t(t){for(var a,l,n=t[0],o=t[1],c=t[2],u=0,m=[];u<n.length;u++)l=n[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&m.push(i[l][0]),i[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,l=1;l<s.length;l++){var o=s[l];0!==i[o]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},i={app:0},r=[];function l(e){return n.p+"js/"+({}[e]||e)+"."+{"chunk-086a213a":"95202798","chunk-2d216214":"0bbc55e6","chunk-2d216257":"69e90091"}[e]+".js"}function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.e=function(e){var t=[],s=i[e];if(0!==s)if(s)t.push(s[2]);else{var a=new Promise((function(t,a){s=i[e]=[t,a]}));t.push(s[2]=a);var r,o=document.createElement("script");o.charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.src=l(e);var c=new Error;r=function(t){o.onerror=o.onload=null,clearTimeout(u);var s=i[e];if(0!==s){if(s){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",c.name="ChunkLoadError",c.type=a,c.request=r,s[1](c)}i[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:o})}),12e4);o.onerror=o.onload=r,document.head.appendChild(o)}return Promise.all(t)},n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0b04":function(e,t,s){"use strict";s("b781")},"0f81":function(e,t,s){e.exports=s.p+"img/5_IQD.017fc467.jpg"},"1aad":function(e,t,s){},"328f":function(e,t,s){e.exports=s.p+"img/1000_IQD.d7437a74.png"},"48bb":function(e,t,s){},"4ab6":function(e,t,s){e.exports=s.p+"img/logo darin.60954348.png"},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),i=s("7496"),r=s("f6c4"),l=function(){var e=this,t=e._self._c;return t(i["a"],[t(r["a"],{class:{"mx-auto my-15":"login"==e.$route.name},style:{"background-color":e.$vuetify.theme.dark?"#202020 !important":""}},[e.getPageTitle?t("navbar",{staticClass:"notPrint",attrs:{pageTitle:e.getPageTitle}}):e._e(),t("transition",{attrs:{name:"scale",mode:"out-in"}},[t("router-view")],1)],1)],1)},n=[],o={name:"App",data:()=>({}),computed:{getPageTitle(){return{home:"پەڕەی سەرەکی",items:"کاڵاکان",roles:"ڕۆڵەکان",expenses:"خەرجیەکان",box:"قاسەی پارە",suppliers:"کۆمپانیاکان",customers:"کڕیارەکان",purchases:"کڕینەکان",users:"بەکارهێنەرەکان",disposals:"تەلەفەکان",invoice:"فرۆشتن",showInvoice:"پسوڵەی عــرض",stock:"مەخزەن",stockReport:"زانیاری مەخزەن",saleReport:"زانیاری فرۆشتن",itemSaleReport:"زانیاری کاڵای فرۆشراو",purchaseReport:"زانیاری کڕین",moneyMovement:"جوڵەی پارە",customerDebts:"قەرزی کڕیارەکان",supplierDebts:"قەرزی کۆمپانیاکان",profitReport:"زانیاری قازانج",expenseReport:"زانیاری خەرجی",moneyInStock:"زانیاری پارەی ماوە",supplierDebtReport:"ڕاپۆرتی قەرزی کۆمپانیا + (قەرزی هاوبەشەکان)",customerDebtReport:"ڕاپۆرتی قەرزی کڕیارەکان + (قەرزی هاوبەشەکان)",ownerSaleReport:"فرۆشراوی خاوەندارێتی",profitByItem:"قازانج بە پێی مەواد",accountStatementCompany:"کشف حساب کۆمپانیا",amountOwner:"سندوقی حساب"}[this.$route.name]}}},c=o,u=(s("884c"),s("2877")),d=Object(u["a"])(c,l,n,!1,null,null,null),m=d.exports,h=s("9483");Object(h["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});s("0643"),s("9a9a");var p=s("8c4f"),g=s("bc3a"),f=s.n(g),b=s("288c"),v=s("8336"),y=s("b0af"),x=s("99d9"),D=s("cc20"),I=s("62ad"),_=s("a523"),k=s("8fea"),S=s("169a"),C=s("ce7e"),$=s("4bd4"),N=s("132d"),w=s("0fd9"),P=s("b974"),T=s("8dd9"),R=s("2fa4"),O=s("8654"),A=s("a293"),E=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"primary",icon:"mdi-dots-grid",text:"کاڵاکان",data:e.numberOfItems.toLocaleString(),to:"/items"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"orange",icon:"mdi-alert-minus-outline",text:"کاڵا کەمبووەکان",data:e.lackInStockItems.length.toLocaleString()}},[t(S["a"],{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"orange lighten-1 white--text"}},"v-btn",a,!1),s),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.decreasedItems,callback:function(t){e.$set(e.dialogs,"decreasedItems",t)},expression:"dialogs.decreasedItems"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" کاڵا کەمبووەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.decreasedItems=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-5"},[t(w["a"],[t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(O["a"],{attrs:{label:"گەڕان بە ناو یان بارکۆد",outlined:"",dense:"",clearable:""},model:{value:e.searchLackInStock,callback:function(t){e.searchLackInStock=t},expression:"searchLackInStock"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},model:{value:e.searchOwnerLackInStock,callback:function(t){e.searchOwnerLackInStock=t},expression:"searchOwnerLackInStock"}})],1)],1),t(k["a"],{attrs:{headers:e.decreasedItemsHeader,items:e.filteredLackItems,search:e.searchLackInStock,"footer-props":{"items-per-page-options":[10,15,20]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[t(D["a"],{attrs:{label:"",color:s.totalInStock>10?"primary":s.totalInStock<10&&s.totalInStock>5?"warning":"error"}},[e._v(" "+e._s(s.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"success",icon:"mdi-account-group-outline",text:"بەکارهێنەرەکان",data:e.numberOfUsers.toLocaleString(),to:"/users"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"orange",icon:"mdi-bank-transfer-out",text:"خەرجی ئەمڕۆ",data:e.totalExpense.toLocaleString()+" IQD",to:"/expenses"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"success",icon:"fa fa-hand-holding-usd",text:"فرۆشتنی ئەمڕۆ",data:e.getTotalSoldToday.toLocaleString()+" $"}},[t(S["a"],{attrs:{persistent:"",width:"85%",eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success lighten-1 white--text"}},"v-btn",a,!1),s),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todaySold,callback:function(t){e.$set(e.dialogs,"todaySold",t)},expression:"dialogs.todaySold"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" فرۆشتنی ئەمڕۆ ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todaySold=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("itemSaleReport")],1)],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t("card",{attrs:{color:"primary",icon:"mdi-cart-plus",text:"کڕینی ئەمڕۆ",data:e.getTotalPurchaseToday.toLocaleString()+" $"}},[t(S["a"],{attrs:{width:"75%"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary lighten-1 white--text"}},"v-btn",a,!1),s),[e._v(" بینین ")])]}}]),model:{value:e.dialogs.todayPurchase,callback:function(t){e.$set(e.dialogs,"todayPurchase",t)},expression:"dialogs.todayPurchase"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" کڕینی ئەمڕۆ ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.todayPurchase=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],[t(k["a"],{attrs:{headers:e.todayPurchaseHeader,items:e.todayPurchase,"footer-props":{"items-per-page-options":[10,20]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.referenceNo)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.supplierName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.amountPay.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(s.paymentType))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(s.PurchaseStatus))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.user)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{color:"primary",icon:""},on:{click:function(t){return e.getPurchaseDetail(s.purchaseID,s.referenceNo)}}},[t(N["a"],[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1)],1)],1),t(C["a"],{staticClass:"my-4"}),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCategory"),expression:"emitter.$emit('closeCategory')"}],attrs:{inset:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}]),model:{value:e.sheets.category,callback:function(t){e.$set(e.sheets,"category",t)},expression:"sheets.category"}},[t(T["a"],{staticClass:"px-3"},[t("formCategory")],1)],1):t(S["a"],{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-shape-outline ")]),e._v(" جۆرەکان ")],1)]}}],null,!1,2045869111),model:{value:e.dialogs.category,callback:function(t){e.$set(e.dialogs,"category",t)},expression:"dialogs.category"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" جۆرەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCategory"),e.dialogs.category=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formCategory")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeBrand"),expression:"emitter.$emit('closeBrand')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}]),model:{value:e.sheets.brand,callback:function(t){e.$set(e.sheets,"brand",t)},expression:"sheets.brand"}},[t(T["a"],{staticClass:"px-3"},[t("formBrand")],1)],1):t(S["a"],{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" far fa-copyright ")]),e._v(" براندەکان ")],1)]}}],null,!1,3873983502),model:{value:e.dialogs.brand,callback:function(t){e.$set(e.dialogs,"brand",t)},expression:"dialogs.brand"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" براندەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeBrand"),e.dialogs.brand=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formBrand")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeShelf"),expression:"emitter.$emit('closeShelf')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-bookshelf ")]),e._v(" خاوەندارێتیەکان ")],1)]}}]),model:{value:e.sheets.shelf,callback:function(t){e.$set(e.sheets,"shelf",t)},expression:"sheets.shelf"}},[t(T["a"],{staticClass:"px-3"},[t("formShelf")],1)],1):t(S["a"],{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-account-tie ")]),e._v(" خاوەندارێتیەکان ")],1)]}}],null,!1,1467658905),model:{value:e.dialogs.shelf,callback:function(t){e.$set(e.dialogs,"shelf",t)},expression:"dialogs.shelf"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" خاوەندارێتیەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeShelf"),e.dialogs.shelf=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formShelf")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUnit"),expression:"emitter.$emit('closeUnit')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}]),model:{value:e.sheets.unit,callback:function(t){e.$set(e.sheets,"unit",t)},expression:"sheets.unit"}},[t(T["a"],{staticClass:"px-3"},[t("formUnit")],1)],1):t(S["a"],{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-warehouse ")]),e._v(" مەخزەنەکان ")],1)]}}],null,!1,4058360020),model:{value:e.dialogs.unit,callback:function(t){e.$set(e.dialogs,"unit",t)},expression:"dialogs.unit"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" مەخزەنەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUnit"),e.dialogs.unit=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formUnit")],1)],1)],1)],1)],1),t(C["a"],{staticClass:"mb-2 mt-2"}),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[t(y["a"],{staticClass:"px-5 py-3",attrs:{color:"blue-grey lighten-4"}},[t($["a"],{ref:"formDollar",on:{submit:function(e){e.preventDefault()}}},[t(O["a"],{staticClass:"my-0",attrs:{type:"number",label:"نرخی 1 دۆلار",outlined:"",dense:"",rules:e.rules.dollarRule,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateDollar()}},model:{value:e.dollarPrice,callback:function(t){e.dollarPrice=e._n(t)},expression:"dollarPrice"}}),t(v["a"],{attrs:{block:"",loading:e.loadings.updateDollar},on:{click:function(t){return e.updateDollar()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1)],1)],1),t(C["a"],{staticClass:"mb-2 mt-2"}),t(S["a"],{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t(k["a"],{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),t(S["a"],{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(x["a"],[t(k["a"],{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty.toLocaleString())+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costAfterDisc.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.costAfterDisc*s.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1),t("notification"),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"6",lg:"6"}},[t("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"chart"}})]),t(I["a"],{attrs:{cols:"12",md:"6",lg:"6"}},[t("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"lineChart"}})]),t(I["a"],{attrs:{cols:"12",md:"6",lg:"6"}},[t("div",{staticStyle:{width:"80%",height:"400px"},attrs:{id:"chartToday"}})])],1)],1)},B=[],U=(s("13d5"),s("2382"),s("a573"),s("9d4a"),s("0798")),L=function(){var e=this,t=e._self._c;return t(U["a"],{staticClass:"my-0 px-1",attrs:{elevation:"1",outlined:"",text:"",color:e.color}},[t(w["a"],[t(I["a"],{attrs:{cols:"4"}},[t(N["a"],{staticClass:"px-3",attrs:{"x-large":"",color:e.color}},[e._v(" "+e._s(e.icon)+" ")])],1),t(I["a"],{attrs:{cols:"8"}},[e._v(" "+e._s(e.text)+" "),t("hr"),e._v(" "+e._s(e.data)+" ")]),t(I["a"],{staticClass:"px-5"},[e.to?t(v["a"],{attrs:{block:"",to:e.to,color:e.color+" lighten-1 white--text"}},[e._v(" بینین ")]):e._e(),e._t("default")],2)],1)],1)},q=[],F={props:["color","icon","text","data","to"]},j=F,Q=Object(u["a"])(j,L,q,!1,null,null,null),W=Q.exports,M=s("891e"),G=s("1f4f"),z=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formCategory",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"جـۆر",outlined:"",dense:"",rules:e.rules.categoryName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addCategory()}},model:{value:e.singleCategory.categoryName,callback:function(t){e.$set(e.singleCategory,"categoryName","string"===typeof t?t.trim():t)},expression:"singleCategory.categoryName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addCategory,disabled:!e.singleCategory.categoryName},on:{click:function(t){return e.addCategory()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.clearCategory()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" جۆر ")]),t("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.categories,(function(s,a){return t("tr",{key:s.categoryID},[t("td",[e._v(" "+e._s(6*(e.page-1)+(a+1))+" ")]),s.categoryID!=e.singleCategory.categoryID?t("td",[e._v(" "+e._s(s.categoryName)+" ")]):t("td",[t(O["a"],{attrs:{dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateCategory(s.categoryID,a)}},model:{value:e.categories[a].categoryName,callback:function(t){e.$set(e.categories[a],"categoryName","string"===typeof t?t.trim():t)},expression:"categories[index].categoryName"}})],1),t("td",[s.categoryID!=e.singleCategory.categoryID?t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.singleCategory.categoryID=s.categoryID}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):t(v["a"],{attrs:{icon:"",color:"success",disabled:!e.categories[a].categoryName,loading:e.loadings.updateCategory},on:{click:function(t){return e.updateCategory(s.categoryID,a)}}},[t(N["a"],[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),t(M["a"],{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfCategories/6),"total-visible":"5",color:"primary"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},H=[],V={data(){return{page:1,loadings:{addCategory:!1,updateCategory:!1},categories:[],singleCategory:{categoryID:null,categoryName:null},rules:{categoryName:[e=>null!=e&&e.length>0||"تکایە جۆرەکە داخڵ بکە"]},numberOfCategories:0}},created(){this.getCategories(),this.$http.get("/essential/numberOfCategories").then(({data:e})=>{this.numberOfCategories=e.numberOfCategories})},mounted(){this.emitter.$on("closeCategory",()=>{this.clearCategory()})},methods:{getCategories(){this.$http.get("/essential/getLimitedCategories/"+6*(this.page-1)).then(({data:e})=>{this.categories=e})},addCategory(){this.$refs.formCategory.validate()&&(this.loadings.addCategory=!0,this.$http.post("/essential/addCategory",{categoryName:this.singleCategory.categoryName}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==this.page&&(this.categories.unshift({categoryID:e.categoryID,categoryName:this.singleCategory.categoryName}),this.categories.length>6&&this.categories.pop()),++this.numberOfCategories,this.clearCategory()}).finally(()=>{this.loadings.addCategory=!1}))},updateCategory(e,t){let s=this.categories[t].categoryName;s?(this.loadings.updateCategory=!0,this.$http.patch("/essential/updateCategory/"+e,{categoryName:s}).then(()=>{this.singleCategory.categoryID=null,this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}).finally(()=>{this.loadings.updateCategory=!1})):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆرەکە داخڵ بکە"}),console.log(e),console.log(t)},clearCategory(){this.singleCategory.categoryID=null,this.singleCategory.categoryName=null,this.$refs.formCategory.resetValidation()}},watch:{page(){this.getCategories()}},beforeDestroy(){this.emitter.$off("closeCategory")}},K=V,J=Object(u["a"])(K,z,H,!1,null,null,null),X=J.exports,Y=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formBrand",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"براند",outlined:"",dense:"",rules:e.rules.brandName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addBrand()}},model:{value:e.singleBrand.brandName,callback:function(t){e.$set(e.singleBrand,"brandName","string"===typeof t?t.trim():t)},expression:"singleBrand.brandName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"success",disabled:!e.singleBrand.brandName,loading:e.loadings.addBrand},on:{click:function(t){return e.addBrand()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.clearBrand()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" براند ")]),t("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.brands,(function(s,a){return t("tr",{key:s.brandID},[t("td",[e._v(" "+e._s(6*(e.page-1)+(a+1))+" ")]),s.brandID!=e.singleBrand.brandID?t("td",[e._v(" "+e._s(s.brandName)+" ")]):t("td",[t(O["a"],{attrs:{dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateBrand(s.brandID,a)}},model:{value:e.brands[a].brandName,callback:function(t){e.$set(e.brands[a],"brandName","string"===typeof t?t.trim():t)},expression:"brands[index].brandName"}})],1),t("td",[s.brandID!=e.singleBrand.brandID?t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.singleBrand.brandID=s.brandID}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):t(v["a"],{attrs:{icon:"",color:"success",disabled:!e.brands[a].brandName,loading:e.loadings.updateBrand},on:{click:function(t){return e.updateBrand(s.brandID,a)}}},[t(N["a"],[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),t(M["a"],{staticClass:"mt-1",attrs:{length:Math.ceil(e.numberOfBrands/6),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},Z=[],ee={data(){return{page:1,loadings:{addBrand:!1,updateBrand:!1},brands:[],singleBrand:{brandID:null,brandName:null},rules:{brandName:[e=>null!=e&&e.length>0||"تکایە براند داخڵ بکە"]},numberOfBrands:0}},created(){this.getBrands(),this.$http.get("/essential/numberOfBrands").then(({data:e})=>{this.numberOfBrands=e.numberOfBrands})},mounted(){this.emitter.$on("closeBrand",()=>{this.clearBrand()})},methods:{getBrands(){this.$http.get("/essential/getLimitedBrands/"+6*(this.page-1)).then(({data:e})=>{this.brands=e})},addBrand(){this.$refs.formBrand.validate()&&(this.loadings.addBrand=!0,this.$http.post("/essential/addBrand",{brandName:this.singleBrand.brandName}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),1==this.page&&(this.brands.unshift({brandID:e.brandID,brandName:this.singleBrand.brandName}),this.brands.length>6&&this.brands.pop()),++this.numberOfBrands,this.clearBrand()}).finally(()=>{this.loadings.addBrand=!1}))},updateBrand(e,t){let s=this.brands[t].brandName;s?(this.loadings.updateBrand=!0,this.$http.patch("/essential/updateBrand/"+e,{brandName:s}).then(()=>{this.singleBrand.brandID=null,this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}).finally(()=>{this.loadings.updateBrand=!1})):this.emitter.$emit("notify",{type:"warning",text:"تکایە براندەکە داخڵ بکە"})},clearBrand(){this.singleBrand.brandID=null,this.singleBrand.brandName=null,this.$refs.formBrand.resetValidation()}},watch:{page(){this.getBrands()}},beforeDestroy(){this.emitter.$off("closeBrand")}},te=ee,se=Object(u["a"])(te,Y,Z,!1,null,null,null),ae=se.exports,ie=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formShelf",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"نــاو",outlined:"",dense:"",rules:e.rules.shelfName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addShelf()}},model:{value:e.singleShelf.shelfName,callback:function(t){e.$set(e.singleShelf,"shelfName","string"===typeof t?t.trim():t)},expression:"singleShelf.shelfName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addShelf,disabled:!e.singleShelf.shelfName},on:{click:function(t){return e.addShelf()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.clearShelf()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" نــاو ")]),t("th",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.shelfs,(function(s,a){return t("tr",{key:s.shelfID},[t("td",[e._v(" "+e._s(a+1)+" ")]),s.shelfID!=e.singleShelf.shelfID?t("td",[e._v(" "+e._s(s.shelfName)+" ")]):t("td",[t(O["a"],{attrs:{dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateShelf(s.shelfID,a)}},model:{value:e.shelfs[a].shelfName,callback:function(t){e.$set(e.shelfs[a],"shelfName","string"===typeof t?t.trim():t)},expression:"shelfs[index].shelfName"}})],1),t("td",[s.shelfID!=e.singleShelf.shelfID?t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.singleShelf.shelfID=s.shelfID}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):t(v["a"],{attrs:{icon:"",color:"success"},on:{click:function(t){return e.updateShelf(s.shelfID,a)}}},[t(N["a"],[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},re=[],le={data(){return{loadings:{addShelf:!1,updateShelf:!1},shelfs:[],singleShelf:{shelfID:null,shelfName:null},rules:{shelfName:[e=>null!=e&&e.length>0||"تکایە ڕەفە داخڵ بکە"]}}},created(){this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e})},mounted(){this.emitter.$on("closeShelf",()=>{this.clearShelf()})},methods:{addShelf(){this.$refs.formShelf.validate()&&(this.loadings.addShelf=!0,this.$http.post("/essential/addShelf",{shelfName:this.singleShelf.shelfName}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.shelfs.unshift({shelfID:e.shelfID,shelfName:this.singleShelf.shelfName}),this.clearShelf()}).finally(()=>{this.loadings.addShelf=!1}))},updateShelf(e,t){let s=this.shelfs[t].shelfName;s?(this.loadings.updateShelf=!0,this.$http.patch("/essential/updateShelf/"+e,{shelfName:s}).then(()=>{this.singleShelf.shelfID=null,this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}).finally(()=>{this.loadings.updateShelf=!1})):this.emitter.$emit("notify",{type:"warning",text:"تکایە ڕەفەکە داخڵ بکە"})},clearShelf(){this.singleShelf.shelfID=null,this.singleShelf.shelfName=null,this.$refs.formShelf.resetValidation()}},beforeDestroy(){this.emitter.$off("closeShelf")}},ne=le,oe=Object(u["a"])(ne,ie,re,!1,null,null,null),ce=oe.exports,ue=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formUnit",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"مەخزەن",outlined:"",dense:"",rules:e.rules.unitName},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addUnit()}},model:{value:e.singleUnit.unitName,callback:function(t){e.$set(e.singleUnit,"unitName","string"===typeof t?t.trim():t)},expression:"singleUnit.unitName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addUnit,disabled:!e.singleUnit.unitName},on:{click:function(t){return e.addUnit()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.clearUnit()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),t("th",{staticClass:"text-center",staticStyle:{}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.units,(function(s,a){return t("tr",{key:s.unitID},[t("td",[e._v(" "+e._s(a+1)+" ")]),s.unitID!=e.singleUnit.unitID?t("td",[e._v(" "+e._s(s.unitName)+" ")]):t("td",[t(O["a"],{attrs:{dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateUnit(s.unitID,a)}},model:{value:e.units[a].unitName,callback:function(t){e.$set(e.units[a],"unitName","string"===typeof t?t.trim():t)},expression:"units[index].unitName"}})],1),t("td",[s.unitID!=e.singleUnit.unitID?t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.singleUnit.unitID=s.unitID}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):t(v["a"],{attrs:{icon:"",color:"success",loading:e.loadings.updateUnit},on:{click:function(t){return e.updateUnit(s.unitID,a)}}},[t(N["a"],[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])})],1)},de=[],me={data(){return{loadings:{addUnit:!1,updateUnit:!1},units:[],singleUnit:{unitID:null,unitName:null,shortName:null},rules:{unitName:[e=>null!=e&&e.length>0||"تکایە یەکە داخڵ بکە"],shortName:[e=>null!=e&&e.length>0||"تکایە ناوی کورتکراوەی یەکە داخڵ بکە"]}}},created(){this.$http.get("/essential/getUnits").then(({data:e})=>{this.units=e})},mounted(){this.emitter.$on("closeUnit",()=>{this.clearUnit()})},methods:{setFocus(e){document.getElementById(e).focus()},addUnit(){this.$refs.formUnit.validate()&&(this.loadings.addUnit=!0,this.$http.post("/essential/addUnit",{unitName:this.singleUnit.unitName,shortName:this.singleUnit.shortName}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.units.unshift({unitID:e.unitID,unitName:this.singleUnit.unitName,shortName:this.singleUnit.shortName}),this.clearUnit()}).finally(()=>{this.loadings.addUnit=!1}))},updateUnit(e,t){let s=this.units[t].unitName;s?(this.loadings.updateUnit=!0,this.$http.patch("/essential/updateUnit/"+e,{unitName:s,shortName:null}).then(()=>{this.singleUnit.unitID=null,this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}).finally(()=>{this.loadings.updateUnit=!1})):this.emitter.$emit("notify",{type:"warning",text:"تکایە مەخزەن داخڵ بکە"})},clearUnit(){this.singleUnit.unitID=null,this.singleUnit.unitName=null,this.singleUnit.shortName=null,this.$refs.formUnit.resetValidation()}},beforeDestroy(){this.emitter.$off("closeUnit")}},he=me,pe=Object(u["a"])(he,ue,de,!1,null,null,null),ge=pe.exports,fe=s("2e4b"),be=s("cd55"),ve=s("49e2"),ye=s("c865"),xe=s("0393"),De=s("e449"),Ie=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["a"],[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("زانیاری گەڕان بۆ فرۆشراوەکان : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.shelfID=null}},model:{value:e.search.shelfID,callback:function(t){e.$set(e.search,"shelfID",t)},expression:"search.shelfID"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"3"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"3"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"2",lg:"2"}},[t(v["a"],{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[t(S["a"],{scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{color:"primary",block:""}},"v-btn",a,!1),s),[e._v(" کۆی گشتی ")])]}}])},[t(y["a"],[t(x["b"],[t("span",[e._v(" کۆی گشتی کاڵا فرۆشراوەکان ")])]),t(C["a"]),t(x["a"],[t(k["a"],{attrs:{loading:e.loadings.table,headers:e.getItemsWithTotalHeader,items:e.filteredItemsWithTotal,"footer-props":{"items-per-page-options":[15,20,25]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.total.toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)],1),t(k["a"],{attrs:{loading:e.loadings.table,headers:e.getItemsHeader,items:e.filteredItems,"footer-props":{"items-per-page-options":[15,20,25]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.invoiceID)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")])])]}}])})],1)},_e=[],ke={data(){return{loadings:{clearSearch:!1,table:!1},dialogs:{itemsWithTotal:!1},search:{shelfID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},users:[],items:[],shelfs:[],itemsWithTotal:[],menu2:!1,menu3:!1}},created(){this.$http.get("/user/allUser").then(({data:e})=>{this.users=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.getAllItems()},methods:{clearSearch(){this.search.shelfID=null,this.search.userID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getAllItems(){this.items=[],this.itemsWithTotal=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&(this.loadings.table=!0,this.$http.get("/item/getSoldedItems/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.items=e.items,this.itemsWithTotal=e.itemsWithTotal}).finally(()=>this.loadings.table=!1))}},computed:{getItemsHeader(){return[{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"qty",sortable:!0},{text:"نرخی دانە",align:"center",value:"productPrice",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!1},{text:"بەکارهێنەر",align:"center",sortable:!1}]},getItemsWithTotalHeader(){return[{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"qty",sortable:!0},{text:"کۆی گشتی",align:"center",value:"total",sortable:!0}]},filteredItems(){return this.items.filter(e=>!this.search.shelfID||e.shelfID==this.search.shelfID)},filteredItemsWithTotal(){return this.itemsWithTotal.filter(e=>!this.search.shelfID||e.shelfID==this.search.shelfID)}},watch:{"search.fromDate":function(){this.getAllItems()},"search.toDate":function(){this.getAllItems()}}},Se=ke,Ce=Object(u["a"])(Se,Ie,_e,!1,null,null,null),$e=Ce.exports;const Ne=e=>({s:"فرۆشتن",rs:"گەڕاندنەوەی فرۆشراو",rds:"هێنانەوەی قەرز",p:"کڕین",rp:"گەڕاندنەوەی کڕدراو",rdp:"دانەوەی قەرز",d:"تەلەف",c:"کاش"}[e]),we=e=>({c:"کاش",d:"قەرز",rd:"پسووڵەی قەرز"}[e]),Pe=e=>({recived:"وەرگیراو",ordered:"کڕدراو",pending:"لە چاوەڕوانیدایە"}[e]),Te=e=>({s:"فرۆشتن",rs:"گەڕاوەی فرۆشراو",p:"کڕین",rp:"گەڕاوەی کڕدراو",exp:"خـەرجی",rdp:"دانەوەی قەرزی کۆمپانیا",rds:"وەرگرتنەوەی قەرزی کڕیار",in:"زیادکردن بۆ قاسە",out:"دەرهێنان لە قاسە"}[e]);var Re=s("313e"),Oe=new Date;const Ae=[];for(let Ll=0;Ll<7;Ll++)Ae.unshift(Oe.toLocaleString("default",{weekday:"short"})),Oe.setDate(Oe.getDate()-1);var Ee={name:"Index",components:{card:W,formCategory:X,formBrand:ae,formShelf:ce,formUnit:ge,itemSaleReport:$e},data(){return{dialogs:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1,decreasedItems:!1,expiredItems:!1,expiredItems15:!1,todayExpenses:!1,todaySold:!1,todayPurchase:!1,purchaseDetail:!1,invoiceDetail:!1},sheets:{category:!1,brand:!1,shelf:!1,unit:!1,role:!1},loadings:{invoiceDetail:!1,purchaseDetail:!1,updateDollar:!1},pages:{decreasedItems:1,expiredItems:1,expiredItems15:1},numberOfItems:0,numberOfUsers:0,todaySold:[],totalExpense:0,invoiceDetail:{invoiceID:null,items:[]},todayPurchase:[],purchaseDetail:{referenceNo:null,items:[]},lackInStockItems:[],dollarPrice:0,rules:{dollarRule:[e=>Number(e)>=0||"نرخی دۆلار ئەبێت لە 0 گەورەتر بێت"]},getTopSaleByCat:[],shelfs:[],searchLackInStock:"",searchOwnerLackInStock:null,option:{title:{text:"زۆرترین فرۆش بە پێی جۆر",left:"center"},tooltip:{trigger:"جۆر"},legend:{orient:"vertical",left:"left"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"Access From",type:"pie",radius:"50%",data:[]}]},optionToday:{title:{text:"زۆرترین فرۆشتنی ئەمڕۆ بە پێی جۆر",left:"center"},tooltip:{trigger:"جۆر"},legend:{orient:"vertical",left:"left"},toolbox:{feature:{saveAsImage:{}}},series:[{name:"Access From",type:"pie",radius:"50%",data:[]}]},option2:{title:{text:"کڕین و فرۆشتن"},tooltip:{trigger:"axis"},legend:{data:["فرۆشتن","کڕین"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:Ae},yAxis:{type:"value"},series:[{name:"فرۆشتن",type:"line",stack:"Sale",data:[]},{name:"کڕین",type:"line",stack:"Purchase",data:[]}]}}},created(){this.$http.get("/item/countAllItems").then(({data:e})=>{this.numberOfItems=e.numberOfItems}),this.$http.get("/user/countAllUsers").then(({data:e})=>{this.numberOfUsers=e.numberOfUsers}),this.$http.get("/invoice/todaySold").then(({data:e})=>{this.todaySold=e}),this.$http.get("/expense/todayTotalExpense").then(({data:e})=>{this.totalExpense=e.total}),this.$http.get("/item/lackInStock").then(({data:e})=>{this.lackInStockItems=e}),this.$http.get("/generalReport/getTodayPurchases").then(({data:e})=>{this.todayPurchase=e}),this.$http.get("/essential/getDollarPrice").then(({data:e})=>{this.$store.commit("updateDollar",e.dollarPrice),this.dollarPrice=e.dollarPrice}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e})},mounted(){this.chart(),"dgc_22"==this.$route.query.secret&&(this.show=!0)},methods:{chart(){const e=Re["a"](document.getElementById("chart")),t=Re["a"](document.getElementById("lineChart")),s=Re["a"](document.getElementById("chartToday"));this.$http.get("/generalReport/getTopSaleByCat").then(({data:t})=>{this.option.series[0].data=t.getTopSaleByCat.map(e=>({value:e.totalSale,name:e.categoryName})),e.setOption(this.option)}),this.$http.get("/generalReport/getTopSaleByCatToday").then(({data:e})=>{this.optionToday.series[0].data=e.getTopSaleByCat.map(e=>({value:e.totalSale,name:e.categoryName})),s.setOption(this.optionToday)}),this.$http.get("/generalReport/getSaleAndPurchase").then(({data:e})=>{this.option2.series[0].data[6]=e.todaySale,this.option2.series[0].data[5]=e.PreviousOneDaySale,this.option2.series[0].data[4]=e.PreviousTwoDaySale,this.option2.series[0].data[3]=e.PreviousThreeDaySale,this.option2.series[0].data[2]=e.PreviousFourDaySale,this.option2.series[0].data[1]=e.PreviousFiveDaySale,this.option2.series[0].data[0]=e.PreviousSixDaySale,this.option2.series[1].data[6]=e.todayPurchase,this.option2.series[1].data[5]=e.PreviousOneDayPurchase,this.option2.series[1].data[4]=e.PreviousTwoDayPurchase,this.option2.series[1].data[3]=e.PreviousThreeDayPurchase,this.option2.series[1].data[2]=e.PreviousFourDayPurchase,this.option2.series[1].data[1]=e.PreviousFiveDayPurchase,this.option2.series[1].data[0]=e.PreviousSixDayPurchase,t.setOption(this.option2)}),window.addEventListener("resize",()=>{setTimeout((function(){e.resize(),t.resize(),s.resize()}),200)})},getInvoiceDetail(e){this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then(({data:t})=>{this.invoiceDetail.invoiceID=e,this.invoiceDetail.items=t.invoiceItems}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.invoiceDetail=!1)},getPurchaseDetail(e,t){this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then(({data:e})=>{this.purchaseDetail.referenceNo=t,this.purchaseDetail.items=e}).finally(()=>this.loadings.purchaseDetail=!1)},updateDollar(){this.$refs.formDollar.validate()&&(this.loadings.updateDollar=!0,this.$http.patch("/essential/updateDollar",{dollarPrice:this.dollarPrice}).then(()=>{this.$store.commit("updateDollar",this.dollarPrice),this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})}).finally(()=>this.loadings.updateDollar=!1))}},computed:{decreasedItemsHeader(){return[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",align:"center",value:"itemCode",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانەی ماوە لە مەخزەن",align:"center",value:"totalInStock",sortable:!0}]},todaySoldHeader(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"کڕیار",align:"center",value:"customerName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"وردەکاری",align:"center",sortable:!1}]},invoiceDetailHeader(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},todayPurchaseHeader(){return[{text:"#",align:"center",sortable:!1},{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},purchaseDetailHeader(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},getTotalSoldToday(){return this.todaySold.reduce((e,t)=>e+t.totalPrice,0)},getTotalPurchaseToday(){return this.todayPurchase.reduce((e,t)=>e+t.totalPrice,0)},filteredLackItems(){return this.lackInStockItems.filter(e=>!this.searchOwnerLackInStock||e.shelfID==this.searchOwnerLackInStock)}},filters:{invoiceType:we,purchaseStatus:Pe}},Be=Ee,Ue=Object(u["a"])(Be,E,B,!1,null,null,null),Le=Ue.exports,qe=s("b73d"),Fe=s("5607"),je=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{label:"جۆر",outlined:"",dense:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID","append-icon":"mdi-shape-outline",clearable:""},model:{value:e.groupSearches.categoryID,callback:function(t){e.$set(e.groupSearches,"categoryID",t)},expression:"groupSearches.categoryID"}})],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{label:"براند",outlined:"",dense:"",items:e.brands,"item-text":"brandName","item-value":"brandID","append-icon":"far fa-copyright",clearable:""},model:{value:e.groupSearches.brandID,callback:function(t){e.$set(e.groupSearches,"brandID",t)},expression:"groupSearches.brandID"}})],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID","append-icon":"mdi-account-tie",clearable:""},model:{value:e.groupSearches.shelfID,callback:function(t){e.$set(e.groupSearches,"shelfID",t)},expression:"groupSearches.shelfID"}})],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{label:"مەخزەنەکان",outlined:"",dense:"",items:e.units,"item-text":"unitName","item-value":"unitID","append-icon":"mdi-warehouse",clearable:""},model:{value:e.groupSearches.unitID,callback:function(t){e.$set(e.groupSearches,"unitID",t)},expression:"groupSearches.unitID"}})],1),10!=e.userID?t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[t(D["a"],{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" فلتەری نرخی کڕین لە نێوان: ")])],1):e._e(),10!=e.userID?t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[t(O["a"],{attrs:{outlined:"",dense:""},model:{value:e.firstBuyPrice,callback:function(t){e.firstBuyPrice=t},expression:"firstBuyPrice"}})],1):e._e(),10!=e.userID?t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[t(D["a"],{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" بــۆ: ")])],1):e._e(),10!=e.userID?t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"1",lg:"1"}},[t(O["a"],{attrs:{outlined:"",dense:""},model:{value:e.secondBuyPrice,callback:function(t){e.secondBuyPrice=t},expression:"secondBuyPrice"}})],1):e._e(),t(R["a"]),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(D["a"],{staticStyle:{width:"100%",height:"40px"},attrs:{label:""}},[e._v(" کاڵا تـەواوبـووەکـان "),t(qe["a"],{staticClass:"mx-5",attrs:{inset:""},model:{value:e.groupSearches.outOfStock,callback:function(t){e.$set(e.groupSearches,"outOfStock",t)},expression:"groupSearches.outOfStock"}})],1)],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"12",lg:"12"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(I["a"],{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[t("card",{attrs:{color:"primary",icon:"mdi-archive",text:"ژمارەی کاڵاکان",data:e.filteredItems.length.toLocaleString()}})],1),t(I["a"],{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[t("card",{attrs:{color:"primary",icon:"mdi-chart-scatter-plot-hexbin",text:"کۆی عەدەدی ماوە",data:e.getTotalInStock.toLocaleString()}})],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[t("card",{attrs:{color:"info",icon:"mdi-currency-usd",text:"کۆی نرخی کڕین",data:e.getTotalCostPrice.toLocaleString()+" $"}})],1),t(I["a"],{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[t("card",{attrs:{color:"success",icon:"mdi-currency-usd",text:"کۆی نرخی فرۆشتن",data:e.getTotalRetailPrice.toLocaleString()+" $"}})],1)],1),t(C["a"],{staticClass:"my-3"}),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(S["a"],{attrs:{persistent:"",eager:"",width:"95%"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(U["a"],e._g(e._b({directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),s),[t(N["a"],{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کاڵا ")],1)]}}]),model:{value:e.dialogs.item,callback:function(t){e.$set(e.dialogs,"item",t)},expression:"dialogs.item"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری کاڵا ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeItem"),e.dialogs.item=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(x["a"],[t("formItem")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(v["a"],{attrs:{block:"",color:"primary"}},[t("download-excel",{attrs:{data:e.filteredItems,fields:e.fields}},[e._v(" Download Excel file "),t(N["a"],[e._v("mdi-file-excel-outline")])],1)],1)],1),t(R["a"])],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.filteredItems,search:e.search,loading:e.loadings.table,"footer-props":{"items-per-page-options":[10,15,20,25,30]},"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.categoryName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.brandName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName)+" ")]),t("td",{staticClass:"text-center"},[t(D["a"],{attrs:{color:s.totalInStock>0?"primary":"error"}},[e._v(" "+e._s(s.totalInStock.toLocaleString())+" ")])],1),10!=e.userID?t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costPrice.toLocaleString())+" $ ")]):e._e(),10!=e.userID?t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemPriceWhole.toLocaleString())+" $ ")]):e._e(),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemPriceRetail.toLocaleString())+" $ ")]),10!=e.userID?t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getItem(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteItem(s.itemID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1):e._e()])]}}])}),t("notification")],1)},Qe=[],We=s("ac7c"),Me=s("adda"),Ge=s("a844"),ze=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formItem",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[e.cameraOpened?t(v["a"],{attrs:{color:"error",block:""},on:{click:function(t){e.cameraOpened=!1}}},[e._v(" داخستنەوەی بارکۆد سکانەر ")]):t(v["a"],{attrs:{color:"primary",block:""},on:{click:function(t){e.cameraOpened=!0}}},[e._v(" کردنەوەی بارکۆد سکانەر ")]),e.cameraOpened?t("StreamBarcodeReader",{on:{decode:e.onDecode,loaded:()=>e.onLoaded()}}):e._e()],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"باڕکۆد",outlined:"",dense:"",id:"item-code",clearable:"",rules:e.rules.itemCode,"validate-on-blur":""},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.setFocus("item-name"),e.searchItemByCode()}},model:{value:e.singleItem.itemCode,callback:function(t){e.$set(e.singleItem,"itemCode","string"===typeof t?t.trim():t)},expression:"singleItem.itemCode"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"ناوی کاڵا",outlined:"",dense:"",id:"item-name",rules:e.rules.itemName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("category")}},model:{value:e.singleItem.itemName,callback:function(t){e.$set(e.singleItem,"itemName","string"===typeof t?t.trim():t)},expression:"singleItem.itemName"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(P["a"],{attrs:{label:"جۆر",outlined:"",dense:"",clearable:"",items:e.categories,"item-value":"categoryID","item-text":"categoryName",id:"category"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("brand")}},model:{value:e.singleItem.categoryID,callback:function(t){e.$set(e.singleItem,"categoryID",t)},expression:"singleItem.categoryID"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(P["a"],{attrs:{label:"براند",outlined:"",dense:"",clearable:"",items:e.brands,"item-value":"brandID","item-text":"brandName",id:"brand"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("shelf")}},model:{value:e.singleItem.brandID,callback:function(t){e.$set(e.singleItem,"brandID",t)},expression:"singleItem.brandID"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",outlined:"",dense:"",clearable:"",items:e.shelfs,"item-value":"shelfID","item-text":"shelfName",id:"shelf",rules:e.rules.shelf,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("unit")}},model:{value:e.singleItem.shelfID,callback:function(t){e.$set(e.singleItem,"shelfID",t)},expression:"singleItem.shelfID"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(P["a"],{attrs:{label:"مەخزەن",outlined:"",dense:"",clearable:"",items:e.units,"item-value":"unitID","item-text":"unitName",id:"unit",rules:e.rules.unit,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("perUnit")}},model:{value:e.singleItem.unitID,callback:function(t){e.$set(e.singleItem,"unitID",t)},expression:"singleItem.unitID"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"نرخی کڕین",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"cost-price",rules:e.rules.costPrice,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-retail")}},model:{value:e.singleItem.costPrice,callback:function(t){e.$set(e.singleItem,"costPrice",e._n(t))},expression:"singleItem.costPrice"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"نرخی فرۆشتنی تاک",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-retail",rules:e.rules.itemPriceRetail,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-whole")}},model:{value:e.singleItem.itemPriceRetail,callback:function(t){e.$set(e.singleItem,"itemPriceRetail",e._n(t))},expression:"singleItem.itemPriceRetail"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"نرخی فرۆشتنی کۆ",outlined:"",dense:"",type:"number",prefix:"$",min:"1",id:"price-whole",rules:e.rules.itemPriceWhole,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("stock-alert")}},model:{value:e.singleItem.itemPriceWhole,callback:function(t){e.$set(e.singleItem,"itemPriceWhole",e._n(t))},expression:"singleItem.itemPriceWhole"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"ئاگادارکردنەوە لە کەمبوون (دانە)",outlined:"",dense:"",type:"number",min:"1",id:"stock-alert",rules:e.rules.stockAlert,"validate-on-blur":""},model:{value:e.singleItem.stockAlert,callback:function(t){e.$set(e.singleItem,"stockAlert",e._n(t))},expression:"singleItem.stockAlert"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(O["a"],{attrs:{label:"دانەی بەردەستی ئێستا",outlined:"",dense:"",type:"number",min:"0",rules:e.rules.initialQty,"validate-on-blur":""},model:{value:e.singleItem.initialQty,callback:function(t){e.$set(e.singleItem,"initialQty",e._n(t))},expression:"singleItem.initialQty"}})],1)],1),t(w["a"],[t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(We["a"],{attrs:{label:"دەرکەوتن لە جەرد",color:"primary"},model:{value:e.singleItem.hideInStock,callback:function(t){e.$set(e.singleItem,"hideInStock",t)},expression:"singleItem.hideInStock"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"4"}},[t(We["a"],{attrs:{label:"دەرکەوتن بە دوگمە",color:"primary"},model:{value:e.singleItem.showButton,callback:function(t){e.$set(e.singleItem,"showButton",t)},expression:"singleItem.showButton"}})],1)],1),t(w["a"],{staticClass:"px-3"},[t(Ge["a"],{attrs:{label:"تـێبـینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleItem.note,callback:function(t){e.$set(e.singleItem,"note","string"===typeof t?t.trim():t)},expression:"singleItem.note"}})],1),t(w["a"],{staticClass:"my-0 px-3"},[e.singleItem.itemID?t(v["a"],{attrs:{color:"warning",block:"",loading:e.loadings.updateItem},on:{click:function(t){return e.updateItem()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{color:"success",block:"",loading:e.loadings.addItem},on:{click:function(t){return e.addItem()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{attrs:{cols:"12",md:"4"}},[t("input",{attrs:{type:"file"},on:{change:e.processFile}}),t(C["a"],{staticClass:"mt-2"}),e.singleItem.imagePath?t(Me["a"],{attrs:{src:"/item/image/"+e.singleItem.imagePath}}):e._e(),e.singleItem.itemID?t(v["a"],{staticClass:"mt-2",attrs:{color:"primary",block:"",disabled:!e.singleItem.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وێنە ")],1):e._e(),e.singleItem.imagePath?t(v["a"],{staticClass:"mt-2",attrs:{color:"error",block:"",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e(),t(v["a"],{staticClass:"mt-2",attrs:{color:"info",block:""},on:{click:function(t){e.clearItem(),e.setFocus("item-code")}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-broom ")]),e._v(" پاکردنەوە ")],1)],1)],1)],1)],1)},He=[],Ve=(s("fffc"),s("f337")),Ke={components:{StreamBarcodeReader:Ve["a"]},data(){return{cameraOpened:!1,loadings:{addItem:!1,updateItem:!1,updateImage:!1,deleteImage:!1},categories:[],brands:[],shelfs:[],units:[],singleItem:{itemID:null,itemCode:null,itemName:null,categoryID:null,brandID:null,shelfID:null,unitID:null,perUnit:1,costPrice:0,itemPriceRetail:0,itemPriceWhole:0,stockAlert:0,imagePath:null,imageFile:null,hideInStock:!0,showButton:!0,note:null,initialQty:0},userID:null,rules:{itemCode:[e=>null!=e&&e.length>0||"تکایە باڕکۆد داخڵ بکە"],itemName:[e=>null!=e&&e.length>0||"تکایە ناوی کاڵا داخڵ بکە"],unit:[e=>null!=e&&Number(e)>0||"تکایە مەخزەن هەڵبژێرە"],shelf:[e=>null!=e&&Number(e)>0||"تکایە خاوەندارێتی هەڵبژێرە"],perUnit:[e=>null!=e&&Number(e)>0||"تکایە عەدەد بۆ هەر یەکەیەک بە دروستی داخڵ بکە"],costPrice:[e=>null!=e&&Number(e)>=0||"تکایە نرخی کڕین بەدروستی داخڵ بکە"],itemPriceRetail:[e=>null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی تاک بەدروستی داخڵ بکە"],itemPriceWhole:[e=>null!=e&&Number(e)>=0||"تکایە نرخی فرۆشتنی کۆ بەدروستی داخڵ بکە"],stockAlert:[e=>null!=e&&Number(e)>=0||"تکایە ئاگادارکردنەوە لە کەمبوون بە دروستی داخڵ بکە"],initialQty:[e=>null!=e&&Number(e)>=0||"تکایە دانەی بەردەستی ئێستا بە دروستی داخڵ بکە"]}}},created(){this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.$http.get("/essential/getBrands").then(({data:e})=>{this.brands=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.$http.get("/essential/getUnits").then(({data:e})=>{this.units=e}),this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID})},mounted(){this.emitter.$on("openItem",e=>{this.singleItem.itemID=e.itemID,this.singleItem.itemCode=e.itemCode,this.singleItem.itemName=e.itemName,this.singleItem.categoryID=e.categoryID,this.singleItem.brandID=e.brandID,this.singleItem.shelfID=e.shelfID,this.singleItem.unitID=e.unitID,this.singleItem.perUnit=e.perUnit,this.singleItem.costPrice=e.costPrice,this.singleItem.itemPriceRetail=e.itemPriceRetail,this.singleItem.itemPriceWhole=e.itemPriceWhole,this.singleItem.stockAlert=e.stockAlert,this.singleItem.imagePath=e.image,this.singleItem.hideInStock=Boolean(Number(e.hideInStock)),this.singleItem.showButton=Boolean(Number(e.showButton)),this.singleItem.initialQty=e.initialQty,this.singleItem.note=e.note}),this.emitter.$on("closeItem",()=>{this.clearItem()})},methods:{onDecode(e){this.singleItem.itemCode=e},onLoaded(){console.log("Loaded")},setFocus(e){document.getElementById(e).focus()},processFile(e){this.singleItem.imageFile=e.target.files[0]},clearItem(){this.singleItem.itemID=null,this.singleItem.itemCode=null,this.singleItem.itemName=null,this.singleItem.categoryID=null,this.singleItem.brandID=null,this.singleItem.shelfID=null,this.singleItem.unitID=null,this.singleItem.perUnit=1,this.singleItem.costPrice=0,this.singleItem.itemPriceRetail=0,this.singleItem.itemPriceWhole=0,this.singleItem.stockAlert=0,this.singleItem.imagePath=null,this.singleItem.imageFile=null,this.singleItem.hideInStock=!0,this.singleItem.showButton=!0,this.singleItem.note=null,this.singleItem.initialQty=0,this.$refs.formItem.resetValidation()},searchItemByCode(){this.$http.get("/item/getItemByCode/"+this.singleItem.itemCode).then(({data:e})=>{e&&(this.singleItem.itemID=e.itemID,this.singleItem.itemName=e.itemName,this.singleItem.categoryID=e.categoryID,this.singleItem.brandID=e.brandID,this.singleItem.shelfID=e.shelfID,this.singleItem.unitID=e.unitID,this.singleItem.perUnit=e.perUnit,this.singleItem.costPrice=e.costPrice,this.singleItem.itemPriceRetail=e.itemPriceRetail,this.singleItem.itemPriceWhole=e.itemPriceWhole,this.singleItem.stockAlert=e.stockAlert,this.singleItem.imagePath=e.image,this.singleItem.hideInStock=Boolean(Number(e.hideInStock)),this.singleItem.showButton=Boolean(Number(e.showButton)),this.singleItem.note=e.note,this.singleItem.initialQty=e.initialQty)})},addItem(){if(this.$refs.formItem.validate()){this.loadings.addItem=!0;var e=new FormData;e.append("itemCode",this.singleItem.itemCode),e.append("itemName",this.singleItem.itemName),e.append("categoryID",this.singleItem.categoryID||""),e.append("brandID",this.singleItem.brandID||""),e.append("brandName",this.singleItem.brandID?this.brands.find(e=>e.brandID==this.singleItem.brandID):""),e.append("shelfID",this.singleItem.shelfID||""),e.append("unitID",this.singleItem.unitID),e.append("perUnit",this.singleItem.perUnit),e.append("costPrice",this.singleItem.costPrice),e.append("itemPriceRetail",this.singleItem.itemPriceRetail),e.append("itemPriceWhole",this.singleItem.itemPriceWhole),e.append("stockAlert",this.singleItem.stockAlert),e.append("hideInStock",Number(this.singleItem.hideInStock).toString()),e.append("showButton",Number(this.singleItem.showButton).toString()),e.append("note",this.singleItem.note||""),e.append("initialQty",this.singleItem.initialQty),e.append("userID",this.userID),e.append("itemImage",this.singleItem.imageFile),this.$http.post("/item/addItem",e).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("itemAdded",{itemID:e.itemID,itemCode:this.singleItem.itemCode,itemName:this.singleItem.itemName,categoryID:this.singleItem.categoryID,categoryName:(this.categories.find(e=>e.categoryID==this.singleItem.categoryID)||{categoryName:null}).categoryName,brandID:this.singleItem.brandID,shelfID:this.singleItem.shelfID,shelfName:(this.shelfs.find(e=>e.shelfID==this.singleItem.shelfID)||{shelfName:null}).shelfName,unitID:this.singleItem.unitID,perUnit:this.singleItem.perUnit,costPrice:this.singleItem.costPrice,itemPriceRetail:this.singleItem.itemPriceRetail,itemPriceWhole:this.singleItem.itemPriceWhole,stockAlert:this.singleItem.stockAlert,image:e.image,hideInStock:Number(this.singleItem.hideInStock).toString(),showButton:Number(this.singleItem.showButton).toString(),totalInStock:0,initialQty:0,note:this.singleItem.note}),this.clearItem()}).finally(()=>this.loadings.addItem=!1)}},updateItem(){this.$refs.formItem.validate()&&(this.loadings.updateItem=!0,this.$http.patch("/item/updateItem/"+this.singleItem.itemID,{itemCode:this.singleItem.itemCode,itemName:this.singleItem.itemName,categoryID:this.singleItem.categoryID,brandID:this.singleItem.brandID,shelfID:this.singleItem.shelfID,unitID:this.singleItem.unitID,perUnit:this.singleItem.perUnit,costPrice:this.singleItem.costPrice,itemPriceRetail:this.singleItem.itemPriceRetail,itemPriceWhole:this.singleItem.itemPriceWhole,stockAlert:this.singleItem.stockAlert,hideInStock:Number(this.singleItem.hideInStock).toString(),showButton:Number(this.singleItem.showButton).toString(),note:this.singleItem.note,initialQty:this.singleItem.initialQty}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکارییەکە سەرکەوتوو بوو"}),this.emitter.$emit("itemUpdated",{itemID:this.singleItem.itemID,itemCode:this.singleItem.itemCode,itemName:this.singleItem.itemName,categoryID:this.singleItem.categoryID,categoryName:(this.categories.find(e=>e.categoryID==this.singleItem.categoryID)||{categoryName:null}).categoryName,brandID:this.singleItem.brandID,shelfID:this.singleItem.shelfID,shelfName:(this.shelfs.find(e=>e.shelfID==this.singleItem.shelfID)||{shelfName:null}).shelfName,unitID:this.singleItem.unitID,perUnit:this.singleItem.perUnit,costPrice:this.singleItem.costPrice,itemPriceRetail:this.singleItem.itemPriceRetail,itemPriceWhole:this.singleItem.itemPriceWhole,stockAlert:this.singleItem.stockAlert,hideInStock:Number(this.singleItem.hideInStock).toString(),showButton:Number(this.singleItem.showButton).toString(),note:this.singleItem.note,initialQty:this.singleItem.initialQty})}).finally(()=>this.loadings.updateItem=!1))},updateImage(){this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then(()=>{this.loadings.updateImage=!0;var e=new FormData;e.append("itemImage",this.singleItem.imageFile),this.$http.patch("/item/updateImage/"+this.singleItem.itemID,e).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),this.emitter.$emit("imageUpdated",{image:e.image}),this.singleItem.imagePath=e.image}).finally(()=>this.loadings.updateImage=!1)})},deleteImage(){this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then(()=>{this.loadings.deleteImage=!0,this.$http.delete("/item/deleteImage/"+this.singleItem.itemID).then(()=>{this.singleItem.imagePath=null}).finally(()=>this.loadings.deleteImage=!1)})}},beforeDestroy(){this.emitter.$off("openItem"),this.emitter.$off("closeItem")}},Je=Ke,Xe=Object(u["a"])(Je,ze,He,!1,null,null,null),Ye=Xe.exports,Ze={name:"Items",components:{formItem:Ye,card:W},data(){return{page:1,dialogs:{item:!1},loadings:{table:!1},items:[],numberOfItems:0,search:"",groupSearches:{brandID:null,categoryID:null,shelfID:null,unitID:null,outOfStock:!1},brands:[],categories:[],shelfs:[],units:[],fields:{"باڕکۆد":"itemCode","ناوی کاڵا":"itemName","جۆر":"categoryName","براند":"brandName","خاوەندارێتی":"shelfName","نرخی کڕین":"costPrice","نرخی فرۆشتنی کۆ":"itemPriceWhole","نرخی فرۆشتنی تاک":"itemPriceRetail"},firstBuyPrice:0,secondBuyPrice:0,userID:10}},created(){this.getItems(),this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.$http.get("/essential/getBrands").then(({data:e})=>{this.brands=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.$http.get("/essential/getUnits").then(({data:e})=>{this.units=e}),this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID})},mounted(){this.emitter.$on("itemAdded",e=>{this.items.unshift(e)}),this.emitter.$on("itemUpdated",e=>{let t=this.items.findIndex(t=>t.itemID==e.itemID);this.items[t].itemCode=e.itemCode,this.items[t].itemName=e.itemName,this.items[t].categoryID=e.categoryID,this.items[t].categoryName=e.categoryName,this.items[t].shelfID=e.shelfID,this.items[t].shelfName=e.shelfName,this.items[t].brandID=e.brandID,this.items[t].unitID=e.unitID,this.items[t].perUnit=e.perUnit,this.items[t].costPrice=e.costPrice,this.items[t].itemPriceRetail=e.itemPriceRetail,this.items[t].itemPriceWhole=e.itemPriceWhole,this.items[t].stockAlert=e.stockAlert,this.items[t].hideInStock=e.hideInStock,this.items[t].showButton=e.showButton,this.items[t].note=e.note,this.items[t].initialQty=e.initialQty})},methods:{getItems(){this.items=[],this.loadings.table=!0,this.$http.get("/item/allItems").then(({data:e})=>{this.items=e}).finally(()=>this.loadings.table=!1)},async getItem(e){this.dialogs.item=!0,this.emitter.$emit("openItem",e)},deleteItem(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(()=>{let t=this.items.findIndex(t=>t.itemID==e);this.$http.delete("/item/deleteItem/"+e).then(()=>{this.items.splice(t,1)})})}},computed:{headers(){return 10!=this.userID?[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!0},{text:"جۆر",value:"categoryName",align:"center",sortable:!1},{text:"براند",value:"brandName",align:"center",sortable:!1},{text:"خاوەندارێتی",value:"shelfName",align:"center",sortable:!1},{text:"دانەی ماوە",value:"totalInStock",align:"center",sortable:!1},{text:"نرخی کڕین",value:"costPrice",align:"center",sortable:!0},{text:"نرخی فرۆشتنی کۆ",value:"itemPriceWhole",align:"center",sortable:!0},{text:"نرخی فرۆشتنی تاک",value:"itemPriceRetail",align:"center",sortable:!0},{text:"کردارەکان",align:"center",sortable:!1}]:[{text:"#",align:"center",sortable:!1},{text:"باڕکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!0},{text:"جۆر",value:"categoryName",align:"center",sortable:!1},{text:"براند",value:"brandName",align:"center",sortable:!1},{text:"خاوەندارێتی",value:"shelfName",align:"center",sortable:!1},{text:"دانەی ماوە",value:"totalInStock",align:"center",sortable:!1},{text:"نرخی فرۆشتنی تاک",value:"itemPriceRetail",align:"center",sortable:!0}]},filteredItems(){return this.items.filter(e=>(!this.groupSearches.categoryID||e.categoryID==this.groupSearches.categoryID)&&(!this.groupSearches.brandID||e.brandID==this.groupSearches.brandID)&&(!this.groupSearches.shelfID||e.shelfID==this.groupSearches.shelfID)&&(!this.groupSearches.unitID||e.unitID==this.groupSearches.unitID)&&(0==this.firstBuyPrice&&0==this.secondBuyPrice||e.costPrice>=this.firstBuyPrice&&e.costPrice<=this.secondBuyPrice)&&(!this.groupSearches.outOfStock||0==e.totalInStock))},getTotalInStock(){return this.filteredItems.reduce((e,t)=>e+t.totalInStock,0)},getTotalCostPrice(){return this.filteredItems.reduce((e,t)=>e+t.costPrice*t.totalInStock,0)},getTotalRetailPrice(){return this.filteredItems.reduce((e,t)=>e+t.itemPriceRetail*t.totalInStock,0)}},beforeDestroy(){this.emitter.$off("itemAdded"),this.emitter.$off("itemUpdated")}},et=Ze,tt=Object(u["a"])(et,je,Qe,!1,null,null,null),st=tt.exports,at=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",sm:"6",xs:"12"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeRole"),expression:"emitter.$emit('closeRole')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}]),model:{value:e.sheets.role,callback:function(t){e.$set(e.sheets,"role",t)},expression:"sheets.role"}},[t(T["a"],{staticClass:"px-3"},[t("formRole")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی ڕۆڵ ")],1)]}}],null,!1,3571708683),model:{value:e.dialogs.role,callback:function(t){e.$set(e.dialogs,"role",t)},expression:"dialogs.role"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" ڕۆڵەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeRole"),e.dialogs.role=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formRole")],1)],1)],1)],1)],1),t(C["a"],{staticClass:"mt-2"}),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":""},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" ڕۆڵ ")]),t("th",{staticClass:"text-center",staticStyle:{width:"27%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.roles,(function(s,a){return t("tr",{key:s.roleID},[t("td",[e._v(" "+e._s(a+1)+" ")]),t("td",[e._v(" "+e._s(s.roleName)+" ")]),t("td",[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getRole(s.roleID,s.roleName)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteRole(s.roleID,a)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])}),t("notification")],1)},it=[],rt=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formRole",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"ڕۆڵ",outlined:"",dense:"",rules:e.rules.roleName},model:{value:e.singleRole.roleName,callback:function(t){e.$set(e.singleRole,"roleName",t)},expression:"singleRole.roleName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[e.singleRole.roleID?t(v["a"],{attrs:{color:"warning",block:"",loading:e.loadings.updateRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.updateRole()}}},[t(N["a"],[e._v(" mdi-content-save-outline ")])],1):t(v["a"],{attrs:{color:"success",block:"",loading:e.loadings.addRole,disabled:!e.singleRole.roleName||0==e.subRoles.length},on:{click:function(t){return e.addRole()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.clearRole()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(C["a"]),t(w["a"],[t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"کاڵاکان",color:"primary",value:"items"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"بەکارهێنەرەکان",color:"primary",value:"users"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"ڕۆڵەکان",color:"primary",value:"roles"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"فرۆشتن",color:"primary",value:"invoice"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"پسوڵەی عـرض",color:"primary",value:"showInvoice"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"خەرجیەکان",color:"primary",value:"expenses"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"قاسەی پارە",color:"primary",value:"box"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"کۆمپانیاکان",color:"primary",value:"suppliers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"قەرزی کۆمپانیاکان",color:"primary",value:"supplierDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"کشف حساب کۆمپانیا",color:"primary",value:"accountStatementCompany"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"کڕیارەکان",color:"primary",value:"customers"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"قەرزی کڕیارەکان",color:"primary",value:"customerDebts"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"کڕینەکان",color:"primary",value:"purchases"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"تەلەفەکان",color:"primary",value:"disposals"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"مەخزەن",color:"primary",value:"stock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری مەخزەن",color:"primary",value:"stockReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری فرۆشتن",color:"primary",value:"saleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری کاڵای فرۆشراو",color:"primary",value:"itemSaleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری کڕین",color:"primary",value:"purchaseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"جوڵەی پارە",color:"primary",value:"moneyMovement"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری قازانج",color:"primary",value:"profitReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"قازانجی مەواد",color:"primary",value:"profitByItem"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری خەرجیەکان",color:"primary",value:"expenseReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"زانیاری پارەی ماوە",color:"primary",value:"moneyInStock"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"ڕاپۆرتی قەرزی کۆمپانیا",color:"primary",value:"supplierDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"ڕاپۆرتی قەرزی کڕیار",color:"primary",value:"customerDebtReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"ڕاپۆرتی فرۆشراوی خاوەنداێتی",color:"primary",value:"ownerSaleReport"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"6"}},[t(We["a"],{attrs:{label:"سندوقی حساب",color:"primary",value:"amountOwner"},model:{value:e.subRoles,callback:function(t){e.subRoles=t},expression:"subRoles"}})],1)],1)],1)},lt=[],nt={data(){return{loadings:{addRole:!1,updateRole:!1},subRoles:[],singleRole:{roleID:null,roleName:null},rules:{roleName:[e=>null!=e&&e.length>0||"تکایە ڕۆڵ داخڵ بکە"]}}},mounted(){this.emitter.$on("openRole",e=>{this.singleRole=e.singleRole,this.subRoles=e.subRoles}),this.emitter.$on("closeRole",()=>{this.clearRole()})},methods:{clearRole(){this.singleRole.roleID=null,this.singleRole.roleName=null,this.subRoles=[],this.$refs.formRole.resetValidation()},addRole(){this.$refs.formRole.validate()&&this.subRoles.length>0&&(this.loadings.addRole=!0,this.$http.post("/user/addRole",{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),this.emitter.$emit("roleAdded",{roleID:e.roleID,roleName:this.singleRole.roleName}),this.clearRole()}).finally(()=>this.loadings.addRole=!1))},updateRole(){this.singleRole.roleName?(this.loadings.updateRole=!0,this.$http.patch("/user/updateRole/"+this.singleRole.roleID,{roleName:this.singleRole.roleName,subRoles:this.subRoles}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("roleUpdated",{roleID:this.singleRole.roleID,roleName:this.singleRole.roleName})}).finally(()=>this.loadings.updateRole=!1)):this.emitter.$emit("notify",{type:"warning",text:"ناوی ڕۆڵ داخڵ بکە"})}},beforeDestroy(){this.emitter.$off("openRole"),this.emitter.$off("closeRole")}},ot=nt,ct=Object(u["a"])(ot,rt,lt,!1,null,null,null),ut=ct.exports,dt={name:"Roles",components:{formRole:ut},data(){return{dialogs:{role:!1},sheets:{role:!1},roles:[]}},created(){this.$http.get("/user/allRole").then(({data:e})=>{this.roles=e})},mounted(){this.emitter.$on("roleAdded",e=>{this.roles.unshift(e)}),this.emitter.$on("roleUpdated",e=>{let t=this.roles.findIndex(t=>t.roleID==e.roleID);this.roles[t].roleName=e.roleName})},methods:{getRole(e,t){this.$http.get("/user/subRoles/"+e).then(async({data:s})=>{await this.$isMobile()?this.sheets.role=!0:this.dialogs.role=!0,this.emitter.$emit("openRole",{singleRole:{roleID:e,roleName:t},subRoles:s})})},deleteRole(e,t){this.$confirm("دڵنیای لە سڕینەوەی ئەم ڕۆڵە ؟","","question").then(()=>{this.$http.delete("/user/deleteRole/"+e).then(()=>{this.roles.splice(t,1)})})}},beforeDestroy(){this.emitter.$off("roleAdded"),this.emitter.$off("roleUpdated")}},mt=dt,ht=Object(u["a"])(mt,at,it,!1,null,null,null),pt=ht.exports,gt=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpense"),expression:"emitter.$emit('closeExpense')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}]),model:{value:e.sheets.expense,callback:function(t){e.$set(e.sheets,"expense",t)},expression:"sheets.expense"}},[t(T["a"],{staticClass:"pa-3"},[t("formExpense")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی خەرجی ")],1)]}}],null,!1,3499921447),model:{value:e.dialogs.expense,callback:function(t){e.$set(e.dialogs,"expense",t)},expression:"dialogs.expense"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری خەرجی ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpense"),e.dialogs.expense=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formExpense")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeExpenseType"),expression:"emitter.$emit('closeExpenseType')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[e._v(" جۆرەکانی خەرجی ")])]}}]),model:{value:e.sheets.expenseType,callback:function(t){e.$set(e.sheets,"expenseType",t)},expression:"sheets.expenseType"}},[t(T["a"],{staticClass:"px-3"},[t("formExpenseType")],1)],1):t(S["a"],{attrs:{persistent:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[e._v(" جۆرەکانی خەرجی ")])]}}],null,!1,1375452407),model:{value:e.dialogs.expenseType,callback:function(t){e.$set(e.dialogs,"expenseType",t)},expression:"dialogs.expenseType"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" جۆرەکانی خەرجی ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeExpenseType"),e.dialogs.expenseType=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formExpenseType")],1)],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.expenses,search:e.search,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.typeName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.priceExpenseIQD.toLocaleString())+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.priceExpense$.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getExpense(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteExpense(s.expenseID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])]}}])}),t("notification")],1)},ft=[],bt=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formExpenseType",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"8"}},[t(O["a"],{attrs:{label:"جۆر",outlined:"",dense:"",rules:e.rules.typeName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addType()}},model:{value:e.singleType.typeName,callback:function(t){e.$set(e.singleType,"typeName","string"===typeof t?t.trim():t)},expression:"singleType.typeName"}})],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"success",disabled:!e.singleType.typeName,loading:e.loadings.addType},on:{click:function(t){return e.addType()}}},[t(N["a"],[e._v(" mdi-plus ")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"2"}},[t(v["a"],{attrs:{block:"",color:"info"},on:{click:function(t){return e.clearType()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1)],1)],1),t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:"350px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{width:"12%"}},[e._v(" # ")]),t("th",{staticClass:"text-center"},[e._v(" جۆر ")]),t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.expenseTypes,(function(s,a){return t("tr",{key:s.typeExpenseID},[t("td",[e._v(" "+e._s(a+1)+" ")]),s.typeExpenseID!=e.singleType.typeExpenseID?t("td",[e._v(" "+e._s(s.typeName)+" ")]):t("td",[t(O["a"],{attrs:{dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateType(s.typeExpenseID,a)}},model:{value:e.expenseTypes[a].typeName,callback:function(t){e.$set(e.expenseTypes[a],"typeName","string"===typeof t?t.trim():t)},expression:"expenseTypes[index].typeName"}})],1),t("td",[s.typeExpenseID!=e.singleType.typeExpenseID?t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.singleType.typeExpenseID=s.typeExpenseID}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):t(v["a"],{attrs:{icon:"",color:"success",disabled:!e.expenseTypes[a].typeName,loading:e.loadings.updateType},on:{click:function(t){return e.updateType(s.typeExpenseID,a)}}},[t(N["a"],[e._v(" mdi-check-circle-outline ")])],1)],1)])})),0)]},proxy:!0}])}),t(M["a"],{staticClass:"mt-2",attrs:{length:Math.ceil(e.numberOfTypes/10),"total-visible":"5"},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},vt=[],yt={data(){return{page:1,loadings:{addType:!1,updateType:!1},numberOfTypes:0,expenseTypes:[],singleType:{typeExpenseID:null,typeName:null},rules:{typeName:[e=>null!=e&&e.length>0||"تکایە جۆری خەرجی داخڵ بکە"]}}},created(){this.$http.get("/expense/countTypes").then(({data:e})=>{this.numberOfTypes=e.numberOfTypes}),this.getTypes()},mounted(){this.emitter.$on("closeExpenseType",()=>{this.clearType()})},methods:{clearType(){this.singleType.typeExpenseID=null,this.singleType.typeName=null,this.$refs.formExpenseType.resetValidation()},getTypes(){this.$http.get("/expense/limitedType/"+10*(this.page-1)).then(({data:e})=>{this.expenseTypes=e})},addType(){this.$refs.formExpenseType.validate()&&(this.loadings.addType=!0,this.$http.post("/expense/addType",{typeName:this.singleType.typeName}).then(({data:e})=>{1==this.page&&this.expenseTypes.length<10&&this.expenseTypes.unshift({typeExpenseID:e.typeExpenseID,typeName:this.singleType.typeName}),this.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),this.clearType(),++this.numberOfTypes}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.addType=!1))},updateType(e,t){let s=this.expenseTypes[t].typeName;s?(this.loadings.updateType=!0,this.$http.patch("/expense/updateType/"+e,{typeName:s}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.singleType.typeExpenseID=null}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.updateType=!1)):this.emitter.$emit("notify",{type:"warning",text:"تکایە جۆری خەرجی داخڵ بکە"})}},watch:{page(){this.getTypes()}},beforeDestroy(){this.emitter.$off("closeExpenseType")}},xt=yt,Dt=Object(u["a"])(xt,bt,vt,!1,null,null,null),It=Dt.exports,_t=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formExpense",on:{submit:function(e){e.preventDefault()}}},[t(P["a"],{attrs:{label:"جۆری خەرجی",outlined:"",dense:"",items:e.expenseTypes,"item-value":"typeExpenseID","item-text":"typeName",rules:e.rules.typeExpenseID,"validate-on-blur":""},model:{value:e.singleExpense.typeExpenseID,callback:function(t){e.$set(e.singleExpense,"typeExpenseID",t)},expression:"singleExpense.typeExpenseID"}}),t(P["a"],{attrs:{label:"لە حسابی",dense:"",outlined:"",items:e.owners,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelfID,"validate-on-blur":""},model:{value:e.singleExpense.shelfID,callback:function(t){e.$set(e.singleExpense,"shelfID",t)},expression:"singleExpense.shelfID"}}),t(O["a"],{attrs:{label:"بڕی خەرجی (دینار)",outlined:"",dense:"",type:"number",rules:e.rules.priceExpenseIQD,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("price-dollar")}},model:{value:e.singleExpense.priceExpenseIQD,callback:function(t){e.$set(e.singleExpense,"priceExpenseIQD",e._n(t))},expression:"singleExpense.priceExpenseIQD"}}),t(O["a"],{attrs:{label:"بڕی خەرجی (دۆلار)",outlined:"",dense:"",type:"number",id:"price-dollar",rules:e.rules.priceExpenseIQD$,"validate-on-blur":""},model:{value:e.singleExpense.priceExpense$,callback:function(t){e.$set(e.singleExpense,"priceExpense$",e._n(t))},expression:"singleExpense.priceExpense$"}}),t(Ge["a"],{attrs:{label:"تێبینی",outlined:"",dense:"","no-resize":""},model:{value:e.singleExpense.note,callback:function(t){e.$set(e.singleExpense,"note","string"===typeof t?t.trim():t)},expression:"singleExpense.note"}})],1),e.singleExpense.expenseID?t(v["a"],{attrs:{block:"",color:"warning",loading:e.loadings.updateExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.updateExpense()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addExpense,disabled:!e.singleExpense.typeExpenseID||e.singleExpense.priceExpenseIQD<0||e.singleExpense.priceExpense$<0},on:{click:function(t){return e.addExpense()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},kt=[],St={data(){return{loadings:{addExpense:!1,updateExpense:!1},expenseTypes:[],singleExpense:{expenseID:null,typeExpenseID:null,shelfID:null,priceExpenseIQD:0,priceExpense$:0,note:null},rules:{typeExpenseID:[e=>null!=e&&Number(e)>0||"تکایە جۆری خەرجی هەڵبژێرە"],shelfID:[e=>null!=e&&Number(e)>0||"تکایە سندوق هەڵبژێرە"],priceExpenseIQD:[e=>null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دینار بە دروستی داخڵ بکە"],priceExpense$:[e=>null!=e&&Number(e)>=0||"تکایە بڕی خەرجی دۆلار بە دروستی داخڵ بکە"]},userID:null,userName:"",owners:[]}},created(){this.$http.get("/expense/allType").then(({data:e})=>{this.expenseTypes=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e}),this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName})},mounted(){this.emitter.$on("openExpense",e=>{this.singleExpense.expenseID=e.expenseID,this.singleExpense.typeExpenseID=e.typeExpenseID,this.singleExpense.shelfID=e.shelfID,this.singleExpense.priceExpenseIQD=e.priceExpenseIQD,this.singleExpense.priceExpense$=e.priceExpense$,this.singleExpense.note=e.note}),this.emitter.$on("closeExpense",()=>{this.clearExpense()})},methods:{setFocus(e){document.getElementById(e).focus()},clearExpense(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.shelfID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()},addExpense(){this.$refs.formExpense.validate()&&(this.loadings.addExpense=!0,this.$http.post("/expense/addExpense",{typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("expenseAdded",{expenseID:e.expenseID,typeName:this.expenseTypes.find(e=>e.typeExpenseID==this.singleExpense.typeExpenseID).typeName,typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,shelfName:this.owners.find(e=>e.shelfID==this.singleExpense.shelfID).shelfName,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,userName:this.userName,note:this.singleExpense.note}),this.clearExpense()}).finally(()=>this.loadings.addExpense=!1))},updateExpense(){this.$refs.formExpense.validate()&&(this.loadings.updateExpense=!0,this.$http.patch("/expense/updateExpense/"+this.singleExpense.expenseID,{typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,dollarPrice:1480,note:this.singleExpense.note}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("expenseUpdated",{expenseID:this.singleExpense.expenseID,typeName:this.expenseTypes.find(e=>e.typeExpenseID==this.singleExpense.typeExpenseID).typeName,typeExpenseID:this.singleExpense.typeExpenseID,shelfID:this.singleExpense.shelfID,shelfName:this.owners.find(e=>e.shelfID==this.singleExpense.shelfID).shelfName,priceExpenseIQD:this.singleExpense.priceExpenseIQD,priceExpense$:this.singleExpense.priceExpense$,userName:this.userName,note:this.singleExpense.note})}).finally(()=>this.loadings.updateExpense=!1))}},beforeDestroy(){this.emitter.$off("openExpense"),this.emitter.$off("closeExpense")}},Ct=St,$t=Object(u["a"])(Ct,_t,kt,!1,null,null,null),Nt=$t.exports,wt={name:"Expenses",components:{formExpenseType:It,formExpense:Nt},data(){return{dialogs:{expense:!1,expenseType:!1},sheets:{expense:!1,expenseType:!1},loadings:{table:!1},expenses:[],search:""}},created(){this.getExpenses()},mounted(){this.emitter.$on("expenseAdded",e=>{this.expenses.unshift(e)}),this.emitter.$on("expenseUpdated",e=>{let t=this.expenses.findIndex(t=>t.expenseID=e.expenseID);this.expenses[t].typeExpenseID=e.typeExpenseID,this.expenses[t].typeName=e.typeName,this.expenses[t].shelfID=e.shelfID,this.expenses[t].shelfName=e.shelfName,this.expenses[t].priceExpenseIQD=e.priceExpenseIQD,this.expenses[t].priceExpense$=e.priceExpense$,this.expenses[t].username=e.username,this.expenses[t].note=e.note})},methods:{getExpenses(){this.expenses=[],this.loadings.table=!0,this.$http.get("/expense/todayExpense").then(({data:e})=>{this.expenses=e}).finally(()=>this.loadings.table=!1)},async getExpense(e){await this.$isMobile()?this.sheets.expense=!0:this.dialogs.expense=!0,this.emitter.$emit("openExpense",e)},deleteExpense(e){let t=this.expenses.findIndex(t=>t.expenseID==e);this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then(()=>{this.$http.delete("/expense/deleteExpense/"+e).then(()=>{this.expenses.splice(t,1)})})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"جۆری خەرجی",value:"typeName",align:"center",sortable:!1},{text:"حساب سنوق",value:"shelfName",align:"center",sortable:!1},{text:"بڕی خەرجی (دینار)",value:"priceExpenseIQD",align:"center",sortable:!0},{text:"بڕی خەرجی (دۆلار)",value:"priceExpense$",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy(){this.emitter.$off("expenseAdded"),this.emitter.$off("expenseUpdated")}},Pt=wt,Tt=Object(u["a"])(Pt,gt,ft,!1,null,null,null),Rt=Tt.exports,Ot=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[t("card",{attrs:{color:"primary",text:"کۆی پارەی قاسە",icon:"mdi-currency-usd",data:(e.totalAdded- -1*e.totalDecreased).toLocaleString()+" $"}})],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{attrs:{cols:"12",md:"4",lg:"4",xl:"4"}},[t("card",{attrs:{color:"success",text:"کۆی پارەی زیادکراو بۆ قاسە",icon:"mdi-currency-usd",data:e.totalAdded.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"4",lg:"4",xl:"4"}},[t("card",{attrs:{color:"error",text:"کۆی پارەی دەرکراو لـە قاسە",icon:"mdi-currency-usd",data:e.totalDecreased.toLocaleString()+" $"}})],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",xl:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeBox"),expression:"emitter.$emit('closeBox')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[e._v(" دەرهێنان و زیادکردنی پارە بۆ قاسە ")])]}}]),model:{value:e.sheets.transaction,callback:function(t){e.$set(e.sheets,"transaction",t)},expression:"sheets.transaction"}},[t(T["a"],[t("formBox")],1)],1):t(S["a"],{attrs:{persistent:"",width:"75%",eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[e._v(" دەرهێنان و زیادکردنی پارە بۆ قاسە ")])]}}],null,!1,2771071105),model:{value:e.dialogs.transaction,callback:function(t){e.$set(e.dialogs,"transaction",t)},expression:"dialogs.transaction"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" دەرهێنانی و زیادکردنی پارە بۆ قاسە ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeBox"),e.dialogs.transaction=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formBox")],1)],1)],1)],1)],1),t(C["a"],{staticClass:"mt-3"}),t(k["a"],{attrs:{headers:e.boxTransactionsHeader,items:e.filteredBoxTransactions,loading:e.loadings.table,"footer-props":{"items-per-page-options":[10,20,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName)+" ")]),t("td",{staticClass:"text-center",class:{"success--text":s.amount>0,"error--text":s.amount<0}},[e._v(" "+e._s(s.amount.toFixed(2).toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("boxType")(s.type))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.note)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.user)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")]),t("td",{staticClass:"text-center"},[["in","out"].includes(s.type)?t(v["a"],{attrs:{color:"primary",icon:""},on:{click:function(t){return e.getTransaction(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):e._e(),["in","out"].includes(s.type)?t(v["a"],{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteTransaction(s.btID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1):e._e()],1)])]}}])}),t("notification")],1)},At=[],Et=s("67b6"),Bt=s("43a6"),Ut=function(){var e=this,t=e._self._c;return t($["a"],{ref:"formBox",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{staticClass:"py-0 pt-4",attrs:{cols:"12"}},[t(P["a"],{attrs:{label:"حسابی",outlined:"",dense:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelf,"validate-on-blur":""},model:{value:e.singleBoxTransaction.shelfID,callback:function(t){e.$set(e.singleBoxTransaction,"shelfID",t)},expression:"singleBoxTransaction.shelfID"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t(O["a"],{attrs:{label:"بڕی پارە",outlined:"",dense:"",type:"number",prefix:"$",rules:e.rules.amount,"validate-on-blur":""},model:{value:e.singleBoxTransaction.amount,callback:function(t){e.$set(e.singleBoxTransaction,"amount",e._n(t))},expression:"singleBoxTransaction.amount"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t(Bt["a"],{attrs:{rules:e.rules.type,"validate-on-blur":""},model:{value:e.singleBoxTransaction.type,callback:function(t){e.$set(e.singleBoxTransaction,"type",t)},expression:"singleBoxTransaction.type"}},[t(Et["a"],{staticClass:"my-3",attrs:{value:"in"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"success--text"},[e._v(" زیادکردن بۆ قاسە ")]),e._v(" "),t(N["a"],{attrs:{color:"success",left:""}},[e._v(" mdi-archive-plus-outline ")])]},proxy:!0}])}),t(Et["a"],{staticClass:"my-3",attrs:{value:"out"},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{staticClass:"error--text"},[e._v(" دەرکردن لە قاسە ")]),e._v(" "),t(N["a"],{attrs:{color:"error",left:""}},[e._v(" mdi-archive-minus-outline ")])]},proxy:!0}])})],1)],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t(Ge["a"],{attrs:{outlined:"",dense:"",label:"تێبینی",rows:"3"},model:{value:e.singleBoxTransaction.note,callback:function(t){e.$set(e.singleBoxTransaction,"note","string"===typeof t?t.trim():t)},expression:"singleBoxTransaction.note"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12"}},[e.singleBoxTransaction.btID?t(v["a"],{attrs:{color:"warning",block:"",loading:e.loadings.update},on:{click:function(t){return e.updateTransaction()}}},[e._v(" گۆڕانکاری ")]):t(v["a"],{attrs:{color:"primary",block:"",loading:e.loadings.add},on:{click:function(t){return e.addTransaction()}}},[e._v(" تۆمارکردن ")])],1)],1)],1)},Lt=[],qt={data(){return{loadings:{add:!1,update:!1},shelfs:[],singleBoxTransaction:{btID:null,shelfID:null,sourceID:null,amount:0,type:null,note:null},rules:{shelf:[e=>null!=e||"تکایە حسابەکە هەڵبژێرە"],amount:[e=>Number(e)>0||"تکایە بڕی گونجاو داخڵ بکە"],type:[e=>null!=e||"تکایە جۆر هەڵبژێرە"]},user:""}},created(){this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.$http.post("/verifyToken").then(({data:e})=>{this.user=e.userName})},mounted(){this.emitter.$on("openBox",e=>{this.singleBoxTransaction.btID=e.btID,this.singleBoxTransaction.shelfID=e.shelfID,this.singleBoxTransaction.sourceID=null,this.singleBoxTransaction.amount=e.amount,this.singleBoxTransaction.type=e.type,this.singleBoxTransaction.note=e.note}),this.emitter.$on("closeBox",()=>{this.clearFields()})},methods:{clearFields(){this.singleBoxTransaction.btID=null,this.singleBoxTransaction.shelfID=null,this.singleBoxTransaction.sourceID=null,this.singleBoxTransaction.amount=0,this.singleBoxTransaction.type=null,this.singleBoxTransaction.note=null},addTransaction(){this.$refs.formBox.validate()&&(this.loadings.add=!0,this.$http.post("/box/addTransaction",{shelfID:this.singleBoxTransaction.shelfID,sourceID:this.singleBoxTransaction.sourceID,amount:this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note}).then(({data:e})=>{this.emitter.$emit("transactionAdded",{btID:e.btID,shelfID:this.singleBoxTransaction.shelfID,shelfName:this.shelfs.find(e=>e.shelfID==this.singleBoxTransaction.shelfID).shelfName,sourceID:this.singleBoxTransaction.sourceID,amount:"in"==this.singleBoxTransaction.type?this.singleBoxTransaction.amount:-1*this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note,createAt:(new Date).toISOString().split("T")[0],user:this.user}),this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی تۆمارکرا"}),this.clearFields()}).finally(()=>this.loadings.add=!1))},updateTransaction(){this.$refs.formBox.validate()&&(this.loadings.update=!0,this.$http.patch("/box/updateTransaction/"+this.singleBoxTransaction.btID,{shelfID:this.singleBoxTransaction.shelfID,sourceID:this.singleBoxTransaction.sourceID,amount:this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note}).then(()=>{this.emitter.$emit("transactionUpdated",{btID:this.singleBoxTransaction.btID,shelfID:this.singleBoxTransaction.shelfID,shelfName:this.shelfs.find(e=>e.shelfID==this.singleBoxTransaction.shelfID).shelfName,sourceID:this.singleBoxTransaction.sourceID,amount:"in"==this.singleBoxTransaction.type?this.singleBoxTransaction.amount:-1*this.singleBoxTransaction.amount,type:this.singleBoxTransaction.type,note:this.singleBoxTransaction.note})}).finally(()=>this.loadings.update=!1))}},beforeDestroy(){this.emitter.$off("openBox"),this.emitter.$off("closeBox")}},Ft=qt,jt=Object(u["a"])(Ft,Ut,Lt,!1,null,null,null),Qt=jt.exports,Wt={components:{formBox:Qt,card:W},data(){return{loadings:{table:!1},dialogs:{transaction:!1},sheets:{transaction:!1},boxTransactions:[],shelfs:[],searches:{shelfID:2,transactionType:null,fromDate:new Date("2021-10-01").toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},menu2:!1,menu3:!1}},created(){this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.getAllTransactions()},mounted(){this.emitter.$on("transactionAdded",e=>{const t=(new Date).toISOString().split("T")[0];t>=this.searches.fromDate&&t<=this.searches.toDate&&this.boxTransactions.unshift(e)}),this.emitter.$on("transactionUpdated",e=>{let t=this.boxTransactions.findIndex(t=>t.btID==e.btID);this.boxTransactions[t].shelfID=e.shelfID,this.boxTransactions[t].shelfName=e.shelfName,this.boxTransactions[t].sourceID=e.sourceID,this.boxTransactions[t].amount=e.amount,this.boxTransactions[t].type=e.type,this.boxTransactions[t].note=e.note})},methods:{clearSearch(){this.searches.shelfID=null,this.searches.transactionType=null,this.searches.fromDate=(new Date).toISOString().split("T")[0],this.searches.toDate=(new Date).toISOString().split("T")[0]},getTransaction(e){this.$isMobile()?this.sheets.transaction=!0:this.dialogs.transaction=!0,this.emitter.$emit("openBox",{btID:e.btID,shelfID:e.shelfID,amount:"in"==e.type?e.amount:-1*e.amount,type:e.type,note:e.note})},getAllTransactions(){this.boxTransactions=[],this.searches.fromDate&&this.searches.toDate&&this.searches.fromDate<=this.searches.toDate&&(this.loadings.table=!0,this.$http.get("/box/getAll/"+this.searches.fromDate+"/"+this.searches.toDate).then(({data:e})=>{this.boxTransactions=e}).finally(()=>this.loadings.table=!1))},deleteTransaction(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then(()=>{this.$http.delete("/box/deleteTransaction/"+e).then(()=>{let t=this.boxTransactions.findIndex(t=>t.btID==e);this.boxTransactions.splice(t,1)})})}},computed:{boxTransactionsHeader(){return[{text:"#",align:"center",sortable:!1},{text:"حسابی",value:"shelfName",align:"center",sortable:!1},{text:"بڕی پارە",value:"amount",align:"center",sortable:!0},{text:"جۆر",value:"type",align:"center",sortable:!1},{text:"تێبینی",value:"note",align:"center",sortable:!1},{text:"بەکارهێنەر",value:"user",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!0},{text:"کردارەکان",align:"center",sortable:!1}]},filteredBoxTransactions(){return this.boxTransactions.filter(e=>(!this.searches.shelfID||e.shelfID==this.searches.shelfID)&&(!this.searches.transactionType||("plus"==this.searches.transactionType?e.amount>0:e.amount<0)))},totalAdded(){return this.filteredBoxTransactions.filter(e=>e.amount>0).reduce((e,t)=>e+t.amount,0)},totalDecreased(){return this.filteredBoxTransactions.filter(e=>e.amount<0).reduce((e,t)=>e+t.amount,0)}},filters:{boxType:Te},watch:{"searches.fromDate":function(){this.getAllTransactions()},"searches.toDate":function(){this.getAllTransactions()}},beforeDestroy(){this.emitter.$off("transactionAdded"),this.emitter.$off("transactionUpdated")}},Mt=Wt,Gt=Object(u["a"])(Mt,Ot,At,!1,null,null,null),zt=Gt.exports,Ht=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplier"),expression:"emitter.$emit('closeSupplier')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.supplier,callback:function(t){e.$set(e.sheets,"supplier",t)},expression:"sheets.supplier"}},[t(T["a"],{staticClass:"pa-3"},[t("formSupplier")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}],null,!1,822998163),model:{value:e.dialogs.supplier,callback:function(t){e.$set(e.dialogs,"supplier",t)},expression:"dialogs.supplier"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری کۆمپانیا ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplier"),e.dialogs.supplier=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formSupplier")],1)],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.suppliers,loading:e.loadings.table,search:e.search,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[t("a",{attrs:{href:"/supplierDebts/"+s.supplierID}},[e._v(" "+e._s(s.supplierName)+" ")])]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.phone)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.address)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.previousBalance)+" $ ")]),t("td",{staticClass:"text-center subtitle-1 red--text"},[e._v(" "+e._s(s.totalRemain)+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getSupplier(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deactiveSupplier(s.supplierID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])]}}])}),t("notification")],1)},Vt=[],Kt=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formSupplier",on:{submit:function(e){e.preventDefault()}}},[t(O["a"],{attrs:{label:"ناوی کۆمپانیا",outlined:"",dense:"",rules:e.rules.supplierName,"validate-on-blur":"",id:"company-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone")}},model:{value:e.singleSupplier.supplierName,callback:function(t){e.$set(e.singleSupplier,"supplierName","string"===typeof t?t.trim():t)},expression:"singleSupplier.supplierName"}}),t(O["a"],{attrs:{label:"ژ.مۆبایل",outlined:"",dense:"",rules:e.rules.phone,"validate-on-blur":"",id:"phone"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleSupplier.phone,callback:function(t){e.$set(e.singleSupplier,"phone","string"===typeof t?t.trim():t)},expression:"singleSupplier.phone"}}),t(O["a"],{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-balance")}},model:{value:e.singleSupplier.address,callback:function(t){e.$set(e.singleSupplier,"address","string"===typeof t?t.trim():t)},expression:"singleSupplier.address"}}),t(O["a"],{attrs:{label:"قەرزی کۆن",outlined:"",dense:"",type:"number",rules:e.rules.previousBalance,"validate-on-blur":"",id:"previous-balance"},on:{keyup:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.singleSupplier.supplierID?e.updateSupplier():e.addSupplier()}},model:{value:e.singleSupplier.previousBalance,callback:function(t){e.$set(e.singleSupplier,"previousBalance",e._n(t))},expression:"singleSupplier.previousBalance"}})],1),e.singleSupplier.supplierID?t(v["a"],{attrs:{color:"warning",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.updateSupplier()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{color:"success",block:"",disabled:!e.singleSupplier.supplierName},on:{click:function(t){return e.addSupplier()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},Jt=[],Xt={data(){return{loadings:{addSupplier:!1,updateSupplier:!1,deleteSupplier:!1},singleSupplier:{supplierID:null,supplierName:null,phone:null,address:null,previousBalance:0},userID:null,rules:{supplierName:[e=>null!=e&&e.length>0||"تکایە ناوی کۆمپانیا بنووسە"],phone:[e=>null!=e&&Number(e)>0||"تکایە ژمارەی مۆبایل بنووسە"],previousBalance:[e=>null!=e&&Number(e)>=0||"تکایە قەرزی کۆن  با لەسەروو سفر بێت"]}}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID})},mounted(){this.emitter.$on("openSupplier",e=>{this.singleSupplier.supplierID=e.supplierID,this.singleSupplier.supplierName=e.supplierName,this.singleSupplier.phone=e.phone,this.singleSupplier.address=e.address,this.singleSupplier.previousBalance=e.previousBalance}),this.emitter.$on("closeSupplier",()=>{this.clearSupplier()})},methods:{setFocus(e){document.getElementById(e).focus()},addSupplier(){this.$refs.formSupplier.validate()&&(this.loadings.addSupplier=!0,this.$http.post("/supplier/addSupplier",{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("supplierAdded",{supplierID:e.supplierID,supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}),this.clearSupplier()}).finally(()=>{this.loadings.addSupplier=!1}))},updateSupplier(){this.$refs.formSupplier.validate()&&(this.loadings.updateSupplier=!0,this.$http.patch("/supplier/updateSupplier/"+this.singleSupplier.supplierID,{supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("supplierUpdated",{supplierID:this.singleSupplier.supplierID,supplierName:this.singleSupplier.supplierName,phone:this.singleSupplier.phone,address:this.singleSupplier.address,previousBalance:this.singleSupplier.previousBalance})}).finally(()=>{this.loadings.updateSupplier=!1}))},clearSupplier(){this.singleSupplier.supplierID=null,this.singleSupplier.supplierName=null,this.singleSupplier.phone=null,this.singleSupplier.address=null,this.singleSupplier.previousBalance=0,this.$refs.formSupplier.resetValidation()}},beforeDestroy(){this.emitter.$off("openSupplier"),this.emitter.$off("closeSupplier")}},Yt=Xt,Zt=Object(u["a"])(Yt,Kt,Jt,!1,null,null,null),es=Zt.exports,ts={name:"Suppliers",components:{formSupplier:es},data(){return{dialogs:{supplier:!1},sheets:{supplier:!1},loadings:{table:!1},suppliers:[],search:""}},created(){this.getSuppliers()},mounted(){this.emitter.$on("supplierAdded",e=>{this.suppliers.unshift({supplierID:e.supplierID,supplierName:e.supplierName,phone:e.phone,address:e.address,previousBalance:e.previousBalance,createAt:(new Date).toISOString().split("T")[0]})}),this.emitter.$on("supplierUpdated",e=>{let t=this.suppliers.findIndex(t=>t.supplierID=e.supplierID);this.suppliers[t].supplierName=e.supplierName,this.suppliers[t].phone=e.phone,this.suppliers[t].address=e.address,this.suppliers[t].previousBalance=e.previousBalance})},methods:{getSuppliers(){this.suppliers=[],this.loadings.table=!0,this.$http.get("/supplier/allSuppliers").then(({data:e})=>{this.suppliers=e}).finally(()=>{this.loadings.table=!1})},async getSupplier(e){await this.$isMobile()?this.sheets.supplier=!0:this.dialogs.supplier=!0,this.emitter.$emit("openSupplier",{supplierID:e.supplierID,supplierName:e.supplierName,phone:e.phone,address:e.address,previousBalance:e.previousBalance})},deactiveSupplier(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم کۆمپانیایە ؟","","question").then(()=>{let t=this.suppliers.findIndex(t=>t.supplierID==e);this.$http.patch("/supplier/deactive/"+e).then(()=>{this.suppliers.splice(t,1)})})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کۆمپانیا",value:"supplierName",align:"center",sortable:!0},{text:"ژ.مۆبایل",value:"phone",align:"center",sortable:!1},{text:"ناونیشان",value:"address",align:"center",sortable:!1},{text:"قەرزی کۆن",vallue:"previousBalance",align:"center",sortable:!1},{text:"کۆی قەرز",vallue:"totalRemain",align:"center",sortable:!1},{text:"بەرواری تۆماربوون",vallue:"createAt",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy(){this.emitter.$off("supplierAdded"),this.emitter.$off("supplierUpdated")}},ss=ts,as=Object(u["a"])(ss,Ht,Vt,!1,null,null,null),is=as.exports,rs=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomer"),expression:"emitter.$emit('closeCustomer')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}]),model:{value:e.sheets.customer,callback:function(t){e.$set(e.sheets,"customer",t)},expression:"sheets.customer"}},[t(T["a"],{staticClass:"pa-3"},[t("formCustomer")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕیار ")],1)]}}],null,!1,2208179531),model:{value:e.dialogs.customer,callback:function(t){e.$set(e.dialogs,"customer",t)},expression:"dialogs.customer"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری کڕیار ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomer"),e.dialogs.customer=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formCustomer")],1)],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.customers,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]},loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە ..."},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[t("a",{staticClass:"text-decoration-none",attrs:{href:"/customerDebts/"+s.customerID}},[e._v(" "+e._s(s.customerName)+" ")])]),t("td",{staticClass:"text-center",attrs:{dir:"ltr"}},[e._v(" "+e._s(s.phoneNumber)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.address)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.previousDebt)+" $ ")]),t("td",{staticClass:"text-center red--text subtitle-1"},[e._v(" "+e._s(s.totalRemain)+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"6%"}},[1==s.activeStatus?t(D["a"],{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveCustomer(s.customerID,a)}}},[t(N["a"],{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):t(D["a"],{attrs:{outlined:"",color:"error"},on:{click:function(t){return e.activeCustomer(s.customerID,a)}}},[t(N["a"],{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getCustomer(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1)],1)])]}}])}),t("notification")],1)},ls=[],ns=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formCustomer",on:{submit:function(e){e.preventDefault()}}},[t(O["a"],{attrs:{label:"ناوی کڕیار",outlined:"",dense:"",id:"customer-name",rules:e.rules.customerName,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("phone-number")}},model:{value:e.singleCustomer.customerName,callback:function(t){e.$set(e.singleCustomer,"customerName","string"===typeof t?t.trim():t)},expression:"singleCustomer.customerName"}}),t(O["a"],{attrs:{label:"ژمارە تەلەفۆن",dir:"ltr",outlined:"",dense:"",id:"phone-number",rules:e.rules.phoneNumber,"validate-on-blur":""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("address")}},model:{value:e.singleCustomer.phoneNumber,callback:function(t){e.$set(e.singleCustomer,"phoneNumber","string"===typeof t?t.trim():t)},expression:"singleCustomer.phoneNumber"}}),t(O["a"],{attrs:{label:"ناونیشان",outlined:"",dense:"",id:"address"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("previous-debt")}},model:{value:e.singleCustomer.address,callback:function(t){e.$set(e.singleCustomer,"address","string"===typeof t?t.trim():t)},expression:"singleCustomer.address"}}),t(O["a"],{attrs:{label:"قەرزی پێشوو",outlined:"",dense:"",type:"number",id:"previous-debt"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("limit-debt")}},model:{value:e.singleCustomer.previousDebt,callback:function(t){e.$set(e.singleCustomer,"previousDebt",e._n(t))},expression:"singleCustomer.previousDebt"}}),e.singleCustomer.customerID?t(v["a"],{attrs:{block:"",color:"warning",loading:e.loadings.updateCustomer},on:{click:function(t){return e.updateCustomer()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addCustomers},on:{click:function(t){return e.addCustomer()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)],1)},os=[],cs={data(){return{loadings:{addCustomer:!1,updateCustomer:!1},singleCustomer:{customerID:null,customerName:null,phoneNumber:null,address:null,previousDebt:0,limitDebt:0},rules:{customerName:[e=>null!=e&&e.length>0||"تکایە ناوی کڕیار داخڵ بکە"],phoneNumber:[e=>null!=e&&e.length>10||"تکایە ژمارە تەلەفۆن بە دروستی داخڵ بکە"]},userID:null,userName:""}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName})},mounted(){this.emitter.$on("openCustomer",e=>{this.singleCustomer.customerID=e.customerID,this.singleCustomer.customerName=e.customerName,this.singleCustomer.phoneNumber=e.phoneNumber,this.singleCustomer.address=e.address,this.singleCustomer.previousDebt=e.previousDebt,this.singleCustomer.limitDebt=e.limitDebt}),this.emitter.$on("closeCustomer",()=>{this.clearCustomer()})},methods:{setFocus(e){document.getElementById(e).focus()},clearCustomer(){this.singleCustomer.customerID=null,this.singleCustomer.customerName=null,this.singleCustomer.phoneNumber=null,this.singleCustomer.address=null,this.singleCustomer.previousDebt=0,this.singleCustomer.limitDebt=0,this.$refs.formCustomer.resetValidation()},addCustomer(){this.$refs.formCustomer.validate()&&(this.loadings.addCustomer=!0,this.$http.post("/customer/addCustomer",{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),this.emitter.$emit("customerAdded",{customerID:e.customerID,customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt,userName:this.userName}),this.clearCustomer(),document.getElementById("customer-name").focus()}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.addCustomer=!1))},updateCustomer(){this.$refs.formCustomer.validate()&&this.$http.patch("/customer/updateCustomer/"+this.singleCustomer.customerID,{customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆرانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("customerUpdated",{customerID:this.singleCustomer.customerID,customerName:this.singleCustomer.customerName,phoneNumber:this.singleCustomer.phoneNumber,address:this.singleCustomer.address,previousDebt:this.singleCustomer.previousDebt,limitDebt:this.singleCustomer.limitDebt})})}},beforeDestroy(){this.emitter.$off("openCustomer"),this.emitter.$off("closeCustomer")}},us=cs,ds=Object(u["a"])(us,ns,os,!1,null,null,null),ms=ds.exports,hs={name:"Customers",components:{formCustomer:ms},data(){return{dialogs:{customer:!1},sheets:{customer:!1},loadings:{table:!1},customers:[],search:""}},created(){this.getCustomers()},mounted(){this.emitter.$on("customerAdded",e=>{this.customers.unshift(e)}),this.emitter.$on("customerUpdated",e=>{let t=this.customers.findIndex(t=>t.customerID==e.customerID);this.customers[t].customerName=e.customerName,this.customers[t].phoneNumber=e.phoneNumber,this.customers[t].address=e.address,this.customers[t].previousDebt=e.previousDebt,this.customers[t].limitDebt=e.limitDebt})},methods:{async getCustomer(e){await this.$isMobile()?this.sheets.customer=!0:this.dialogs.customer=!0,this.emitter.$emit("openCustomer",e)},getCustomers(){this.customers=[],this.loadings.table=!0,this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e}).finally(()=>this.loadings.table=!1)},deactiveCustomer(e,t){1!=e?this.$http.patch("/customer/deactive/"+e).then(()=>{this.customers[t].activeStatus=0}):this.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم کڕیارە ناچالاک بکەیت"})},activeCustomer(e,t){this.$http.patch("/customer/active/"+e).then(()=>{this.customers[t].activeStatus=1})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی کڕیار",align:"center",value:"customerName",sortable:!1},{text:"تەلەفۆن",align:"center",value:"phoneNumber",sortable:!1},{text:"ناونیشان",align:"center",value:"address",sortable:!1},{text:"قەرزی پێشوو",align:"center",value:"previousDebt",sortable:!0},{text:"کۆی قەرز",align:"center",value:"totalRemain",sortable:!0},{text:"بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy(){this.emitter.$off("customerAdded"),this.emitter.$off("customerUpdated")}},ps=hs,gs=Object(u["a"])(ps,rs,ls,!1,null,null,null),fs=gs.exports,bs=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeUser"),expression:"emitter.$emit('closeUser')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}]),model:{value:e.sheets.user,callback:function(t){e.$set(e.sheets,"user",t)},expression:"sheets.user"}},[t(T["a"],[t("formUser")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیاکردنی بەکارهێنەر ")],1)]}}],null,!1,7878603),model:{value:e.dialogs.user,callback:function(t){e.$set(e.dialogs,"user",t)},expression:"dialogs.user"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری بەکارهێنەر ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeUser"),e.dialogs.user=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formUser")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[t(v["a"],{attrs:{block:"",color:"primary",to:"/roles"}},[e._v(" ڕۆڵەکان ")])],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{"fixed-header":"",headers:e.headers,items:e.users,search:e.search,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.fullName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.email)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.roleName)+" ")]),t("td",{staticClass:"text-center"},[1==s.activeStatus?t(D["a"],{attrs:{outlined:"",color:"success",ripple:""},on:{click:function(t){return e.deactiveUser(s.userID)}}},[t(N["a"],{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" چالاک ")],1):t(D["a"],{attrs:{outlined:"",color:"error",ripple:""},on:{click:function(t){return e.activeUser(s.userID)}}},[t(N["a"],{attrs:{"x-small":"",left:""}},[e._v(" mdi-brightness-1 ")]),e._v(" ناچالاک ")],1)],1),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getUser(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1)],1)])]}}])}),t("notification")],1)},vs=[],ys=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formUser",on:{submit:function(e){e.preventDefault()}}},[t(O["a"],{attrs:{label:"ناوی تەواو",outlined:"",dense:"",rules:e.rules.fullName,"validate-on-blur":"",id:"full-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("user-name")}},model:{value:e.singleUser.fullName,callback:function(t){e.$set(e.singleUser,"fullName",t)},expression:"singleUser.fullName"}}),t(O["a"],{attrs:{label:"ناوی بەکارهێنەر",outlined:"",dense:"",rules:e.rules.userName,"validate-on-blur":"",id:"user-name"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.singleUser.userName,callback:function(t){e.$set(e.singleUser,"userName",t)},expression:"singleUser.userName"}}),t(O["a"],{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",rules:e.rules.userPassword,"validate-on-blur":"",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("email")}},model:{value:e.singleUser.userPassword,callback:function(t){e.$set(e.singleUser,"userPassword",t)},expression:"singleUser.userPassword"}}),t(O["a"],{attrs:{label:"ئیمەیڵ",outlined:"",dense:"",type:"email",id:"email"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("role")}},model:{value:e.singleUser.email,callback:function(t){e.$set(e.singleUser,"email",t)},expression:"singleUser.email"}}),t(P["a"],{attrs:{label:"ڕۆڵ",outlined:"",dense:"",items:e.roles,"item-text":"roleName","item-value":"roleID",rules:e.rules.roleID,"validate-on-blur":"",id:"role"},model:{value:e.singleUser.roleID,callback:function(t){e.$set(e.singleUser,"roleID",t)},expression:"singleUser.roleID"}}),t("input",{attrs:{type:"file",name:"",id:""},on:{change:e.processFile}}),e.singleUser.userID?t("div",[t(v["a"],{attrs:{block:"",color:"warning",loading:e.loadings.updateUser},on:{click:function(t){return e.updateUser()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1),t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary",loading:e.loadings.updatePassword},on:{click:function(t){return e.updatePassword()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-autorenew ")]),e._v(" نوێکردنەوەی وشەی نهێنی ")],1),t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"primary",disabled:!e.singleUser.imageFile,loading:e.loadings.updateImage},on:{click:function(t){return e.updateImage()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-image ")]),e._v(" نوێکردنەوەی وێنە ")],1),e.singleUser.imagePath?t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"error",loading:e.loadings.deleteImage},on:{click:function(t){return e.deleteImage()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-delete ")]),e._v(" سڕینەوەی وێنە ")],1):e._e()],1):t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addUser},on:{click:function(t){return e.addUser()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1),t(C["a"],{staticClass:"mt-2"}),e.singleUser.imagePath?t(Me["a"],{attrs:{src:"/user/image/"+e.singleUser.imagePath}}):e._e()],1)],1)},xs=[],Ds={data(){return{loadings:{addUser:!1,updateUser:!1,updatePassword:!1,updateImage:!1,deleteImage:!1},roles:[],singleUser:{userID:null,fullName:null,userName:null,userPassword:null,email:null,imageFile:null,imagePath:null,roleID:null},rules:{fullName:[e=>null!=e&&e.length>0||"تکایە ناوی تەواو داخڵ بکە"],userName:[e=>null!=e&&e.length>0||"تکایە ناوی بەکارهێنەر داخڵ بکە"],userPassword:[e=>null!=e&&e.length>0||"تکایە وشەی نهێنی داخڵ بکە"],roleID:[e=>null!=e||"تکایە ڕۆڵێک هەڵبژێرە"]}}},created(){this.$http.get("/user/allRole").then(({data:e})=>{this.roles=e})},mounted(){this.emitter.$on("openUser",e=>{this.singleUser.userID=e.userID,this.singleUser.fullName=e.fullName,this.singleUser.userName=e.userName,this.singleUser.email=e.email,this.singleUser.imagePath=e.image,this.singleUser.roleID=e.roleID}),this.emitter.$on("closeUser",()=>{this.clearUser()})},methods:{processFile(e){this.singleUser.imageFile=e.target.files[0]},setFocus(e){document.getElementById(e).focus()},clearUser(){this.singleUser.userID=null,this.singleUser.fullName=null,this.singleUser.userName=null,this.singleUser.userPassword=null,this.singleUser.email=null,this.singleUser.imageFile=null,this.singleUser.imagePath=null,this.singleUser.roleID=null,this.$refs.formUser.resetValidation()},addUser(){if(this.$refs.formUser.validate()){this.loadings.addUser=!0;var e=new FormData;e.append("fullName",this.singleUser.fullName),e.append("userName",this.singleUser.userName),e.append("userPassword",this.singleUser.userPassword),e.append("email",this.singleUser.email),e.append("userImage",this.singleUser.imageFile),e.append("roleID",this.singleUser.roleID),this.$http.post("/user/addUser",e).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("userAdded",{userID:e.userID,fullName:this.singleUser.fullName,userName:this.singleUser.userName,email:this.singleUser.email,roleName:this.roles.find(e=>e.roleID==this.singleUser.roleID).roleName,roleID:this.singleUser.roleID,image:e.image,activeStatus:"1"}),this.clearUser()}).catch(e=>{this.emitter.$emit("notify",{type:"success",text:e.response.data.message})}).finally(()=>this.loadings.addUser=!1)}},updateUser(){this.singleUser.fullName&&this.singleUser.userName&&this.singleUser.roleID?(this.loadings.updateUser=!0,this.$http.patch("/user/updateUser/"+this.singleUser.userID,{fullName:this.singleUser.fullName,userName:this.singleUser.userName,email:this.singleUser.email,roleID:this.singleUser.roleID}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("userUpdated",{userID:this.singleUser.userID,fullName:this.singleUser.fullName,userName:this.singleUser.userName,email:this.singleUser.email,roleID:this.singleUser.roleID,roleName:this.roles.find(e=>e.roleID==this.singleUser.roleID).roleName})}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.updateUser=!1)):this.emitter.$emit("notify",{type:"warning",text:"تکایە زانیارییە پێویستەکان داخڵ بکە"})},updatePassword(){this.singleUser.userPassword?this.$confirm("دڵنیای لە نوێکردنەوەی وشەی نهێنی ؟","","question").then(()=>{this.loadings.updatePassword=!0,this.$http.patch("/user/updatePassword/"+this.singleUser.userID,{userPassword:this.singleUser.userPassword}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وشەی نهێنی سەرکەوتوو بوو"})}).finally(()=>this.loadings.updatePassword=!1)}):this.emitter.$emit("notify",{type:"warning",text:"تکایە وشەی نهێنی داخڵ بکە"})},updateImage(){this.$confirm("دڵنیای لە نوێکردنەوەی وێنە ؟","","question").then(()=>{this.loadings.updateImage=!0;var e=new FormData;e.append("userImage",this.singleUser.imageFile),this.$http.patch("/user/updateImage/"+this.singleUser.userID,e).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"نوێکردنەوەی وێنە سەرکەوتوو بوو"}),this.singleUser.imagePath=+e.image}).finally(()=>this.loadings.updateImage=!1)})},deleteImage(){this.$confirm("دڵنیای لە سڕینەوەی وێنە ؟","","question").then(()=>{this.loadings.deleteImage=!0,this.$http.delete("/user/deleteImage/"+this.singleUser.userID).then(()=>{this.singleUser.imagePath=null}).finally(()=>this.loadings.deleteImage=!1)})}},beforeDestroy(){this.emitter.$off("openUser"),this.emitter.$off("closeUser")}},Is=Ds,_s=Object(u["a"])(Is,ys,xs,!1,null,null,null),ks=_s.exports,Ss={name:"Users",components:{formUser:ks},data(){return{dialogs:{user:!1},sheets:{user:!1},users:[],currentUsers:[],search:""}},created(){this.$http.get("/user/allUser").then(({data:e})=>{this.users=e})},mounted(){this.emitter.$on("userAdded",e=>{this.users.unshift(e)}),this.emitter.$on("userUpdated",e=>{let t=this.users.findIndex(t=>t.userID==e.userID);this.users[t].fullName=e.fullName,this.users[t].userName=e.userName,this.users[t].email=e.email,this.users[t].roleID=e.roleID,this.users[t].roleName=e.roleName})},methods:{async getUser(e){await this.$isMobile()?this.sheets.user=!0:this.dialogs.user=!0,this.emitter.$emit("openUser",e)},deactiveUser(e){let t=this.users.findIndex(t=>t.userID==e);this.$http.patch("/user/deactiveUser/"+e).then(()=>{this.users[t].activeStatus=0}).catch(()=>{this.emitter.$emit("notify",{type:"error",text:"ناتوانیت ئەم بەکارهێنەرە ناچالاک بکەیت"})})},activeUser(e){let t=this.users.findIndex(t=>t.userID==e);this.$http.patch("/user/activeUser/"+e).then(()=>{this.users[t].activeStatus=1})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"ناوی تەواو",align:"center",value:"fullName",sortable:!1},{text:"ناوی بەکارهێنەر",align:"center",value:"userName",sortable:!1},{text:"ئیمەیڵ",align:"center",value:"email",sortable:!1},{text:"ڕۆڵ",align:"center",value:"roleName",sortable:!1},{text:"هەژمار",align:"center",sortable:!1,width:"8%"},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy(){this.emitter.$off("userAdded"),this.emitter.$off("userUpdated")}},Cs=Ss,$s=Object(u["a"])(Cs,bs,vs,!1,null,null,null),Ns=$s.exports,ws=s("ce87"),Ps=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[t(S["a"],{attrs:{persistent:"",eager:"",width:"1400px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(U["a"],e._g(e._b({directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),s),[t(N["a"],{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کڕین ")],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری کڕین ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closePurchase"),e.dialog=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formPurchase")],1)],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان بەپێی ژمارەی وەصڵ",outlined:"",dense:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search()}},model:{value:e.searchInvoice,callback:function(t){e.searchInvoice=t},expression:"searchInvoice"}})],1),t(I["a"],{attrs:{cols:"12",md:"1",xl:"1",lg:"1"}},[t(v["a"],{attrs:{block:"",color:"primary"},on:{click:function(t){e.searchInvoice=null,e.getPurchases()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1),t("hr"),t(k["a"],{attrs:{headers:e.headers,items:e.purchases,"hide-default-footer":"","items-per-page":26},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(e._s(a+1))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.supplierName))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.referenceNo))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.totalPrice))]),t("td",{staticClass:"text-center"},[e._v(e._s(e._f("invoiceType")(s.paymentType)))]),t("td",{staticClass:"text-center"},[e._v(e._s(e._f("purchaseStatus")(s.purchaseStatus)))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.userName))]),t("td",{staticClass:"text-center"},[t(ws["a"],{attrs:{"open-delay":"75","close-delay":"100",id:"icon"},scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[a?t(N["a"],{staticClass:"ml-2",attrs:{"x-large":"",color:"indigo"},on:{click:function(t){return e.getPurchase(s.purchaseID)}}},[e._v("mdi-eye")]):t(N["a"],e._b({staticClass:"ml-2",attrs:{large:""}},"v-icon",s,!1),[e._v("mdi-eye-off")])]}}],null,!0)})],1)])]}}])}),t(M["a"],{attrs:{length:Math.ceil(e.table.numberOfPurchase/20),"total-visible":"6"},model:{value:e.table.page,callback:function(t){e.$set(e.table,"page",t)},expression:"table.page"}}),t("notification")],1)},Ts=[],Rs=(s("4e3e"),s("c6a6")),Os=function(){var e=this,t=e._self._c;return t("div",[t(_["a"],{attrs:{fluid:""}},[t($["a"],{ref:"formPurchase",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(Rs["a"],{attrs:{label:"ناوی کۆمپانیا",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID","search-input":e.searches.sSearch,rules:e.rules.supplier_rule,outlined:"",dense:""},on:{"update:searchInput":function(t){return e.$set(e.searches,"sSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"sSearch",t)}},model:{value:e.purchase.supplierID,callback:function(t){e.$set(e.purchase,"supplierID",t)},expression:"purchase.supplierID"}})],1),t(I["a"],{attrs:{cols:"12",md:"2",xl:"2",lg:"2"}},[t(O["a"],{attrs:{label:"ژمارەی وەصل",type:"number",outlined:"",dense:"",rules:e.rules.referenceNo},model:{value:e.purchase.referenceNo,callback:function(t){e.$set(e.purchase,"referenceNo",t)},expression:"purchase.referenceNo"}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(O["a"],{attrs:{label:"پێشەکی پارە",prefix:"$",type:"number",outlined:"",dense:"",value:"0"},model:{value:e.purchase.amountPay,callback:function(t){e.$set(e.purchase,"amountPay",t)},expression:"purchase.amountPay"}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(P["a"],{attrs:{label:"دۆخی کڕین",items:e.PurchaseStatus,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.PurchaseStatus,callback:function(t){e.$set(e.purchase,"PurchaseStatus",t)},expression:"purchase.PurchaseStatus"}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(P["a"],{attrs:{label:"جۆری پارەدان",items:e.paymentTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.paymentType,callback:function(t){e.$set(e.purchase,"paymentType",t)},expression:"purchase.paymentType"}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(P["a"],{attrs:{label:"جۆری وەسڵ",items:e.stockTypes,"item-text":"name","item-value":"value",outlined:"",dense:""},model:{value:e.purchase.stockType,callback:function(t){e.$set(e.purchase,"stockType",t)},expression:"purchase.stockType"}})],1),t(I["a"],{attrs:{cols:"12",md:"6",xl:"6",lg:"6"}},[t(Ge["a"],{attrs:{dense:"",counter:"100",maxlength:"100","auto-grow":"","row-height":"1",outlined:"",name:"input-5-3",label:"تێبینی"},model:{value:e.purchase.note,callback:function(t){e.$set(e.purchase,"note",t)},expression:"purchase.note"}})],1)],1)],1),t("hr"),t("br"),t(w["a"],[t(I["a"],[t(G["a"],{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center"},[e._v("باڕکۆد")]),t("th",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v("ناوی کاڵا")]),t("th",{staticClass:"text-center"},[e._v("نرخی کڕین")]),t("th",{staticClass:"text-center"},[e._v("نرخی فرۆشتن")]),t("th",{staticClass:"text-center"},[e._v("ژمارەی دانە")]),t("th",{staticClass:"text-center"},[e._v("داشکاندن")]),t("th",{staticClass:"text-center"},[e._v("نرخ دوای داشکاندن")]),t("th",{staticClass:"text-center"},[e._v("کۆی گشتی")]),t("th",{staticClass:"text-center",staticStyle:{width:"9%"}},[e._v("کردارەکان")])])]),t("tbody",[e._l(e.purchase.purchase_items,(function(s,a){return t("tr",{key:a},[t("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(s.item.itemCode))]),t("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(s.item.itemName))]),t("td",{staticClass:"text-center"},[t(O["a"],{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.costPrice},on:{change:function(t){return e.changeAfterDis(s)}},model:{value:e.purchase.purchase_items[a].costPrice,callback:function(t){e.$set(e.purchase.purchase_items[a],"costPrice",t)},expression:"purchase.purchase_items[index].costPrice"}})],1),t("td",{staticClass:"text-center"},[t(O["a"],{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.costPrice},model:{value:e.purchase.purchase_items[a].itemPriceRetail,callback:function(t){e.$set(e.purchase.purchase_items[a],"itemPriceRetail",t)},expression:"purchase.purchase_items[index].itemPriceRetail"}})],1),t("td",{staticClass:"text-center"},[t(O["a"],{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",rules:e.rules.qty},on:{change:function(t){return e.changeAfterDis(s)}},model:{value:e.purchase.purchase_items[a].qty,callback:function(t){e.$set(e.purchase.purchase_items[a],"qty",t)},expression:"purchase.purchase_items[index].qty"}})],1),t("td",{staticClass:"text-center"},[t(O["a"],{staticClass:"mt-5",attrs:{type:"number",dense:"",outlined:"",prefix:"$",rules:e.rules.discount},on:{change:function(t){return e.changeAfterDis(s)}},model:{value:e.purchase.purchase_items[a].discount,callback:function(t){e.$set(e.purchase.purchase_items[a],"discount",t)},expression:"purchase.purchase_items[index].discount"}})],1),t("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(s.costAfterDisc.toLocaleString())+" $")]),t("td",{staticClass:"text-center font-weight-bold"},[e._v(e._s(s.total.toLocaleString())+" $")]),t("td",{staticStyle:{width:"9%"}},[t(ws["a"],{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[a?t(N["a"],{staticClass:"mb-5",attrs:{color:"red",large:""},on:{click:function(t){return e.deleteItem(s)}}},[e._v("mdi-delete-empty")]):t(N["a"],{staticClass:"mb-5",attrs:{color:"red"}},[e._v("mdi-delete")])]}}],null,!0)}),e.purchase.purchaseID>0?t(ws["a"],{attrs:{id:"icon"},scopedSlots:e._u([{key:"default",fn:function({hover:a}){return[t(N["a"],a?{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success",large:""},on:{click:function(t){s.purchaseID?e.updateItem(s):e.insertItem(s)}}}:{staticClass:"mb-5 font-weight-bold mr-4",attrs:{color:"success"}},[e._v("mdi-check")])]}}],null,!0)}):e._e()],1)])})),t("tr",[t("td"),t("td"),t("td"),t("td"),t("td"),t("td"),t("td",{staticClass:"text-center green white--text font-weight-bold"},[t("h3",[e._v("سەرجەم :")])]),t("td",{staticClass:"text-center green white--text font-weight-bold"},[t("h3",[e._v(e._s(e.total.toLocaleString())+" $ ")])]),t("td"),t("td")])],2)]},proxy:!0}])}),t("br"),t($["a"],{ref:"listForm",on:{submit:function(e){e.preventDefault()}}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"4",xl:"2",lg:"2"}},[t(Rs["a"],{attrs:{filter:e.filterObject,label:"باڕکۆد",items:e.items,"item-text":"itemName","item-value":"itemID","search-input":e.searches.iSearch,"return-object":"",outlined:"",dense:"",rules:e.rules.item},on:{"update:searchInput":function(t){return e.$set(e.searches,"iSearch",t)},"update:search-input":function(t){return e.$set(e.searches,"iSearch",t)},change:function(t){return e.selectItem()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.addItemBarcode())}},model:{value:e.purchase_item.item,callback:function(t){e.$set(e.purchase_item,"item",t)},expression:"purchase_item.item"}})],1)],1),t(v["a"],{attrs:{color:e.purchase.purchaseID?"warning":"success"},on:{click:function(t){e.purchase.purchaseID?e.update():e.submit()}}},[t(N["a"],[e._v(e._s(e.purchase.purchaseID?"mdi-content-save-outline":"mdi-plus"))]),e._v(" "+e._s(e.purchase.purchaseID?"نوێکردنەوە":"زیادکردنی کڕین "))],1)],1)],1)],1)],1)],1)},As=[],Es=(s("14d9"),{data(){return{loading:!1,suppliers:[],menues:{menue1:!1},searches:{sSearch:"",iSearch:""},PurchaseStatus:[{name:"وەرگیراو",value:"recived"},{name:"لە چاوەڕوانیدایە",value:"pending"},{name:"کڕدراوە",value:"ordered"}],paymentTypes:[{name:"کاش",value:"c"},{name:"قەرز",value:"d"}],debtStatus:[{name:"دراوە",value:1},{name:"نەدراوە",value:0}],stockTypes:[{name:"کڕین",value:"p"},{name:"گەڕاندنەوە",value:"rp"}],items:[],purchase:{supplierID:0,supplierName:"",referenceNo:0,shipingCost:0,amountPay:0,discount:0,PurchaseStatus:"recived",paymentType:"d",debtStatus:0,stockType:"p",purchase_items:[]},purchase_item:{itemID:0,costPrice:0,qty:0,discount:0,costAfterDisc:0,expiryDate:(new Date).toISOString().split("T")[0],item:{itemID:0}},rules:{supplier_rule:[e=>null!=e&&""!=e||"تکایە  کۆمپانیا هەڵبژێرە"],shelfID:[e=>null!=e&&""!=e||"تکایە  سندوق دیاری بکە"],referenceNo:[e=>null!=e&&Number(e)>0||"تکایە ژمارەی وەسڵ داخڵ بکە"],costPrice:[e=>null!=e&&Number(e)>0||"تکایە نرخ بە دروستی داخڵ بکە"],qty:[e=>null!=e&&Number(e)>0||"تکایە دانە بە دروستی داخڵ بکە"],discount:[e=>null!=e&&Number(e)>=0||"تکایە داشکاندن بە دروستی داخڵ بکە"],item:[e=>null!=e&&e!={}||"تکایە مەواد بە دروستی داخڵ بکە"],expiryDate:[e=>null!=e&&""!=e||"تکایە بەروار بە دروستی داخڵ بکە"]},userID:null,userName:"",owners:[]}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e})},computed:{total(){var e=0;return this.purchase.purchase_items.forEach(t=>e+=t.qty*t.costAfterDisc),e}},mounted(){this.emitter.$on("openPurchase",e=>{this.suppliers.push({...e.suppliers}),this.purchase={...e},this.purchase.purchase_items.forEach(e=>{e.itemPriceRetail=e.item.itemPriceRetail,e.costPrice=e.item.costPrice,e.itemID=e.item.itemID,e.total=e.qty*e.costAfterDisc,e.expiryDate=new Date(e.expiryDate).toISOString().split("T")[0],e.menu=!1})}),this.emitter.$on("closePurchase",()=>this.clearFields(!0))},methods:{getSuplliers(){this.$http.get("/purchase/getSupplier",{params:{name:this.searches.sSearch}}).then(({data:e})=>{this.suppliers=e})},getItems(){this.$http.get("/purchase/getItems",{params:{name:this.searches.iSearch}}).then(({data:e})=>{this.items=e})},async selectItem(){this.purchase_item.itemPriceRetail=this.purchase_item.item.itemPriceRetail,this.purchase_item.costPrice=this.purchase_item.item.costPrice,this.purchase_item.itemID=this.purchase_item.item.itemID,this.purchase_item.total=this.purchase_item.qty*this.purchase_item.costAfterDisc,this.purchase_item.menu=!1;const e=await this.purchase.purchase_items.filter(e=>e.itemID===this.purchase_item.itemID);0===e.length?(this.purchase.purchase_items.push({...this.purchase_item}),this.clearFields()):(this.emitter.$emit("notify",{type:"error",text:"ئەم مەوادە زیادکراوە"}),this.clearFields())},async addItemBarcode(){if(Number.isInteger(Number(this.searches.iSearch))){const{data:e}=await this.$http.get("/item/getItemForPurchase/"+this.searches.iSearch),t=e.getItemForPurchase;t?(this.purchase_item.item=t,this.selectItem()):this.clearFields()}},async deleteItem(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(async()=>{if(e.purchaseID){const t={...e};t.stockType=this.purchase.stockType,await this.$http.delete("/purchase/deleteItem",{data:t}).then(({data:t})=>{t.force?(this.emitter.$emit("deletePurchase",this.purchase.purchaseID),this.emitter.$emit("notify",{type:"success",text:"زانیاری ئەم وەسڵە سڕایەوە"}),this.clearFields(!0)):(this.emitter.$emit("notify",{type:"success",text:"کاڵاکە سڕایەوە"}),this.purchase.purchase_items=this.purchase.purchase_items.filter(t=>t.itemID!=e.itemID))}).catch(()=>this.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"}))}else this.purchase.purchase_items=this.purchase.purchase_items.filter(t=>t.itemID!=e.itemID)})},submit(){if(this.$refs.formPurchase.validate()){var e={...this.purchase};e.supplierName=this.suppliers.find(t=>t.supplierID==e.supplierID).supplierName,e.totalPrice=0,e.purchase_items.forEach(t=>{delete t.item,delete t.menu,delete t.total,e.totalPrice+=t.costAfterDisc*t.qty}),e.note1=" پێدانی پێشەکی کڕین بە ",e.notePurchase=" لە پسووڵەی ",e.note2=" پێدانی پارەی کاش بە ",e.note3=" وەرگرتنەوەی پارەی گەڕاوەی کڕین لە ",this.$http.post("/purchase",{data:e}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"کڕینەکە زیادکرا"}),this.clearFields(!0),this.emitter.$emit("addPurchase")}).catch(()=>this.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا!"}))}},filterObject(e,t){return e.itemCode.toLowerCase().includes(t.toLowerCase())||e.itemName.toLowerCase().includes(t.toLowerCase())},updateItem(e){const t=e;t.stockType=this.purchase.stockType,t.total=this.total,delete t.item,delete t.total,delete t.menu,this.$http.patch("/purchase/updateItem",{data:t}).then(()=>this.emitter.$emit("notify",{type:"success",text:"زانیارییەکان نوێکرانەوە"})).catch(()=>this.emitter.$emit("notify",{type:"error",text:" هەڵەیەک ڕوویدا!"}))},insertItem(e){if(e.qty<0)this.emitter.$emit("notify",{type:"error",text:"تکایە ژمارەی دانەکان دیاریبکە"});else{const t={...e};delete t.item,delete t.menu,delete t.total,t.purchaseID=this.purchase.purchaseID,t.stockType=this.purchase.stockType,this.$http.post("purchase/addItem",{itemm:t}).then(()=>{e.purchaseID=this.purchase.purchaseID,this.emitter.$emit("notify",{type:"success",text:"کاڵاکە زیادکرا"})}).catch(()=>this.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"}))}},update(){if(this.$refs.formPurchase.validate()){const e={...this.purchase};e.totalPrice=this.total,delete e.purchase_items,delete e.suppliers,this.$http.patch("purchase/updatePurchase",{data:e}).then(()=>{this.clearFields(!0),this.emitter.$emit("notify",{type:"success",text:"وەسڵەکە نوێکرایەوە "}),this.emitter.$emit("updatePurchase")}).catch(()=>this.emitter.$emit("notify",{type:"error",text:"هەڵەیەک ڕویدا"}))}},changeAfterDis(e){e.costAfterDisc=e.costPrice-e.discount,e.total=e.costAfterDisc*e.qty},clearFields(e=!1){this.purchase_item.costPrice=0,this.purchase_item.item={itemID:0},this.purchase_item.discount=0,this.purchase_item.expiryDate=(new Date).toISOString().split("T")[0],this.purchase_item.qty=0,this.purchase_item.discount=0,this.purchase_item.costAfterDisc=0,this.purchase_item.itemID=0,this.$refs.listForm.resetValidation(),e&&(this.purchase.purchaseID=null,this.purchase.purchase_items=[],this.purchase.discount=0,this.purchase.amountPay=0,this.purchase.note="",this.purchase.supplierID=0,this.purchase.shelfID=null,this.purchase.referenceNo=0,this.$refs.formPurchase.resetValidation())},setFocus(e){document.getElementById(e).focus()},clearExpense(){this.singleExpense.expenseID=null,this.singleExpense.typeExpenseID=null,this.singleExpense.priceExpenseIQD=0,this.singleExpense.priceExpense$=0,this.$refs.formExpense.resetValidation()}},watch:{"searches.sSearch":function(){this.getSuplliers()},"searches.iSearch":function(){this.getItems()}},beforeDestroy(){this.emitter.$off("closePurchase")}}),Bs=Es,Us=Object(u["a"])(Bs,Os,As,!1,null,null,null),Ls=Us.exports,qs={name:"Purchases",components:{formPurchase:Ls},data(){return{dialog:!1,table:{page:1,numberOfPurchase:0},purchases:[],searchInvoice:""}},methods:{getPurchases(){this.$http.get("/purchase",{params:{page:this.table.page}}).then(async({data:e})=>{await e.purchases.forEach((e,t)=>{e.index=20*(this.table.page-1)+t+1}),this.purchases=e.purchases,this.table.numberOfPurchase=e.nop})},async getPurchase(e){this.$http.get("/purchase/"+e).then(({data:e})=>{this.dialog=!0,this.emitter.$emit("openPurchase",e)})},search(){this.searchInvoice&&this.$http.get("/purchase/search/"+this.searchInvoice).then(async({data:e})=>{await e.purchases.forEach((e,t)=>{e.index=t+1}),this.purchases=e.purchases,this.table.numberOfPurchase=e.nop})}},created(){this.getPurchases()},mounted(){this.emitter.$on("deletePurchase",e=>{this.purchases=this.purchases.filter(t=>t.purchaseID!=e),this.dialog=!1}),this.emitter.$on("updatePurchase",()=>{this.dialog=!1,this.getPurchases()}),this.emitter.$on("addPurchase",()=>this.getPurchases())},computed:{headers(){return[{text:"#",value:"index",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"ژمارەی وەصل",value:"referenceNo",align:"center",sortable:!0},{text:"کۆی گشتی",value:"totalPrice",align:"center",sortable:!0},{text:"جۆری کڕین",value:"paymentType",align:"center",sortable:!1},{text:"جۆری وەصل",value:"purchaseStatus",align:"center",sortable:!1},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردار",value:"actions",align:"center",sortable:!1}]}},watch:{"table.page":function(){this.getPurchases()}},beforeDestroy(){this.emitter.$off("openPurchase"),this.emitter.$off("deletePurchase"),this.emitter.$off("updatePurchase"),this.emitter.$off("addPurchase")},filters:{invoiceType:we,purchaseStatus:Pe}},Fs=qs,js=Object(u["a"])(Fs,Ps,Ts,!1,null,null,null),Qs=js.exports,Ws=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeDisposal"),expression:"emitter.$emit('closeDisposal')"}],attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی کۆمپانیا ")],1)]}}]),model:{value:e.sheets.disposal,callback:function(t){e.$set(e.sheets,"disposal",t)},expression:"sheets.disposal"}},[t(T["a"],{staticClass:"pa-3"},[t("formDisposal")],1)],1):t(S["a"],{attrs:{persistent:"",eager:"",width:"525px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردنی تەلەف ")],1)]}}],null,!1,1542061410),model:{value:e.dialogs.disposal,callback:function(t){e.$set(e.dialogs,"disposal",t)},expression:"dialogs.disposal"}},[t(y["a"],[t(x["b"],[t("span",[e._v("تۆمارکردنی (تەلەف - ونبوو - شکاو)")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeDisposal"),e.dialogs.disposal=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formDisposal")],1)],1)],1)],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.disposals,loading:e.loadings.table,"loading-text":"تکایە چاوەڕوانبە....","footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costPrice)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDisposal(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteDisposal(s.disposalID,s.itemID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])]}}])}),t("notification")],1)},Ms=[],Gs=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formDisposal",on:{submit:function(e){e.preventDefault()}}},[e.singleDisposal.disposalID?t(O["a"],{attrs:{outlined:"",dense:"",label:"ناوی کاڵا",readonly:""},model:{value:e.singleDisposal.itemName,callback:function(t){e.$set(e.singleDisposal,"itemName",t)},expression:"singleDisposal.itemName"}}):t(Rs["a"],{attrs:{outlined:"",dense:"","search-input":e.search,items:e.items,"item-text":"itemName","item-value":"itemID",filter:e.filterObject},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getItemID()}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=s.itemName,e.getItemID()}}},[e._v(" "+e._s(s.itemName)+" ")])]}}],null,!1,1751291520)}),t(O["a"],{attrs:{label:"نرخی کڕین",readonly:"",dense:"",outlined:"",type:"number"},model:{value:e.singleDisposal.costPrice,callback:function(t){e.$set(e.singleDisposal,"costPrice",e._n(t))},expression:"singleDisposal.costPrice"}}),t(O["a"],{attrs:{label:"دانە",dense:"",outlined:"",type:"number",id:"qty",rules:e.rules.qty},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("expiryDate")}},model:{value:e.singleDisposal.qty,callback:function(t){e.$set(e.singleDisposal,"qty",e._n(t))},expression:"singleDisposal.qty"}})],1),e.singleDisposal.disposalID?t(v["a"],{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateDisposal()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{color:"success",block:""},on:{click:function(t){return e.addDisposal()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},zs=[],Hs={data(){return{lodings:{addDisposal:!1,updateDisposal:!1,deleteDisposal:!1},singleDisposal:{disposalID:null,itemID:null,itemName:null,costPrice:0,qty:0},menu2:!1,barcode:null,userID:null,rules:{itemCode:[e=>null!=e&&e.length>0||"تکایە بارکۆد دیاری بکە"],qty:[e=>null!=e&&e>0||"تکایە دانە دیاری بکە"]},search:null,items:[]}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID})},mounted(){this.emitter.$on("openDisposal",e=>{this.singleDisposal.disposalID=e.disposalID,this.singleDisposal.itemID=e.itemID,this.singleDisposal.itemName=e.itemName,this.singleDisposal.costPrice=e.costPrice,this.singleDisposal.qty=e.qty}),this.emitter.$on("closeDisposal",()=>{this.clearDisposal()})},methods:{setFocus(e){document.getElementById(e).focus()},addDisposal(){this.$refs.formDisposal.validate()&&(this.lodings.addDisposal=!0,this.$http.post("/item/addDisposal",{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("disposalAdded",{disposalID:e.disposalID,itemID:this.singleDisposal.itemID,itemCode:this.items.find(e=>e.itemID==this.singleDisposal.itemID).itemCode,itemName:this.items.find(e=>e.itemID==this.singleDisposal.itemID).itemName,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty,expiryDate:this.singleDisposal.expiryDate}),this.clearDisposal()}).finally(()=>{this.lodings.addDisposal=!1}))},updateDisposal(){this.$refs.formDisposal.validate()&&(this.lodings.updateDisposal=!0,this.$http.patch("/item/updateDisposal/"+this.singleDisposal.disposalID,{itemID:this.singleDisposal.itemID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("disposalUpdated",{disposalID:this.singleDisposal.disposalID,costPrice:this.singleDisposal.costPrice,qty:this.singleDisposal.qty})}).finally(()=>{this.lodings.updateDisposal=!1}))},clearDisposal(){this.singleDisposal.disposalID=null,this.search=null,this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0,this.singleDisposal.qty=0,this.singleDisposal.expiryDate=null,this.items=[],this.$refs.formDisposal.resetValidation()},filterObject(e,t){return e.itemCode.toLowerCase().startsWith(t.toLowerCase())||e.itemName.toLowerCase().startsWith(t.toLowerCase())},getItemID(){const e=this.items.find(e=>e.itemCode==this.search||e.itemName==this.search);e?(this.singleDisposal.itemID=e.itemID,this.search=e.itemName,this.singleDisposal.costPrice=e.costPrice):(this.singleDisposal.itemID=null,this.singleDisposal.costPrice=0)}},watch:{search(){this.search?this.$http.get("/item/getItem/"+this.search).then(({data:e})=>{this.items=e}):this.items=[]}},beforeDestroy(){this.emitter.$off("openDisposal"),this.emitter.$off("closeDisposal")}},Vs=Hs,Ks=Object(u["a"])(Vs,Gs,zs,!1,null,null,null),Js=Ks.exports,Xs={name:"Disposals",components:{formDisposal:Js},data(){return{dialogs:{disposal:!1},sheets:{disposal:!1},loadings:{table:!1},disposals:[],userName:""}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userName=e.userName}),this.getDisposals()},mounted(){this.emitter.$on("disposalAdded",e=>{this.disposals.unshift({disposalID:e.disposalID,itemID:e.itemID,itemCode:e.itemCode,itemName:e.itemName,costPrice:e.costPrice,userName:this.userName,qty:e.qty,createAt:(new Date).toISOString().split("T")[0]})}),this.emitter.$on("disposalUpdated",e=>{let t=this.disposals.findIndex(t=>t.disposalID=e.disposalID);this.disposals[t].costPrice=e.costPrice,this.disposals[t].qty=e.qty})},methods:{getDisposals(){this.loadings.table=!0,this.$http.get("/item/disposalToday").then(({data:e})=>{this.disposals=e}).finally(()=>{this.loadings.table=!1})},async getDisposal(e){await this.$isMobile()?this.sheets.disposal=!0:this.dialogs.disposal=!0,this.emitter.$emit("openDisposal",{disposalID:e.disposalID,itemID:e.itemID,itemName:e.itemName,costPrice:e.costPrice,qty:e.qty})},deleteDisposal(e,t){this.$confirm("دڵنیای لە سڕینەوەی ئەم خەرجیە ؟","","question").then(()=>{let s=this.disposals.findIndex(t=>t.disposalID==e);this.$http.delete("/item//deleteDisposal/"+e+"/"+t).then(()=>{this.disposals.splice(s,1)})})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"بارکۆد",value:"itemCode",align:"center",sortable:!1},{text:"ناوی کاڵا",value:"itemName",align:"center",sortable:!1},{text:"نرخی کڕین",value:"costPrice",align:"center",sortable:!1},{text:"دانە",value:"qty",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!1},{text:"بەکار‌هێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]}},beforeDestroy(){this.emitter.$off("disposalAdded"),this.emitter.$off("disposalUpdated")}},Ys=Xs,Zs=Object(u["a"])(Ys,Ws,Ms,!1,null,null,null),ea=Zs.exports,ta=s("4ca6"),sa=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(_["a"],{staticClass:"pt-1",style:`max-height: ${e.dynamicHeight}px; max-height: ${e.dynamicHeight}px; overflow-y: auto;`},[t(w["a"],[t(I["a"],{staticClass:"mb-0 pb-0",attrs:{cols:"12"}},[t(w["a"],[t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"2",lg:"2"}},[t(qe["a"],{attrs:{label:"جوملە",inset:"",disabled:1==e.singleInvoice.sellStatus},model:{value:e.wholeSell,callback:function(t){e.wholeSell=t},expression:"wholeSell"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"3"}},[t(O["a"],{attrs:{label:"ژ.وەصڵ",outlined:"",dense:"",success:"",loading:e.loadings.searchInvoice,clearable:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getInvoice()},"click:clear":function(t){!e.singleInvoice.invoiceID||0!=e.singleInvoice.sellStatus||e.unsoldedInvoices.push(e.singleInvoice.invoiceID),e.clearInvoice()}},model:{value:e.searchInvoice,callback:function(t){e.searchInvoice=e._n(t)},expression:"searchInvoice"}})],1),t(I["a"],{attrs:{cols:"12",md:"7",lg:"7"}},[t(Rs["a"],{attrs:{label:"گەڕان",outlined:"",dense:"",items:e.items,loading:e.loadings.searchItem,filter:e.filterObject,id:"search-item","item-text":"itemName","item-value":"itemID","search-input":e.search},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setItem()}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("span",{staticStyle:{"font-size":"14px",width:"100%"},on:{click:function(t){e.search=s.itemCode,e.setItem()}}},[e._v(" "+e._s(s.itemName)+" ")])]}}])})],1)],1),t(P["a"],{attrs:{label:"جۆرەکان",outlined:"",dense:"",clearable:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID"},model:{value:e.categoryID,callback:function(t){e.categoryID=t},expression:"categoryID"}})],1),e._l(e.buttonItems,(function(s){return t(I["a"],{key:s.itemID,attrs:{cols:"12",md:"2",xl:"2"}},[t(y["a"],{staticClass:"pa-1",attrs:{elevation:"2",disabled:1==e.singleInvoice.sellStatus},on:{click:function(t){e.search=s.itemCode,e.setItem()}}},[t(Me["a"],{attrs:{src:"/item/image/"+(s.image||"default.jpg"),contain:"",height:"95px"}}),t(C["a"],{staticClass:"my-1"}),t("div",{staticStyle:{height:"75px"}},[t("small",{staticClass:"font-weight-bold"},[e._v(" "+e._s(s.itemName.length>36?s.itemName.substring(0,36)+"...":s.itemName)+" ")])]),t(D["a"],{attrs:{color:"primary",label:"",outlined:"",small:"",dir:"ltr"}},[e._v(" "+e._s((e.wholeSell?s.itemPriceWhole:s.itemPriceRetail).toLocaleString())+" $ ")])],1)],1)}))],2)],1)],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(_["a"],{staticClass:"pt-0",attrs:{fluid:""}},[t(w["a"],[t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"5",xl:"5"}},[t(ta["a"],{attrs:{color:"primary",content:e.customerDebt.toLocaleString()+" $",value:e.customerDebt,"offset-x":9*e.customerDebt.toString().length,"offset-y":"12"}},[t(P["a"],{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,disabled:1==e.singleInvoice.sellStatus,"item-text":"customerName","item-value":"customerID"},model:{value:e.singleInvoice.customerID,callback:function(t){e.$set(e.singleInvoice,"customerID",t)},expression:"singleInvoice.customerID"}})],1)],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[t(P["a"],{attrs:{label:"جۆر",outlined:"",dense:"",items:[{text:"فرۆشتن",value:"s"},{text:"گەڕاندنەوە",value:"rs"}],disabled:1==e.singleInvoice.sellStatus,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.stockType,callback:function(t){e.$set(e.singleInvoice,"stockType",t)},expression:"singleInvoice.stockType"}})],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",xl:"3"}},[t(P["a"],{attrs:{label:"فرۆشتن بە",outlined:"",dense:"",items:[{text:"کاش",value:"c"},{text:"قەرز",value:"d"}],disabled:1==e.singleInvoice.sellStatus||1==e.singleInvoice.customerID,"item-text":"text","item-value":"value"},model:{value:e.singleInvoice.invoiceType,callback:function(t){e.$set(e.singleInvoice,"invoiceType",t)},expression:"singleInvoice.invoiceType"}})],1),e.unsoldedInvoices.length>0&&!e.singleInvoice.invoiceID?t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"1",xl:"1"}},[t(v["a"],{attrs:{color:"warning",block:"",fab:"",small:""},on:{click:function(t){e.searchInvoice=e.unsoldedInvoices.pop(),e.getInvoice()}}},[t(N["a"],[e._v(" mdi-alert-circle-outline ")])],1)],1):e._e(),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12"}},[t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:e.dynamicHeight-255+"px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center"},[e._v(" کاڵا ")]),t("th",{staticClass:"text-center"},[e._v(" خاوەندارێتی ")]),t("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),t("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" نرخ ")]),t("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" دانە ")]),t("th",{staticClass:"text-center"},[e._v(" کۆی نرخ ")]),t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.invoiceItems,(function(s,a){return t("tr",{key:s.invdID},[t("td",[e._v(" "+e._s(s.itemName)+" ")]),t("td",[e._v(" "+e._s(s.shelfName)+" ")]),t("td",[e._v(" "+e._s(s.unitName)+" ")]),t("td",[t(O["a"],{attrs:{dense:"",type:"number"},on:{change:function(t){return e.changeProductPrice(s.invdID,s.productPrice,s.itemID)}},model:{value:e.invoiceItems[a].productPrice,callback:function(t){e.$set(e.invoiceItems[a],"productPrice",t)},expression:"invoiceItems[index].productPrice"}})],1),t("td",[t(O["a"],{attrs:{dense:"",type:"number"},on:{change:function(t){return e.changeQty(s.invdID,s.qty,s.itemID)}},scopedSlots:e._u([s.qty>1?{key:"prepend-inner",fn:function(){return[t(v["a"],{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(t){return e.decreaseItem(s.invdID,a,s.itemID)}}},[t(N["a"],[e._v(" mdi-minus ")])],1)]},proxy:!0}:null,{key:"append",fn:function(){return[t(v["a"],{attrs:{icon:"","x-small":"",color:"success"},on:{click:function(t){return e.increaseItem(s.invdID,a,s.itemID)}}},[t(N["a"],[e._v(" mdi-plus ")])],1)]},proxy:!0}],null,!0),model:{value:e.invoiceItems[a].qty,callback:function(t){e.$set(e.invoiceItems[a],"qty",t)},expression:"invoiceItems[index].qty"}})],1),t("td",[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" ")]),t("td",[e.wholeSell?t(v["a"],{attrs:{color:"primary",icon:""},on:{click:function(t){return e.openWholeSell(s.itemID,s.qty,s.invdID,a)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1):e._e(),t(v["a"],{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteItem(s.invdID,s.itemID,a)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])})],1),t(I["a"],{attrs:{cols:"12"}},[t(D["a"],{staticClass:"text-center pt-0",staticStyle:{width:"100%","font-size":"24px"},attrs:{color:"success",large:"",label:""}},[e._v(" کۆی گشتی : "+e._s(e.getTotal.toLocaleString())+" $ "),t("span",{staticClass:"mx-15"},[e._v(" ("+e._s((e.getTotal*e.$store.state.dollarPrice).toLocaleString(void 0,{minimumFractionDigits:2}).toString())+" د.ع) ")])])],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"12",md:"12",xl:"12"}},[t(O["a"],{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"$",type:"number"},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),0==e.singleInvoice.sellStatus?t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[t(v["a"],{attrs:{color:"primary",block:"",disabled:!e.singleInvoice.invoiceID,loading:e.loadings.sellInvoice},on:{click:function(t){return e.sellInvoice("A4")}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-printer ")]),e._v(" فرۆشتن ")],1)],1):e._e(),0==e.singleInvoice.sellStatus?t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"12",md:"6",xl:"6"}},[t(v["a"],{attrs:{color:"primary",block:"",disabled:!e.singleInvoice.invoiceID,loading:e.loadings.sellInvoice},on:{click:function(t){return e.sellInvoice("cashier")}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-printer-pos ")]),e._v(" فرۆشتن کاشێر ")],1)],1):t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"6",lg:"6"}},[t(v["a"],{attrs:{color:"warning",block:""},on:{click:function(t){return e.updateInvoice()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1)],1),t(I["a"],{attrs:{cols:"12",md:"6",lg:"6"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){return e.printInvoice()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-printer ")]),e._v(" چاپکردن ")],1)],1)],1)],1)],1)],1)],1)],1),t(S["a"],{attrs:{persistent:"",width:"35%"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زانیاری کاڵا ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.closeWholeSell()}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t(D["a"],{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی جوملە = "+e._s(e.wholeSellObj.itemPriceWhole.toLocaleString())+" $ ")]),t(D["a"],{staticClass:"black--text text-center mt-2",staticStyle:{width:"100%"},attrs:{label:"",large:""}},[e._v(" نرخی فرۆشتنی مفرد = "+e._s(e.wholeSellObj.itemPriceRetail.toLocaleString())+" $ ")]),t(C["a"],{staticClass:"my-2"}),t(v["a"],{attrs:{color:"primary",block:"",loading:e.loadings.saveWholeSell},on:{click:function(t){return e.saveWholeSell()}}},[e._v(" گۆڕین بە فرۆشتنی جوملە ")])],1)],1)],1),t(S["a"],{attrs:{width:"70%"},model:{value:e.dialogs.cashDiscount,callback:function(t){e.$set(e.dialogs,"cashDiscount",t)},expression:"dialogs.cashDiscount"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" دراوەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashDiscount=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"10"}},[t(O["a"],{attrs:{label:"داشکاندن",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.discount=0):null}},model:{value:e.singleInvoice.discount,callback:function(t){e.$set(e.singleInvoice,"discount",e._n(t))},expression:"singleInvoice.discount"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.discount=0}}},[e._v(" سفرکردنەوە ")])],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.discount+=100*e.$store.state.dollarPrice}}})],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.discount+=25e3}}})],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.discount+=1e4}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.discount+=5e3}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.discount+=1e3}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.discount+=250}}})],1)],1)],1)],1)],1)],1),t(S["a"],{attrs:{width:"70%"},model:{value:e.dialogs.cashPayment,callback:function(t){e.$set(e.dialogs,"cashPayment",t)},expression:"dialogs.cashPayment"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" دراوەکان ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.cashPayment=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"7"}},[t(O["a"],{attrs:{label:"پارەی دراو",outlined:"",dense:"",prefix:"IQD",type:"number"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.shiftKey?void(e.singleInvoice.totalPay=0):null}},model:{value:e.singleInvoice.totalPay,callback:function(t){e.$set(e.singleInvoice,"totalPay",e._n(t))},expression:"singleInvoice.totalPay"}})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"3"}},[t(U["a"],{attrs:{color:"success",outlined:"",dense:""}},[e._v(" باقی: "+e._s((e.singleInvoice.totalPay-e.getTotal).toLocaleString())+" ")])],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"2"}},[t(v["a"],{attrs:{color:"info",block:""},on:{click:function(t){e.singleInvoice.totalPay=0}}},[e._v(" سفرکردنەوە ")])],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("d9b1")},on:{click:function(t){e.singleInvoice.totalPay+=100*e.$store.state.dollarPrice}}})],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("6027")},on:{click:function(t){e.singleInvoice.totalPay+=25e3}}})],1),t(I["a"],{staticClass:"mt-0 pt-0",attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("9145")},on:{click:function(t){e.singleInvoice.totalPay+=1e4}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("0f81")},on:{click:function(t){e.singleInvoice.totalPay+=5e3}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("328f")},on:{click:function(t){e.singleInvoice.totalPay+=1e3}}})],1),t(I["a"],{attrs:{cols:"12",md:"4",xl:"4"}},[t(Me["a"],{directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],attrs:{src:s("59f6")},on:{click:function(t){e.singleInvoice.totalPay+=250}}})],1)],1)],1)],1)],1)],1),t("notification")],1)},aa=[],ia={name:"Invoice",data(){return{dialogs:{cashPayment:!1,cashDiscount:!1,itemDetail:!1},loadings:{searchInvoice:!1,saveWholeSell:!1,sellInvoice:!1,searchItem:!1},wholeSell:!1,customers:[],categories:[],items:[],buttonItems:[],categoryID:null,searchInvoice:null,singleInvoice:{invoiceID:null,customerID:1,totalPay:0,discount:0,dollarPrice:0,stockType:"s",sellStatus:"0",invoiceType:"c"},invoiceItems:[],wholeSellObj:{qtyWhole:0,perUnit:0,unit:null,invdID:null,index:null,itemPriceWhole:0,itemPriceRetail:0},customerDebt:0,unsoldedInvoices:[],userID:null,search:""}},async created(){await this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID}),this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e}),this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.$http.get("/invoice/getUnsoldedInvoices/"+this.userID).then(({data:e})=>{this.unsoldedInvoices=e})},mounted(){document.getElementById("search-item").focus(),this.emitter.$emit("changeDrawer",!1)},methods:{closeWholeSell(){this.dialogs.itemDetail=!1,this.wholeSellObj.qtyWhole=0,this.wholeSellObj.perUnit=0,this.wholeSellObj.unit=null,this.wholeSellObj.invdID=null,this.wholeSellObj.itemPriceWhole=0,this.wholeSellObj.itemPriceRetail=0,this.wholeSellObj.index=null},filterObject(e,t){return e.itemCode.toLowerCase().includes(t.toLowerCase())||e.itemName.toLowerCase().includes(t.toLowerCase())},clearInvoice(){this.singleInvoice.invoiceID=null,this.singleInvoice.customerID=1,this.singleInvoice.totalPay=0,this.singleInvoice.discount=0,this.singleInvoice.dollarPrice=0,this.singleInvoice.stockType="s",this.singleInvoice.sellStatus="0",this.singleInvoice.invoiceType="c",this.invoiceItems=[],this.searchInvoice=null},setItem(){this.search&&(this.loadings.searchItem=!0,this.$http.post("/invoice/addInvoice",{search:this.search,invoiceID:this.singleInvoice.invoiceID,customerID:this.singleInvoice.customerID,dollarPrice:this.$store.state.dollarPrice,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,sellStatus:this.singleInvoice.sellStatus,wholeSell:this.wholeSell}).then(({data:e})=>{if("Invoice Created"==e.message)this.singleInvoice.invoiceID=e.invoiceID,this.searchInvoice=e.invoiceID,this.invoiceItems.unshift({invdID:e.invdID,itemID:e.itemID,itemName:e.itemName,qty:e.qty,productPrice:e.productPrice,shelfName:e.shelfName,unitName:e.unitName});else if("Item Added"==e.message)this.invoiceItems.unshift({invdID:e.invdID,itemID:e.itemID,itemName:e.itemName,qty:e.qty,productPrice:e.productPrice,shelfName:e.shelfName,unitName:e.unitName});else if("Item Updated"==e.message){let t=this.invoiceItems.findIndex(t=>t.itemID==e.itemID);this.invoiceItems[t].qty+=e.qty}1==this.singleInvoice.sellStatus&&this.$http.patch("/invoice/updateTotal/"+this.singleInvoice.invoiceID+"/"+this.singleInvoice.stockType,{totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay}).then(()=>{})}).catch(e=>{this.emitter.$emit("notify",{type:"warning",text:e.response.data.message})}).finally(()=>{this.loadings.searchItem=!1,this.search=null}))},getInvoice(){this.searchInvoice?(this.loadings.searchInvoice=!0,this.$http.get("/invoice/searchInvoice/"+this.searchInvoice).then(({data:e})=>{this.singleInvoice.invoiceID=this.searchInvoice,this.singleInvoice.customerID=e.invoice.customerID,this.singleInvoice.totalPay=e.invoice.totalPay,this.singleInvoice.discount=e.invoice.discount,this.singleInvoice.stockType=e.invoice.stockType,this.singleInvoice.sellStatus=e.invoice.sellStatus,this.singleInvoice.invoiceType=e.invoice.invoiceType,this.invoiceItems=e.invoiceItems}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loadings.searchInvoice=!1)):this.emitter.$emit("notify",{type:"warning",text:"ژمارەی وەصڵ داخڵ بکە"})},increaseItem(e,t,s){this.$http.patch("/invoice/increaseItem/"+e+"/"+this.singleInvoice.invoiceID,{itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal}).then(()=>{let e=Number(this.invoiceItems[t].qty);this.invoiceItems[t].qty=e+1})},decreaseItem(e,t,s){this.$http.patch("/invoice/decreaseItem/"+this.singleInvoice.invoiceID+"/"+e,{itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal}).then(()=>{this.invoiceItems[t].qty-=Number(1)})},async changeQty(e,t,s){await this.$http.patch("/invoice/changeQty/"+e+"/"+this.singleInvoice.invoiceID,{qty:t,itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal})},async changeProductPrice(e,t,s){await this.$http.patch("/invoice/changeProductPrice/"+e+"/"+this.singleInvoice.invoiceID,{productPrice:t,itemID:s,sellStatus:this.singleInvoice.sellStatus,stockType:this.singleInvoice.stockType,totalPrice:this.getTotal})},deleteItem(e,t,s){this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(()=>{this.$http.delete(`/invoice/deleteItem/${this.singleInvoice.invoiceID}/${e}/${this.singleInvoice.stockType}/${t}`).then(({data:e})=>{const{invoiceID:t,stockType:a}=this.singleInvoice;"Item Deleted"==e.message?this.invoiceItems.splice(s,1):"Invoice Deleted"==e.message&&this.clearInvoice(),this.$http.patch("/invoice/updateTotal/"+t+"/"+a,{totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay}).then(()=>{})})})},openWholeSell(e,t,s,a){this.$http.get("/item/getUnitInfo/"+e).then(({data:e})=>{this.wholeSellObj.unit=e.unit,this.wholeSellObj.perUnit=e.perUnit,this.wholeSellObj.qtyWhole=t/e.perUnit,this.wholeSellObj.invdID=s,this.wholeSellObj.index=a,this.wholeSellObj.itemPriceWhole=e.itemPriceWhole,this.wholeSellObj.itemPriceRetail=e.itemPriceRetail,this.dialogs.itemDetail=!0})},saveWholeSell(){this.loadings.saveWholeSell=!0,this.$http.patch("/invoice/changePricetoWhole/"+this.wholeSellObj.invdID,{itemPriceWhole:this.wholeSellObj.itemPriceWhole}).then(()=>{this.invoiceItems[this.wholeSellObj.index].productPrice=this.wholeSellObj.itemPriceWhole}).finally(()=>this.loadings.saveWholeSell=!1)},sellInvoice(e){this.loadings.sellInvoice=!0,this.$http.patch("/invoice/sellInvoice/"+this.singleInvoice.invoiceID,{customerID:this.singleInvoice.customerID,customerName:this.customers.find(e=>e.customerID==this.singleInvoice.customerID).customerName,totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay,discount:this.singleInvoice.discount,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,note:" وەرگرتنی پێشەکی فرۆشتن لە ",noteInvoice:" لە پسووڵە ",note2:" وەرگرتنی پارەی کاشی فرۆشتن لە ",note3:" گەڕاندنەوەی پارەی فرۆشراو بۆ  "}).then(()=>{this.singleInvoice.sellStatus=1,this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی فرۆشرا"}),"A4"==e?window.open("/printA4/"+this.singleInvoice.invoiceID):window.open("/printInvoice/"+this.singleInvoice.invoiceID),this.clearInvoice(),document.getElementById("search-item").focus()}).finally(()=>this.loadings.sellInvoice=!1)},printInvoice(){window.open("/printA4/"+this.singleInvoice.invoiceID)},updateInvoice(){this.$confirm("دڵنیای لە گۆڕانکاری ئەم وەصڵە ؟","","question").then(()=>{this.$http.patch("/invoice/updateInvoice/"+this.singleInvoice.invoiceID,{totalPrice:this.getTotal,totalPay:this.singleInvoice.totalPay,discount:this.singleInvoice.discount,stockType:this.singleInvoice.stockType,invoiceType:this.singleInvoice.invoiceType,customerID:this.singleInvoice.customerID}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"})})})}},computed:{dynamicHeight(){return window.innerHeight-80},getTotal(){const e=this.invoiceItems.reduce((e,t)=>e+t.qty*t.productPrice,0);return e-this.singleInvoice.discount}},watch:{categoryID(){this.categoryID?(this.buttonItems=[],this.$http.get("/item/getButtonItems/"+this.categoryID).then(({data:e})=>{this.buttonItems=e})):this.buttonItems=[]},search(){this.search?this.$http.get("/item/getItem/"+this.search).then(({data:e})=>{this.items=e.filter(e=>"1"==e.deleteStatus)}):this.items=[]},getTotal(){"c"==this.singleInvoice.invoiceType&&(this.singleInvoice.totalPay=this.getTotal)},"singleInvoice.customerID":function(e){1==e?(this.singleInvoice.invoiceType="c",this.customerDebt=0):(this.customerDebt=0,this.$http.get("/customer/getCustomerDebtForInvoice/"+e).then(({data:e})=>{this.customerDebt=e.totalRemain}))},"singleInvoice.invoiceType":function(e){this.singleInvoice.totalPay="d"==e?0:this.getTotal}}},ra=ia,la=Object(u["a"])(ra,sa,aa,!1,null,null,null),na=la.exports,oa=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(_["a"],{staticClass:"pt-1",style:`max-height: ${e.dynamicHeight}px; max-height: ${e.dynamicHeight}px; overflow-y: auto;`},[t(w["a"],[t(I["a"],{staticClass:"pt-0",attrs:{cols:"2"}},[t(qe["a"],{attrs:{label:"جوملە",inset:""},model:{value:e.wholeSell,callback:function(t){e.wholeSell=t},expression:"wholeSell"}})],1),t(I["a"],{staticClass:"my-0 py-0 pt-2",attrs:{cols:"10"}},[t(Rs["a"],{attrs:{label:"گەڕان",outlined:"",dense:"","search-input":e.search,loading:e.loadings.searchItem,items:e.items,"item-text":"itemName","item-value":"itemID",filter:e.filterObject},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setItem()}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("span",{staticStyle:{"font-size":"14px"},on:{click:function(t){e.search=s.itemCode,e.setItem()}}},[e._v(" "+e._s(s.itemName)+" ")])]}}])})],1),t(I["a"],{staticClass:"my-0 py-0",attrs:{cols:"12"}},[t(P["a"],{attrs:{label:"جۆرەکان",outlined:"",dense:"",clearable:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID"},model:{value:e.categoryID,callback:function(t){e.categoryID=t},expression:"categoryID"}})],1),e._l(e.buttonItems,(function(s){return t(I["a"],{key:s.itemID,attrs:{cols:"12",md:"3",xl:"2"}},[t(y["a"],{staticClass:"pa-1",attrs:{elevation:"2"},on:{click:function(t){e.search=s.itemCode,e.setItem()}}},[t(Me["a"],{attrs:{src:"/item/image/"+(s.image||"default.jpg"),contain:"",height:"95px"}}),t(C["a"],{staticClass:"my-1"}),t("div",{staticStyle:{height:"75px"}},[t("small",{staticClass:"font-weight-bold"},[e._v(" "+e._s(s.itemName.length>36?s.itemName.substring(0,36)+"...":s.itemName)+" ")])]),t(D["a"],{attrs:{color:"primary",label:"",outlined:"",small:"",dir:"ltr"}},[e._v(" "+e._s((e.wholeSell?s.itemPriceWhole:s.itemPriceRetail).toLocaleString())+" $ ")])],1)],1)}))],2)],1)],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{attrs:{cols:"12",md:"6",lg:"6",xl:"6"}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"10",lg:"10",xl:"10"}},[t(P["a"],{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"customerName"},model:{value:e.invoice.customer,callback:function(t){e.$set(e.invoice,"customer",t)},expression:"invoice.customer"}})],1),t(I["a"],{attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[t(v["a"],{attrs:{block:"",color:"info"},on:{click:function(t){return e.clearInvoice()}}},[t(N["a"],[e._v(" mdi-broom ")])],1)],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12"}},[t(G["a"],{staticClass:"text-center",attrs:{"fixed-header":"",height:e.dynamicHeight-180+"px"},scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center"},[e._v(" کاڵا ")]),t("th",{staticClass:"text-center"},[e._v(" خاوەندارێتی ")]),t("th",{staticClass:"text-center"},[e._v(" مەخزەن ")]),t("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" نرخ ")]),t("th",{staticClass:"text-center",staticStyle:{width:"18%"}},[e._v(" دانە ")]),t("th",{staticClass:"text-center"},[e._v(" کۆی نرخ ")]),t("th",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" کردارەکان ")])])]),t("tbody",e._l(e.invoice.sales,(function(s,a){return t("tr",{key:a},[t("td",[e._v(" "+e._s(s.itemName)+" ")]),t("td",[e._v(" "+e._s(s.shelfName)+" ")]),t("td",[e._v(" "+e._s(s.unitName)+" ")]),t("td",[t(O["a"],{attrs:{dense:"",type:"number"},model:{value:e.invoice.sales[a].productPrice,callback:function(t){e.$set(e.invoice.sales[a],"productPrice",t)},expression:"invoice.sales[index].productPrice"}})],1),t("td",[t(O["a"],{attrs:{dense:"",type:"number"},scopedSlots:e._u([s.qty>1?{key:"prepend-inner",fn:function(){return[t(v["a"],{attrs:{icon:"","x-small":"",color:"error"},on:{click:function(t){e.invoice.sales[a].qty-=1}}},[t(N["a"],[e._v(" mdi-minus ")])],1)]},proxy:!0}:null,{key:"append",fn:function(){return[t(v["a"],{attrs:{icon:"","x-small":"",color:"success"},on:{click:function(t){var s=Number(e.invoice.sales[a].qty);++s,e.invoice.sales[a].qty=s}}},[t(N["a"],[e._v(" mdi-plus ")])],1)]},proxy:!0}],null,!0),model:{value:e.invoice.sales[a].qty,callback:function(t){e.$set(e.invoice.sales[a],"qty",t)},expression:"invoice.sales[index].qty"}})],1),t("td",[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")]),t("td",[t(v["a"],{attrs:{color:"error",icon:""},on:{click:function(t){return e.deleteItem(a)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])})),0)]},proxy:!0}])})],1),t(I["a"],{attrs:{cols:"12",md:"9",lg:"10",xl:"10"}},[t(D["a"],{staticClass:"text-center pt-0",staticStyle:{width:"100%","font-size":"24px"},attrs:{color:"success",large:"",label:""}},[e._v(" کۆی گشتی : "+e._s(e.getTotal.toLocaleString())+" $ "),t("span",{staticClass:"mx-15"},[e._v(" ("+e._s((e.getTotal*e.$store.state.dollarPrice).toLocaleString(void 0,{minimumFractionDigits:2}))+" د.ع) ")])])],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(v["a"],{staticStyle:{height:"55px"},attrs:{block:"",color:"primary","x-large":"",disabled:0==e.invoice.sales.length},on:{click:function(t){return e.printInvoice()}}},[t(N["a"],{attrs:{"x-large":""}},[e._v(" mdi-printer ")])],1)],1)],1)],1)],1)],1)},ca=[],ua={data(){return{loadings:{searchItem:null},search:"",items:[],categories:[],categoryID:null,customers:[],buttonItems:[],wholeSell:!1,invoice:{customer:"Walk-in Customer",sales:[],user:""}}},created(){this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e}),this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.$http.get("/verifyToken").then(({data:e})=>{this.invoice.user=e.fullName})},mounted(){this.emitter.$emit("changeDrawer",!1)},methods:{clearInvoice(){this.invoice.customer="Walk-in Customer",this.invoice.sales=[]},filterObject(e,t){return e.itemCode.toLowerCase().includes(t.toLowerCase())||e.itemName.toLowerCase().includes(t.toLowerCase())},setItem(){this.search&&(this.loadings.searchItem=!0,this.$http.get("/item/getItemForShowInvoice/"+this.search+"/"+this.wholeSell).then(({data:e})=>{let t=this.invoice.sales.findIndex(t=>t.itemCode==e.itemCode);t>=0?this.invoice.sales[t].qty+=e.qty:this.invoice.sales.unshift({itemCode:e.itemCode,itemName:e.itemName,qty:e.qty,productPrice:e.productPrice,shelfName:e.shelfName,unitName:e.unitName})}).catch(e=>{this.emitter.$emit("notify",{type:"warning",text:e.response.data.message})}).finally(()=>{this.loadings.searchItem=!1,this.search=null}))},deleteItem(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم کاڵایە ؟","","question").then(()=>{this.invoice.sales.splice(e,1)})},printInvoice(){this.$store.commit("updateShowInvoice",this.invoice),window.open("/printShowInvoice")}},computed:{dynamicHeight(){return window.innerHeight-80},getTotal(){return this.invoice.sales.reduce((e,t)=>e+t.productPrice*t.qty,0)}},watch:{search(){this.search?this.$http.get("/item/getItem/"+this.search).then(({data:e})=>{this.items=e}):this.items=[]},categoryID(){this.categoryID?(this.buttonItems=[],this.$http.get("/item/getButtonItems/"+this.categoryID).then(({data:e})=>{this.buttonItems=e})):this.buttonItems=[]}}},da=ua,ma=Object(u["a"])(da,oa,ca,!1,null,null,null),ha=ma.exports,pa=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"cyan darken-4",icon:"mdi-archive",text:"کۆی کاڵاکان",data:e.countItemByStock}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"blue-grey",icon:"mdi-chart-scatter-plot-hexbin",text:"کۆی دانەی ناو مەخزەن",data:e.totalQtyItemByStock}})],1),t(C["a"],{attrs:{vertical:""}}),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"green darken-1",icon:"mdi-cart-arrow-down",text:"کۆی هاتووی ئەمڕۆ",data:e.inToStock}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"red darken-2",icon:"mdi-cart-arrow-up",text:"کۆی ڕۆیشتووی ئەمڕۆ",data:e.outFromStock}})],1),t(I["a"],{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[t(y["a"],[t(x["b"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(O["a"],{attrs:{dense:"",outlined:"",label:"گەڕان بە پێی بارکۆد و ناو .....","append-icon":"mdi-magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"مەخزەن",dense:"",outlined:"",items:e.stocks,"item-text":"unitName","item-value":"unitID",clearable:""},model:{value:e.searchGroup.unitID,callback:function(t){e.$set(e.searchGroup,"unitID",t)},expression:"searchGroup.unitID"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"جۆر",dense:"",outlined:"",items:e.categories,"item-text":"categoryName","item-value":"categoryID",clearable:""},model:{value:e.searchGroup.categoryID,callback:function(t){e.$set(e.searchGroup,"categoryID",t)},expression:"searchGroup.categoryID"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",dense:"",outlined:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfID",clearable:""},model:{value:e.searchGroup.shelfID,callback:function(t){e.$set(e.searchGroup,"shelfID",t)},expression:"searchGroup.shelfID"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"براند",dense:"",outlined:"",items:e.brands,"item-text":"brandName","item-value":"brandID",clearable:""},model:{value:e.searchGroup.brandID,callback:function(t){e.$set(e.searchGroup,"brandID",t)},expression:"searchGroup.brandID"}})],1),t(R["a"]),t(v["a"],{attrs:{fab:"","x-small":""},on:{click:e.generatePDFStock}},[t(N["a"],[e._v("mdi-file-pdf-outline")])],1)],1),t(x["a"],[t(k["a"],{attrs:{dense:"",headers:e.headers,items:e.filterStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]},search:e.search,loading:e.loadings.item,"loading-text":"تکایە چاوەروانبە....","item-key":"itemID"},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.initial)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.purchased)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.returnPurchase)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.sold)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.returnSold)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.disposal)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.unitName)+" ")]),t("td",{staticClass:"text-center"},[t(D["a"],{attrs:{small:"",color:s.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(s.totalInStock)+" ")])],1),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){e.getItemDetail(s.itemID),e.dialogs.itemDetail=!0}}},[t(N["a"],[e._v(" mdi-eye ")])],1)],1)])]}}])})],1)],1)],1)],1),t(w["a"],[t(S["a"],{attrs:{width:"1525px"},model:{value:e.dialogs.itemDetail,callback:function(t){e.$set(e.dialogs,"itemDetail",t)},expression:"dialogs.itemDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v("وردەکاری کاڵا : ")])]),t(x["a"],[t(k["a"],{attrs:{dense:"",headers:e.itemDetailHeaders,items:e.itemDetail,loading:e.loadings.itemDetail,"loading-text":"تکایە چاوەروانبە ....","hide-default-footer":""},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.initial)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.purchased)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.returnPurchase)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.sold)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.returnSold)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.disposal)+" ")]),t("td",{staticClass:"text-center"},[t(D["a"],{attrs:{small:"",color:s.totalInStock>=1?"success":"error",label:""}},[e._v(" "+e._s(s.totalInStock)+" ")])],1)])]}}])})],1)],1)],1)],1)],1)},ga=[],fa=s("8baf"),ba=(s("0da4"),{components:{card:W},data(){return{search:"",items:[],itemDetail:[],stocks:[],brands:[],shelfs:[],categories:[],searchGroup:{unitID:null,shelfID:null,brandID:null,categoryID:null},loadings:{item:!1,itemDetail:!1},dialogs:{itemDetail:!1},numberOfItems:0,numberOfAllQtyItems:0,inToStock:0,outFromStock:0}},created(){this.getStockItem(),this.$http.get("/essential/getUnits").then(({data:e})=>{this.stocks=e}),this.$http.get("/essential/getBrands").then(({data:e})=>{this.brands=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.$http.get("/item/countAllItems").then(({data:e})=>{this.numberOfItems=e.numberOfItems,this.numberOfAllQtyItems=e.numberOfAllQtyItems,this.inToStock=e.inToStock,this.outFromStock=e.outFromStock})},methods:{getItemDetail(e){this.$http.get("/item/inStockDeatil/"+e).then(({data:e})=>{this.itemDetail=e})},generatePDFStock(){const e=[{title:"Barcode",dataKey:"itemCode"},{title:"Item Name",dataKey:"itemName"},{title:"Total Purchased",dataKey:"purchased"},{title:"Total Sold",dataKey:"sold"},{title:"Total Disposal",dataKey:"disposal"},{title:"In Stock",dataKey:"totalInStock"}],t=new fa["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.items}),t.save("stock-"+(new Date).toISOString().split("T")[0]+".pdf")},getStockItem(){this.$http.get("/item/inStock").then(({data:e})=>{this.items=e})}},computed:{headers(){return[{text:"بارکۆد",align:"center",sortable:!0,value:"itemCode"},{text:"ناوی کاڵا",align:"center",sortable:!0,value:"itemName"},{text:"دانەی سەرەتا",align:"center",sortable:!1},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"مەخزەن",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1},{text:"وردەکاری",align:"center",sortable:!1}]},itemDetailHeaders(){return[{text:"ناوی كاڵا",align:"center",sortable:!1},{text:"دانەی سەرەتا",align:"center",sortable:!1},{text:"دانەی كڕدراو",align:"center",sortable:!1},{text:"گەڕاوە بۆ کۆمپانیا",align:"center",sortable:!1},{text:"دانەی فرۆشراو",align:"center",sortable:!1},{text:"گەڕاوەی فرۆشراو",align:"center",sortable:!1},{text:"دانەی تەلەفکراو",align:"center",sortable:!1},{text:"دانەی ماوە",align:"center",sortable:!1}]},filterStock(){return this.items.filter(e=>(!this.searchGroup.unitID||e.unitID==this.searchGroup.unitID)&&(!this.searchGroup.categoryID||e.categoryID==this.searchGroup.categoryID)&&(!this.searchGroup.shelfID||e.shelfID==this.searchGroup.shelfID)&&(!this.searchGroup.brandID||e.brandID==this.searchGroup.brandID))},totalQtyItemByStock(){return this.filterStock.reduce((e,t)=>e+t.totalInStock,0)},countItemByStock(){return this.filterStock.length}}}),va=ba,ya=Object(u["a"])(va,pa,ga,!1,null,null,null),xa=ya.exports,Da=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"6",xl:"3",sm:"6",xs:"12"}},[t("div",[t(y["a"],{attrs:{height:"350"}},[t(x["b"],[t("span",[e._v("جوڵەی کاڵاکان : ")])]),t("apexchart",{attrs:{width:"340",type:"donut",options:e.options,series:e.series}})],1)],1)]),t(I["a"],{attrs:{cols:"12",md:"6",xl:"4",sm:"6",xs:"12"}},[t("div",[t(y["a"],{attrs:{height:"350"}},[t(x["b"],[e._v(" "+e._s("پڕفرۆشترینی مانگی - "+(new Date).toLocaleString("default",{month:"short"}))+" ")]),t(x["a"],[t(k["a"],{attrs:{id:"topSale",headers:e.topItemHeaders,items:e.topSale,"hide-default-footer":"",dense:""}}),t(v["a"],{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFTopSale()}}},[t(N["a"],[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)]),t(I["a"],{attrs:{cols:"12",md:"6",xl:"5",sm:"6",xs:"12"}},[t(y["a"],{attrs:{height:"350"}},[t(x["b"],[t("span",[e._v("کاڵا کەم فرۆشەکان")])]),t(x["a"],[t(k["a"],{attrs:{headers:e.notSaleHeaders,items:e.notSale,dense:"","footer-props":{"items-per-page-options":[5]}}}),t(v["a"],{attrs:{fab:"","x-small":""},on:{click:function(t){return e.generatePDFNotSale()}}},[t(N["a"],[e._v("mdi-file-pdf-outline")])],1)],1)],1)],1)],1)],1)},Ia=[],_a={data(){return{options:{series:[44,55,13,33],labels:["  -هاتوو","  -ڕۆیشتوو","  -تەلەفکراو"],plotOptions:{pie:{customScale:1,donut:{size:"70%"}}}},series:[],topSale:[],notSale:[]}},created(){this.$http.get("/item/moveFromToInStock").then(({data:e})=>{this.series[0]=e.inToStock||1,this.series[1]=e.outFromStock||1,this.series[2]=e.disposal||1,this.topSale=e.topSale,this.notSale=e.notSale})},methods:{generatePDFTopSale(){const e=[{title:"Item name",dataKey:"itemName"},{title:"topSale",dataKey:"topSale"}],t=new fa["default"]({orientation:"landscape",filters:["ASCIIHexEncode"]});t.autoTable({columnStyles:{margin:0},columns:e,body:this.topSale,margin:0}),t.save("topSale"+(new Date).toISOString().split("T")[0]+".pdf")},generatePDFNotSale(){const e=[{title:"Item Name",dataKey:"itemName"},{title:"Not Sale",dataKey:"notSale"}],t=new fa["default"]({orientation:"landscape"});t.autoTable({columns:e,body:this.notSale}),t.save("notSale"+(new Date).toISOString().split("T")[0]+".pdf")}},computed:{topItemHeaders(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"کۆی فرۆشراو",align:"center",sortable:!1,value:"topSale"}]},notSaleHeaders(){return[{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"بڕی فرۆشراو",align:"center",sortable:!0,value:"notSale"}]}}},ka=_a,Sa=Object(u["a"])(ka,Da,Ia,!1,null,null,null),Ca=Sa.exports,$a=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeCustomerDebt"),expression:"emitter.$emit('closeCustomerDebt')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[t(T["a"],{staticClass:"pa-3"},[t("formCustomerDebt")],1)],1):t(S["a"],{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)]}}],null,!1,2947865656),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" وەرگرتنەوەی قەرز ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeCustomerDebt"),e.dialogs.debt=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formCustomerDebt")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[t(b["a"],{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[t(T["a"],{staticClass:"pa-3"},[t("span",[e._v(" لیستی قەرزەکان ")]),t(v["a"],{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[t(N["a"],[e._v(" mdi-refresh ")])],1),t(C["a"],{staticClass:"my-3"}),t(O["a"],{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),t(k["a"],{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.customerName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalRemainCustomer.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.customerName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.amountReturn.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1)],1)])]}}])}),t("notification")],1)},Na=[],wa=s("490a"),Pa=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formDebt"},[t(P["a"],{attrs:{label:"کڕیار",outlined:"",dense:"",disabled:e.singleDebt.rdcID,items:e.customers,"item-text":"customerName","item-value":"customerID",rules:e.rules.customer,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.customerID,callback:function(t){e.$set(e.singleDebt,"customerID",t)},expression:"singleDebt.customerID"}}),t(P["a"],{attrs:{label:"لە حسابی",outlined:"",dense:"",disabled:e.singleDebt.rdcID,items:e.owners,"item-text":"shelfName","item-value":"shelfID",rules:e.rules.shelfID,"validate-on-blur":"",clearable:""},model:{value:e.singleDebt.shelfID,callback:function(t){e.$set(e.singleDebt,"shelfID",t)},expression:"singleDebt.shelfID"}}),t(O["a"],{attrs:{label:"بڕی وەرگیراو",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),t(O["a"],{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedInvoices.length>0?t(w["a"],e._l(e.singleDebt.returnedInvoices,(function(s){return t(I["a"],{key:s,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(D["a"],{attrs:{label:"",color:"success"}},[e._v(" "+e._s(s)+" ")]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteInvoice(s)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getInvoices?t(wa["a"],{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):t(w["a"],e._l(e.invoiceNumbers,(function(s){return t(I["a"],{key:s,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(We["a"],{attrs:{label:s.toString(),value:s},model:{value:e.singleDebt.invoiceNumbers,callback:function(t){e.$set(e.singleDebt,"invoiceNumbers",t)},expression:"singleDebt.invoiceNumbers"}})],1)})),1),e.singleDebt.rdcID?t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" وەرگرتنەوەی قەرز ")],1)],1)],1)},Ta=[],Ra={data(){return{loadings:{addDebt:!1,updateDebt:!1,getInvoices:!1},customers:[],invoiceNumbers:[],singleDebt:{rdcID:null,customerID:null,shelfID:null,amountReturn:0,discount:0,invoiceNumbers:[],returnedInvoices:[]},rules:{customer:[e=>null!=e||"تکایە کڕیارێک هەڵبژێرە"],shelfID:[e=>null!=e||"تکایە سندوق هەڵبژێرە"],amountReturn:[e=>e>0||"تکایە بڕی وەرگیراو بە دروستی داخڵ بکە"],discount:[e=>e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"]},userID:null,userName:"",owners:[]}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e})},mounted(){this.emitter.$on("openCustomerDebt",e=>{this.singleDebt.rdcID=e.rdcID,this.singleDebt.customerID=e.customerID,this.singleDebt.shelfID=e.shelfID,this.singleDebt.amountReturn=e.amountReturn,this.singleDebt.discount=e.discount,this.singleDebt.returnedInvoices=(e.invoiceNumbers||[]).split(",")}),this.emitter.$on("closeCustomerDebt",()=>{this.clearDebt()}),this.emitter.$on("setDebtCustomerID",e=>{this.singleDebt.customerID=Number(e)}),this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e})},methods:{setFocus(e){document.getElementById(e).focus()},clearDebt(){this.singleDebt.rdcID=null,this.singleDebt.customerID=null,this.singleDebt.amountReturn=0,this.singleDebt.discount=0,this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[],this.$refs.formDebt.resetValidation()},addDebt(){this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/customer/addReturnDebt",{customerID:this.singleDebt.customerID,customerName:this.customers.find(e=>e.customerID==this.singleDebt.customerID).customerName,shelfID:this.singleDebt.shelfID,amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,invoiceNumbers:this.singleDebt.invoiceNumbers,note:"وەرگرتنەوەی قەرز لە"}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),this.emitter.$emit("customerDebtAdded",{rdcID:e.rdcID,customerID:this.singleDebt.customerID,customerName:this.customers.find(e=>e.customerID==this.singleDebt.customerID).customerName,shelfID:this.singleDebt.shelfID,shelfName:this.owners.find(e=>e.shelfID==this.singleDebt.shelfID).shelfName,amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,invoiceNumbers:this.singleDebt.invoiceNumbers.join(","),userName:this.userName}),this.clearDebt()}).finally(()=>this.loadings.addDebt=!1))},updateDebt(){this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/customer/updateReturnDebt/"+this.singleDebt.rdcID,{amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,invoiceNumbers:this.singleDebt.invoiceNumbers,customerID:this.singleDebt.customerID}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("customerDebtUpdated",{rdcID:this.singleDebt.rdcID,amountReturn:this.singleDebt.amountReturn,discount:this.singleDebt.discount,invoiceNumbers:e.newInvoices||this.singleDebt.returnedInvoices.join(",")}),this.singleDebt.returnedInvoices=[...this.singleDebt.returnedInvoices,...this.singleDebt.invoiceNumbers],this.invoiceNumbers=this.invoiceNumbers.filter(e=>!this.singleDebt.invoiceNumbers.includes(e)),this.singleDebt.invoiceNumbers=[]}).finally(()=>this.loadings.updateDebt=!1))},deleteInvoice(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then(()=>{this.$http.delete("/customer/deleteInvoice/"+this.singleDebt.rdcID+"/"+e+"/"+this.userID).then(()=>{this.singleDebt.returnedInvoices=this.singleDebt.returnedInvoices.filter(t=>t!=e),this.invoiceNumbers.push(e),this.emitter.$emit("debtInvoiceDeleted",{rdcID:this.singleDebt.rdcID,invoiceNumbers:this.singleDebt.returnedInvoices})})})}},watch:{"singleDebt.customerID":function(){this.singleDebt.customerID?(this.loadings.getInvoices=!0,this.$http.get("/customer/getDebtInvoices/"+this.singleDebt.customerID).then(({data:e})=>{this.invoiceNumbers=e,0==e.length&&this.emitter.$emit("notify",{text:"ئەم کڕیارە هیچ وەصڵێکی قەرزی نییە"})}).finally(()=>this.loadings.getInvoices=!1)):(this.invoiceNumbers=[],this.singleDebt.invoiceNumbers=[],this.singleDebt.returnedInvoices=[])}},beforeDestroy(){this.emitter.$off("closeCustomerDebt"),this.emitter.$off("openCustomerDebt"),this.emitter.$off("setDebtCustomerID")}},Oa=Ra,Aa=Object(u["a"])(Oa,Pa,Ta,!1,null,null,null),Ea=Aa.exports,Ba={name:"customerDebts",components:{formCustomerDebt:Ea},data(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created(){this.$http.get("/customer/todayReturnDebt").then(({data:e})=>{this.debts=e}),this.getDebtsList()},mounted(){this.emitter.$on("customerDebtAdded",e=>{this.debts.unshift(e)}),this.emitter.$on("customerDebtUpdated",e=>{let t=this.debts.findIndex(t=>t.rdcID==e.rdcID);this.debts[t].amountReturn=e.amountReturn,this.debts[t].discount=e.discount,this.debts[t].invoiceNumbers=e.invoiceNumbers}),this.emitter.$on("debtInvoiceDeleted",e=>{let t=this.debts.findIndex(t=>t.rdcID==e.rdcID);this.debts[t].invoiceNumbers=e.invoiceNumbers.join(",")}),this.$route.params.customerID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtCustomerID",this.$route.params.customerID))},methods:{async getDebt(e){await this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("openCustomerDebt",e)},getDebtsList(){this.loadings.debtsList=!0,this.$http.get("/customer/getDebtsList").then(({data:e})=>{this.debtsList=e}).finally(()=>this.loadings.debtsList=!1)}},computed:{headersReturnDebt(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"حساب سندوق",value:"shelfName",align:"center",sortable:!1},{text:"بڕی وەرگیراو",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList(){return[{text:"#",align:"center",sortable:!1},{text:"کڕیار",value:"customerName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainCustomer",align:"center",sortable:!0}]}},beforeDestroy(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},Ua=Ba,La=Object(u["a"])(Ua,$a,Na,!1,null,null,null),qa=La.exports,Fa=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[e.$isMobile()?t(b["a"],{directives:[{def:A["a"],name:"click-outside",rawName:"v-click-outside",value:e.emitter.$emit("closeSupplierDebt"),expression:"emitter.$emit('closeSupplierDebt')"}],scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)]}}]),model:{value:e.sheets.debt,callback:function(t){e.$set(e.sheets,"debt",t)},expression:"sheets.debt"}},[t(T["a"],{staticClass:"pa-3"},[t("formSupplierDebt")],1)],1):t(S["a"],{attrs:{persistent:"",width:"45%",eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"success"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)]}}],null,!1,1693487112),model:{value:e.dialogs.debt,callback:function(t){e.$set(e.dialogs,"debt",t)},expression:"dialogs.debt"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" دانەوەی قەرز ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeSupplierDebt"),e.dialogs.debt=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t("formSupplierDebt")],1)],1)],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"2",lg:"2"}},[t(b["a"],{attrs:{eager:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(v["a"],e._g(e._b({attrs:{block:"",color:"primary"}},"v-btn",a,!1),s),[t(N["a"],{attrs:{left:""}},[e._v(" mdi-format-list-bulleted ")]),e._v(" لیستی قەرزەکان ")],1)]}}]),model:{value:e.sheets.debtsList,callback:function(t){e.$set(e.sheets,"debtsList",t)},expression:"sheets.debtsList"}},[t(T["a"],{staticClass:"pa-3"},[t("span",[e._v(" لیستی قەرزەکان ")]),t(v["a"],{staticClass:"float-left",attrs:{color:"primary",icon:"",loading:e.loadings.debtsList},on:{click:function(t){return e.getDebtsList()}}},[t(N["a"],[e._v(" mdi-refresh ")])],1),t(C["a"],{staticClass:"my-3"}),t(O["a"],{staticClass:"mb-0",attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchDebtList,callback:function(t){e.searchDebtList=t},expression:"searchDebtList"}}),t(k["a"],{attrs:{headers:e.headersDebtsList,items:e.debtsList,search:e.searchDebtList,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.supplierName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalRemainSupplier.toLocaleString())+" $ ")])])]}}])})],1)],1)],1),t(R["a"]),t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(O["a"],{attrs:{label:"گەڕان ...",outlined:"",dense:"","append-icon":"mdi-magnify",clearable:""},model:{value:e.searchReturnDebt,callback:function(t){e.searchReturnDebt=t},expression:"searchReturnDebt"}})],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headersReturnDebt,search:e.searchReturnDebt,items:e.debts,"footer-props":{"items-per-page-options":[10,15,20,25,30]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.supplierName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.amountReturn.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getDebt(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1)],1)])]}}])}),t("notification")],1)},ja=[],Qa=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formDebt"},[t(P["a"],{attrs:{label:"کۆمپانیا",outlined:"",dense:"",disabled:null!=e.singleDebt.rdID,items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",rules:e.rules.supplier,"validate-on-blur":"",clearable:""},on:{"click:clear":function(t){e.singleDebt.customerID=null}},model:{value:e.singleDebt.supplierID,callback:function(t){e.$set(e.singleDebt,"supplierID",t)},expression:"singleDebt.supplierID"}}),t(O["a"],{attrs:{label:"بڕی گەڕاوە بۆ کۆمپانیا",outlined:"",dense:"",type:"number",rules:e.rules.amountReturn,"validate-on-blur":""},model:{value:e.singleDebt.amountReturn,callback:function(t){e.$set(e.singleDebt,"amountReturn",e._n(t))},expression:"singleDebt.amountReturn"}}),t(O["a"],{attrs:{label:"وەصڵی گەڕانەوە",outlined:"",dense:""},model:{value:e.singleDebt.referenceNO,callback:function(t){e.$set(e.singleDebt,"referenceNO","string"===typeof t?t.trim():t)},expression:"singleDebt.referenceNO"}}),t(O["a"],{attrs:{label:"داشکاندن",outlined:"",dense:"",type:"number",rules:e.rules.discount,"validate-on-blur":""},model:{value:e.singleDebt.discount,callback:function(t){e.$set(e.singleDebt,"discount",e._n(t))},expression:"singleDebt.discount"}}),e.singleDebt.returnedPurchases.length>0?t(w["a"],e._l(e.singleDebt.returnedPurchases,(function(s){return t(I["a"],{key:s,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(D["a"],{attrs:{label:"",color:"success"}},[e._v(" "+e._s(s)+" ")]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deletePurchase(s)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)})),1):e._e(),e.loadings.getPurchases?t(wa["a"],{staticStyle:{"margin-right":"46%"},attrs:{indeterminate:"",color:"primary"}}):t(w["a"],e._l(e.purchaseNumbers,(function(s){return t(I["a"],{key:s,attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(We["a"],{attrs:{label:s.toString(),value:s},model:{value:e.singleDebt.purchaseNumbers,callback:function(t){e.$set(e.singleDebt,"purchaseNumbers",t)},expression:"singleDebt.purchaseNumbers"}})],1)})),1),e.singleDebt.rdID?t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"warning",loading:e.loadings.updateDebt},on:{click:function(t){return e.updateDebt()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-content-save-outline ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{staticClass:"mt-2",attrs:{block:"",color:"success",loading:e.loadings.addDebt},on:{click:function(t){return e.addDebt()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-keyboard-return ")]),e._v(" دانەوەی قەرز ")],1)],1)],1)},Wa=[],Ma={data(){return{loadings:{addDebt:!1,updateDebt:!1,getPurchases:!1},suppliers:[],purchaseNumbers:[],singleDebt:{rdID:null,supplierID:null,shelfID:null,amountReturn:0,referenceNO:null,discount:0,purchaseNumbers:[],returnedPurchases:[]},rules:{supplier:[e=>null!=e||"تکایە کۆمپانیایەک هەڵبژێرە"],amountReturn:[e=>e>0||"تکایە بڕی گەڕاوە بە دروستی داخڵ بکە"],discount:[e=>e>=0||"تکایە بڕی داشکاندن بە دروستی داخڵ بکە"]},userID:null,userName:"",owners:[]}},created(){this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e})},mounted(){this.emitter.$on("openSupplierDebt",e=>{this.singleDebt.rdID=e.rdID,this.singleDebt.supplierID=e.supplierID,this.singleDebt.shelfID=e.shelfID,this.singleDebt.amountReturn=e.amountReturn,this.singleDebt.referenceNO=e.referenceNO,this.singleDebt.discount=e.discount,this.singleDebt.returnedPurchases=(e.purchaseNumbers||[]).split(",")}),this.emitter.$on("closeSupplierDebt",()=>{this.clearDebt()}),this.emitter.$on("setDebtSupplierID",e=>{this.singleDebt.supplierID=Number(e)}),this.$http.get("/supplier/allSuppliers").then(({data:e})=>{this.suppliers=e})},methods:{setFocus(e){document.getElementById(e).focus()},clearDebt(){this.singleDebt.rdID=null,this.singleDebt.supplierID=null,this.singleDebt.shelfID=null,this.singleDebt.amountReturn=0,this.singleDebt.referenceNO=null,this.singleDebt.discount=0,this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[],this.$refs.formDebt.resetValidation()},addDebt(){this.$refs.formDebt.validate()&&(this.loadings.addDebt=!0,this.$http.post("/supplier/addReturnDebt",{supplierID:this.singleDebt.supplierID,supplierName:this.suppliers.find(e=>e.supplierID==this.singleDebt.supplierID).supplierName,amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,purchaseNumbers:this.singleDebt.purchaseNumbers,note:"گەڕاندنەوەی قەرز بۆ "}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بەسەرکەوتووی زیادکرا"}),this.emitter.$emit("supplierDebtAdded",{rdID:e.rdID,supplierID:this.singleDebt.supplierID,supplierName:this.suppliers.find(e=>e.supplierID==this.singleDebt.supplierID).supplierName,amountReturn:this.singleDebt.amountReturn,referenceNo:this.singleDebt.referenceNo,discount:this.singleDebt.discount,dollarPrice:this.$store.state.dollarPrice,purchaseNumbers:this.singleDebt.purchaseNumbers.join(","),userName:this.userName}),this.clearDebt()}).finally(()=>this.loadings.addDebt=!1))},updateDebt(){this.$refs.formDebt.validate()&&(this.loadings.updateDebt=!0,this.$http.patch("/supplier/updateReturnDebt/"+this.singleDebt.rdID,{amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,purchaseNumbers:this.singleDebt.purchaseNumbers}).then(({data:e})=>{console.log(e.newPurchases),this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("supplierDebtUpdated",{rdID:this.singleDebt.rdID,amountReturn:this.singleDebt.amountReturn,referenceNO:this.singleDebt.referenceNO,discount:this.singleDebt.discount,purchaseNumbers:e.newPurchases||this.singleDebt.returnedPurchases.join(",")}),this.singleDebt.returnedPurchases=[...this.singleDebt.returnedPurchases,...this.singleDebt.purchaseNumbers],this.purchaseNumbers=this.purchaseNumbers.filter(e=>!this.singleDebt.purchaseNumbers.includes(e)),this.singleDebt.purchaseNumbers=[]}).finally(()=>this.loadings.updateDebt=!1))},deletePurchase(e){this.$confirm("دڵنیای لە سڕینەوەی ئەم داتایە ؟","","question").then(()=>{this.$http.delete("/supplier/deletePurchase/"+this.singleDebt.rdID+"/"+e+"/"+this.userID).then(()=>{this.singleDebt.returnedPurchases=this.singleDebt.returnedPurchases.filter(t=>t!=e),this.purchaseNumbers.push(e),this.emitter.$emit("debtPurchaseDeleted",{rdID:this.singleDebt.rdID,purchaseNumbers:this.singleDebt.returnedPurchases})})})}},watch:{"singleDebt.supplierID":function(){this.singleDebt.supplierID?(this.loadings.getPurchases=!0,this.$http.get("/supplier/getDebtPurchases/"+this.singleDebt.supplierID).then(({data:e})=>{this.purchaseNumbers=e,0==e.length&&this.emitter.$emit("notify",{text:"ئەم کۆمپانیایە هیچ وەصڵێکی قەرزی نییە"})}).finally(()=>this.loadings.getPurchases=!1)):(this.purchaseNumbers=[],this.singleDebt.purchaseNumbers=[],this.singleDebt.returnedPurchases=[])}},beforeDestroy(){this.emitter.$off("closeSupplierDebt"),this.emitter.$off("openSupplierDebt"),this.emitter.$off("setDebtSupplierID")}},Ga=Ma,za=Object(u["a"])(Ga,Qa,Wa,!1,null,null,null),Ha=za.exports,Va={name:"customerDebts",components:{formSupplierDebt:Ha},data(){return{dialogs:{debt:!1},sheets:{debt:!1,debtsList:!1},loadings:{table:!1,debtsList:!1},debts:[],debtsList:[],searchReturnDebt:"",searchDebtList:""}},created(){this.$http.get("/supplier/todayReturnDebt").then(({data:e})=>{this.debts=e}),this.getDebtsList()},mounted(){this.emitter.$on("supplierDebtAdded",e=>{this.debts.unshift(e)}),this.emitter.$on("supplierDebtUpdated",e=>{let t=this.debts.findIndex(t=>t.rdID==e.rdID);this.debts[t].amountReturn=e.amountReturn,this.debts[t].referenceNO=e.referenceNO,this.debts[t].discount=e.discount,this.debts[t].purchaseNumbers=e.purchaseNumbers}),this.emitter.$on("debtPurchaseDeleted",e=>{let t=this.debts.findIndex(t=>t.rdID==e.rdID);this.debts[t].purchaseNumbers=e.purchaseNumbers.join(",")}),this.$route.params.supplierID&&(this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("setDebtSupplierID",this.$route.params.supplierID))},methods:{async getDebt(e){await this.$isMobile()?this.sheets.debt=!0:this.dialogs.debt=!0,this.emitter.$emit("openSupplierDebt",e)},getDebtsList(){this.loadings.debtsList=!0,this.$http.get("/supplier/getDebtsList").then(({data:e})=>{this.debtsList=e}).finally(()=>this.loadings.debtsList=!1)}},computed:{headersReturnDebt(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierNane",align:"center",sortable:!1},{text:"بڕی گەڕاوە",value:"amountReturn",align:"center",sortable:!0},{text:"داشکاندن",value:"discount",align:"center",sortable:!0},{text:"بەکارهێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",align:"center",sortable:!1}]},headersDebtsList(){return[{text:"#",align:"center",sortable:!1},{text:"کۆمپانیا",value:"supplierName",align:"center",sortable:!1},{text:"بڕی قەرز",value:"totalRemainSupplier",align:"center",sortable:!0}]}},beforeDestroy(){this.emitter.$off("customerDebtAdded"),this.emitter.$off("customerDebtUpdated"),this.emitter.$off("debtInvoiceDeleted")}},Ka=Va,Ja=Object(u["a"])(Ka,Fa,ja,!1,null,null,null),Xa=Ja.exports,Ya=function(){var e=this,t=e._self._c;return t("div",{staticClass:"black--text"},[e._m(0),e._m(1),t("hr"),t("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),t("span",{staticClass:"float-right"},[e._v(" بەکارهێنەر: "+e._s(e.invoice.user)+" ")])]),t("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[t("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" بــەڕێــــز: ")]),t("span",{staticClass:"px-2"},[e._v(" "+e._s("Walk-in Customer"==e.invoice.customer?"":e.invoice.customer)+" ")]),t("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"150px"}},[e._v(" وەصــڵی عــرض ")]),t("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")])]),t("div",{staticClass:"pa-1"},[t("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),t("tbody",e._l(e.invoice.sales,(function(s,a){return t("tr",{key:a},[t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),e._m(3),t("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[t("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دینار): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.collimation(e.totalPrice*this.$store.state.dollarPrice).toLocaleString())+" د.ع ")])])])])])])])},Za=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[t("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e._self._c;return t("small",[t("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ (دۆلار) ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[t("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),t("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}}),t("p",{staticClass:"text-right mt-1"},[e._v(" * فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")])])}];const ei=e=>{e=e.toString(),e.includes(".")&&(e=Math.round(Number(e)).toString());var t=Number(e.substring(e.length-3));e-=t,e=Number(e);var s=[0,250,500,750,1e3];if(!s.includes(t)){var a=t%250>250-t%250?"high":"low";if("high"==a)for(let a=1;a<s.length;a++){let i=s[a]-t;if(i>0)return t=Number(t)+Number(i),Number(Number(e)+Number(t))}else for(let a=0;a<s.length;a++){let r=s[a]-t;if(r>0){var i=-1*(t-(250-(r-t)));return t-=i,Number(Number(e)+Number(t))}}}return Number(Number(e)+Number(t))};var ti={data(){return{invoice:{customer:"",sales:[],user:""}}},created(){this.invoice=this.$store.state.showInvoice},mounted(){window.print(),setTimeout(()=>{window.close()},200)},methods:{collimation:ei},computed:{totalPrice(){return this.invoice.sales.reduce((e,t)=>e+t.productPrice*t.qty,0)}}},si=ti,ai=Object(u["a"])(si,Ya,Za,!1,null,null,null),ii=ai.exports,ri=function(){var e=this,t=e._self._c;return t("div",{staticClass:"black--text",attrs:{dir:"ltr"}},[t(v["a"],{staticClass:"ma-2",attrs:{color:"primary",id:"print_btn"},on:{click:function(t){return e.window.print()}}},[e._v(" Print ")]),e._m(0),t(w["a"],{staticClass:"mt-3",staticStyle:{"font-size":"14px","font-weight":"bolder"}},[t(I["a"],{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.$route.params.invoiceID)+" ")]),t(I["a"],{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" ژ.پــسووڵە ")])],1),t(w["a"],{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[t(I["a"],{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s(e.user)+" ")]),t(I["a"],{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" فرۆشیار ")])],1),t(w["a"],{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[t(I["a"],{staticClass:"text-left py-1",attrs:{cols:"8"}},[e._v(" "+e._s((new Date).toISOString().split("T")[0])+" "+e._s(e.getCurrentTime)+" ")]),t(I["a"],{staticClass:"text-right py-1",attrs:{cols:"4"}},[e._v(" کات و بەرواری چاپکردن ")])],1),t(C["a"],{staticClass:"my-2"}),t("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[e._m(1),t("tbody",e._l(e.invoiceItems,(function(s){return t("tr",{key:s.invdID},[t("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")]),t("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticStyle:{"font-size":"12px"}},[e._v(" "+e._s(s.itemName)+" ")])])})),0)]),t("table",{staticClass:"mt-2 black--text text-center",staticStyle:{width:"100%"}},[t("tbody",[t("tr",{staticStyle:{border:"1px solid"}},[t("td",{staticStyle:{border:"1px solid",width:"50%"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")]),t("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆی نرخ بە دۆلار ")])]),t("tr",{staticStyle:{border:"1px solid"}},[t("td",{staticStyle:{border:"1px solid",width:"50%"},attrs:{dir:"rtl"}},[e._v(" "+e._s((e.getTotal*e.$store.state.dollarPrice).toLocaleString())+" د.ع ")]),t("td",{staticStyle:{border:"1px solid"}},[e._v(" کۆی نرخ بە دینار ")])])])]),t("hr",{staticClass:"mt-1"}),e._m(2),t("hr",{staticClass:"mt-1"}),e._m(3)],1)},li=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center mt-1",staticStyle:{width:"100%","font-weight":"bolder","font-size":"22px"}},[t("img",{attrs:{src:s("4ab6"),width:"35%"}})])},function(){var e=this,t=e._self._c;return t("thead",[t("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" کــۆ ")]),t("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"17.5%","font-size":"13px"}},[e._v(" نرخ ")]),t("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"10%","font-size":"13px"}},[e._v(" عدد ")]),t("th",{staticClass:"text-center",staticStyle:{"border-bottom":"1px solid",width:"55%","font-size":"13px"}},[e._v(" نـاوی کـاڵا ")])])},function(){var e=this,t=e._self._c;return t("small",[t("p",{staticClass:"text-center mt-2"},[e._v(" تێبینی: فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-10px"}},[e._v(" تکایە دڵنیابەرەوە لەو پارچەیەی کە هەڵیدەبژێریت، لەبەرئەوەی ئێمە بەرپرسیارنین لە هەڵە هەڵبژاردنی کاڵاکەت ")])])},function(){var e=this,t=e._self._c;return t("small",[t("p",{staticClass:"text-center mt-2"},[e._v(" Darin Game ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"}},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])}],ni=new Date,oi={data(){return{user:"",invoiceItems:[],discount:0,totalPrice:0}},mounted(){this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then(({data:e})=>{this.invoiceItems=e.invoiceItems,this.user=e.invoice.fullName,this.totalPrice=e.invoice.totalPrice,this.discount=e.invoice.discount}).finally(()=>{window.print(),setTimeout(()=>{window.close()},200)})},computed:{getCurrentTime(){var e=ni.getHours();return e>=12?e-12+":"+ni.getMinutes()+":"+ni.getSeconds()+" PM":e+":"+ni.getMinutes()+":"+ni.getSeconds()+" AM"},getTotal(){return this.invoiceItems.reduce((e,t)=>e+t.productPrice*t.qty,0)}}},ci=oi,ui=(s("e7b0"),Object(u["a"])(ci,ri,li,!1,null,"29d4a6d2",null)),di=ui.exports,mi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"black--text"},[e._m(0),e._m(1),t("hr"),t("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),t("span",{staticClass:"float-right"},[e._v(" فرۆشیار: "+e._s(e.userName)+" ")])]),t("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[t("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" بــەڕێــــز: ")]),t("span",{staticClass:"px-2"},[e._v(" "+e._s("Walk-in Customer"==e.customerName?"":e.customerName)+" ")]),t("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"100px"}},[e._v(" "+e._s(e._f("invoiceType")(e.invoiceType))+" ")]),t("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")]),t("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"150px"}},[e._v(" "+e._s(e.invoiceID)+" ")]),t("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" ژ.وەصــڵ: ")])]),t("div",{staticClass:"pa-1"},[t("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),t("tbody",e._l(e.items,(function(s,a){return t("tr",{key:s.invdID},[t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),e._m(3),t("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[t("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دینار): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.collimation(e.totalPrice*this.$store.state.dollarPrice).toLocaleString())+" د.ع ")])]),"d"==e.invoiceType?t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی دراو: ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPay.toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" پارەی ماوە (قەرز): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.totalPrice-e.totalPay).toLocaleString())+" $ ")])]):e._e(),"d"==e.invoiceType?t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" قەرزی کۆن: ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s((e.customerDebt-(e.totalPrice-e.totalPay)).toLocaleString())+" $ ")])]):e._e()])])])])])},hi=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[t("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e._self._c;return t("small",[t("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ (دۆلار) ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])},function(){var e=this,t=e._self._c;return t("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[t("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),t("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}}),t("p",{staticClass:"text-right mt-1"},[e._v(" * فرۆشراو وەرناگیرێتەوە و ناگۆڕدرێت ")])])}],pi={data(){return{invoiceID:null,userName:"",customerName:"",customerID:null,customerDebt:0,items:[],invoiceType:"c",totalPrice:0,totalPay:0,discount:0}},mounted(){this.$http.get("/invoice/searchInvoice/"+this.$route.params.invoiceID).then(({data:e})=>{this.invoiceID=e.invoice.invoiceID,this.userName=e.invoice.fullName,this.customerName=e.invoice.customerName,this.customerID=e.invoice.customerID,this.items=e.invoiceItems,this.invoiceType=e.invoice.invoiceType,this.totalPrice=e.invoice.totalPrice,this.totalPay=e.invoice.totalPay,this.discount=e.invoice.discount,"d"==this.invoiceType&&this.$http.get("/customer/getCustomerDebtForInvoice/"+this.customerID).then(({data:e})=>{this.customerDebt=e.totalRemain})}).finally(()=>{window.print(),setTimeout(()=>{window.close()},200)})},methods:{collimation:ei},filters:{invoiceType:we}},gi=pi,fi=Object(u["a"])(gi,mi,hi,!1,null,null,null),bi=fi.exports,vi=function(){var e=this,t=e._self._c;return t("div",{staticClass:"black--text"},[e._m(0),e._m(1),t("hr"),t("p",{staticClass:"text-left px-5 pt-2"},[e._v(" بەرواری چاپکردن/ "+e._s((new Date).toISOString().split("T")[0])+" "),t("span",{staticClass:"float-right"},[e._v(" بەکارهێنەر: "+e._s(e.userName)+" ")])]),t("p",{staticClass:"mx-1",staticStyle:{border:"0.2px solid"}},[t("span",{staticClass:"px-6",staticStyle:{"background-color":"lightgrey"}},[e._v(" پسوڵەی کڕینی کۆمپانیای: ")]),t("span",{staticClass:"px-2"},[e._v(" "+e._s(e.supplierName)+" ")]),t("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"80px"}},[e._v(" "+e._s(e._f("invoiceType")(e.paymentType))+" ")]),t("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" جۆری وەصڵ: ")]),t("span",{staticClass:"px-2 float-left text-center",staticStyle:{width:"140px"}},[e._v(" "+e._s(e.referenceNo)+" ")]),t("span",{staticClass:"px-3 float-left",staticStyle:{"background-color":"lightgrey"}},[e._v(" ژ.وەصــڵ: ")])]),t("div",{staticClass:"pa-1"},[t("table",{staticClass:"mb-3",staticStyle:{width:"100%",border:"0.5px solid","border-collapse":"collapse"}},[e._m(2),t("tbody",e._l(e.items,(function(s,a){return t("tr",{key:s.invdID},[t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.costPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.discount)+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.costAfterDisc)+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}},[e._v(" "+e._s((s.costAfterDisc*s.qty).toLocaleString())+" $ ")]),t("td",{staticClass:"text-center",staticStyle:{border:"0.5px solid"}})])})),0)]),t("span",{staticClass:"mt-3",staticStyle:{width:"350px",float:"right"}},[t("span",{staticClass:"px-10",staticStyle:{"background-color":"lightgrey"}},[e._v(" تێبینی: ")]),t("p",{staticClass:"px-2 mt-1",staticStyle:{border:"0.5px solid",width:"340px",height:"50px"}},[e._v(" "+e._s(e.note)+" ")])]),t("span",{staticClass:"mt-3",staticStyle:{width:"300px",float:"left"}},[t("table",{staticStyle:{width:"300px",border:"1px solid","border-collapse":"collapse"}},[t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" کۆی گشتی(دۆلار): ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice.toLocaleString())+" $ ")])]),"d"==e.paymentType?t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" بڕی پێشەکی: ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.amountPay)+" $ ")])]):e._e(),"d"==e.paymentType?t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid","background-color":"lightgrey",width:"175px"}},[e._v(" بڕی مــاوە: ")]),t("th",{staticClass:"text-center py-1",staticStyle:{border:"1px solid",width:"280px"}},[e._v(" "+e._s(e.totalPrice-e.amountPay)+" $ ")])]):e._e()])])])])])},yi=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center",staticStyle:{width:"100%"}},[t("img",{attrs:{src:s("4ab6"),height:"13%",width:"20%;"}})])},function(){var e=this,t=e._self._c;return t("small",[t("p",{staticClass:"text-center mt-2"},[e._v(" ناونیشان: شەقامی سالم- سەهۆڵەکە - تەلاری سالم ")]),t("p",{staticClass:"text-center",staticStyle:{"margin-top":"-15px"},attrs:{dir:"ltr"}},[e._v(" 0770 164 8642 - 0750 307 9718 ")])])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"7%"}},[e._v(" ژ. ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"25%"}},[e._v(" کاڵا ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"8.5%"}},[e._v(" داشکاندن ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"11%"}},[e._v(" نرخ دوای داشکاندن ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"9%"}},[e._v(" دانە ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid",width:"13%"}},[e._v(" کۆ ")]),t("th",{staticClass:"text-center py-1",staticStyle:{"background-color":"lightgrey",border:"0.2px solid"}},[e._v(" تێبینی ")])])])}],xi={data(){return{purchaseID:null,referenceNo:null,userName:"",supplierName:"",items:[],paymentType:"c",totalPrice:0,amountPay:0}},mounted(){this.$http.get("/generalReport/searchPurchase/"+this.$route.params.purchaseID).then(({data:e})=>{console.log(e),this.referenceNo=e.purchase.referenceNo,this.userName=e.purchase.fullName,this.supplierName=e.purchase.supplierName,this.items=e.purchaseItems,this.paymentType=e.purchase.paymentType,this.totalPrice=e.purchase.totalPrice,this.amountPay=e.purchase.amountPay,this.note=e.purchase.note}).finally(()=>{window.print(),setTimeout(()=>{window.close()},200)})},methods:{collimation:ei},filters:{invoiceType:we}},Di=xi,Ii=Object(u["a"])(Di,vi,yi,!1,null,null,null),_i=Ii.exports,ki=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["a"],[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("زانیاری گەڕان بۆ فرۆشراوەکان : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"1",md:"2"}},[t(O["a"],{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.invoiceID,callback:function(t){e.$set(e.search,"invoiceID",t)},expression:"search.invoiceID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(P["a"],{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"customerID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.customerID=null}},model:{value:e.search.customerID,callback:function(t){e.$set(e.search,"customerID",t)},expression:"search.customerID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(P["a"],{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["b"],[t("span",[e._v("لیستی فرۆشراوەکان")])]),t(x["a"],[t(k["a"],{attrs:{items:e.filterdItems,headers:e.saleHeaders,loading:e.loadings.search,"footer-props":{"items-per-page-options":[10,15,25,50]},"item-key":"invoiceID"},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"yellow lighten-3":"d"==s.invoiceType&&"s"==s.stockType,"green lighten-4":"c"==s.invoiceType&&"s"==s.stockType},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.getInvoiceDetail(s.invoiceID)}}},[t("td",{staticClass:"text-center"},[e._v(e._s(s.invoiceID))]),t("td",{staticClass:"text-center"},[e._v(e._s(e._f("typeFilter")(s.stockType)))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.customerName))]),t("td",{staticClass:"text-center"},[e._v(e._s(e._f("invoiceType")(s.invoiceType)))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.totalPrice.toLocaleString()+" $"))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.totalPay.toLocaleString()+" $"))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.discount.toLocaleString()+" $"))]),t("td",{staticClass:"text-center"},[e._v(e._s(s.userName))]),t("td",{staticClass:"text-center"},[e._v(e._s(new Date(s.createAt).toISOString().split("T")[0]))])])]}}])},[t("template",{slot:"body.append"},[t("tr",{staticClass:"success white--text"},[t("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی فرۆشراو : ")]),t("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),t(S["a"],{attrs:{persistent:"",width:"75%"},model:{value:e.dialogs.invoiceDetail,callback:function(t){e.$set(e.dialogs,"invoiceDetail",t)},expression:"dialogs.invoiceDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.invoiceDetail.invoiceID)+" ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.invoiceDetail=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(C["a"]),t(x["a"],{staticClass:"mt-2"},[t(k["a"],{attrs:{headers:e.invoiceDetailHeader,items:e.invoiceDetail.items,loading:e.loadings.invoiceDetail,"loading-text":"تکایە چاوەڕوانبە..."},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.productPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.productPrice*s.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Si=[],Ci={components:{card:W},data(){return{sales:[],loadings:{search:!1,clearSearch:!1,invoiceDetail:!1},dialogs:{invoiceDetail:!1},search:{invoiceID:null,customerID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},invoiceDetail:{invoiceID:null,items:[]},customers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created(){this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e}),this.$http.get("/user/allUser").then(({data:e})=>{this.users=e}),this.getAllInvoices()},methods:{clearSearch(){this.loadings.clearSearch=!0,this.search.invoiceID=null,this.search.customerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},async getAllInvoices(){this.loadings.search=!0,await this.$http.get("/invoice/getAllInvoices/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.sales=e}).finally(()=>this.loadings.search=!1)},getInvoiceDetail(e){this.invoiceDetail.invoiceID=null,this.invoiceDetail.items=[],this.loadings.invoiceDetail=!0,this.dialogs.invoiceDetail=!0,this.$http.get("/invoice/searchInvoice/"+e).then(({data:t})=>{this.invoiceDetail.invoiceID=e,this.invoiceDetail.items=t.invoiceItems}).finally(()=>this.loadings.invoiceDetail=!1)}},computed:{saleHeaders(){return[{text:"ژ.وەصڵ",align:"center",value:"invoiceID",sortable:!1},{text:"جۆر",align:"center",sortable:!1,value:"stockType"},{text:"کڕیار",align:"center",sortable:!1,value:"customerName"},{text:"جۆری فرۆشتن",align:"center",sortable:!1,value:"invoiceType"},{text:"کۆی نرخ",align:"center",sortable:!1,value:"totalPrice"},{text:"کۆی پارەی وەگیراو",align:"center",sortable:!1,value:"totalPay"},{text:"داشکاندن",align:"center",sortable:!1,value:"discount"},{text:"بەرکارهێنەر",align:"center",sortable:!1,value:"userName"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"}]},invoiceDetailHeader(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"دانە",align:"center",value:"qty",sortable:!1},{text:"نرخ",align:"center",value:"productPrice",sortable:!1},{text:"کۆی نرخ",align:"center",sortable:!1}]},filterdItems(){return this.sales.filter(e=>(!this.search.invoiceID||e.invoiceID==this.search.invoiceID)&&(!this.search.customerID||e.customerID==this.search.customerID)&&(!this.search.userID||e.userIDUpdate==this.search.userID))},getTotalCash(){return this.filterdItems.filter(e=>"c"==e.invoiceType).reduce((e,t)=>e+t.totalPrice,0)},getTotalDebt(){return this.filterdItems.filter(e=>"d"==e.invoiceType).reduce((e,t)=>e+t.totalPrice,0)},getTotalSafi(){return this.filterdItems.reduce((e,t)=>e+t.totalPay,0)},getTotal(){return this.getTotalCash+this.getTotalDebt}},filters:{typeFilter:Ne,invoiceType:we},watch:{"search.fromDate":function(){this.sales=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllInvoices()},"search.toDate":function(){this.sales=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllInvoices()}}},$i=Ci,Ni=Object(u["a"])($i,ki,Si,!1,null,null,null),wi=Ni.exports,Pi=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["a"],[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("زانیاری گەڕان بۆ کڕدراوەکان : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"1",md:"2"}},[t(O["a"],{attrs:{label:"ژ.وەصڵ",type:"number",min:"0",outlined:"",dense:""},model:{value:e.search.referenceNo,callback:function(t){e.$set(e.search,"referenceNo",t)},expression:"search.referenceNo"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(P["a"],{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.supplierID=null}},model:{value:e.search.supplierID,callback:function(t){e.$set(e.search,"supplierID",t)},expression:"search.supplierID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(P["a"],{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userID",clearable:""},on:{click:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"clear",void 0,t.key,void 0))return null;e.search.userID=null}},model:{value:e.search.userID,callback:function(t){e.$set(e.search,"userID",t)},expression:"search.userID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی نەقد",data:e.getTotalCash.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی کڕدراوی قەرز",data:e.getTotalDebt.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"کڕدراوی صـافـی",data:e.getTotalSafi.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["b"],[t("span",[e._v("لیستی فرۆشراوەکان")])]),t(x["a"],[t(k["a"],{attrs:{items:e.filterdItems,headers:e.purchasesHeader,loading:e.loadings.search,"footer-props":{"items-per-page-options":[10,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"yellow lighten-3":"d"==s.paymentType&&"p"==s.stockType,"green lighten-4":"c"==s.paymentType&&"p"==s.stockType}},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.referenceNo)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.supplierName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.amountPay.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(s.paymentType))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("purchaseStatus")(s.PurchaseStatus))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.user)+" ")]),t("td",{staticClass:"text-center"},[e._v(e._s(new Date(s.createAt).toISOString().split("T")[0]))]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getPurchaseDetail(s.purchaseID,s.referenceNo)}}},[t(N["a"],[e._v(" mdi-eye ")])],1),t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.print(s.purchaseID)}}},[t(N["a"],[e._v(" mdi-printer ")])],1)],1)])]}}])},[t("template",{slot:"body.append"},[t("tr",{staticClass:"success white--text"},[t("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v("کۆی کڕدراو : ")]),t("th",{staticClass:"text-center",staticStyle:{"font-size":"18px"}},[e._v(" "+e._s(e.getTotal.toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1),t(S["a"],{attrs:{width:"75%"},model:{value:e.dialogs.purchaseDetail,callback:function(t){e.$set(e.dialogs,"purchaseDetail",t)},expression:"dialogs.purchaseDetail"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" ناوەڕۆکی وەصڵ: "+e._s(e.purchaseDetail.referenceNo)+" ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.dialogs.purchaseDetail=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(x["a"],[t(k["a"],{attrs:{headers:e.purchaseDetailHeader,items:e.purchaseDetail.items,loading:e.loadings.purchaseDetail,"loading-text":"تکایە چاوەڕوانبە ...","footer-props":{"items-per-page-options":[15,20]}},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costPrice.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.qty.toLocaleString())+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.discount.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costAfterDisc.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.costAfterDisc*s.qty).toLocaleString())+" $ ")])])]}}])})],1)],1)],1)],1)},Ti=[],Ri={components:{card:W},data(){return{purchases:[],loadings:{search:!1,clearSearch:!1,purchaseDetail:!1},dialogs:{purchaseDetail:!1},search:{referenceNo:null,supplierID:null,userID:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},purchaseDetail:{referenceNo:null,items:[]},suppliers:[],users:[],menu2:!1,menu3:!1,totalCash:0,totalDebt:0}},created(){this.getAllPurchases(),this.$http.get("/supplier/allSuppliers").then(({data:e})=>{this.suppliers=e}),this.$http.get("/user/allUser").then(({data:e})=>{this.users=e})},methods:{clearSearch(){this.loadings.clearSearch=!0,this.search.referenceNo=null,this.search.supplierID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0],this.loadings.clearSearch=!1},getAllPurchases(){this.loadings.search=!0,this.$http.get("/generalReport/getAllPurchases/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.purchases=e}).finally(()=>this.loadings.search=!1)},getPurchaseDetail(e,t){this.purchaseDetail.referenceNo=null,this.purchaseDetail.items=[],this.loadings.purchaseDetail=!0,this.dialogs.purchaseDetail=!0,this.$http.get("/generalReport/getPurchaseDetail/"+e).then(({data:e})=>{this.purchaseDetail.referenceNo=t,this.purchaseDetail.items=e}).finally(()=>this.loadings.purchaseDetail=!1)},print(e){window.open("/printPurchase/"+e)}},computed:{purchasesHeader(){return[{text:"ژ.وەصڵ",align:"center",value:"referenceNo",sortable:!1},{text:"کۆمپانیا",align:"center",value:"supplierName",sortable:!1},{text:"کۆی گشتی",align:"center",value:"totalPrice",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"پارەی دراو",align:"center",value:"amountPay",sortable:!0},{text:"جۆری کڕین",align:"center",value:"paymentType",sortable:!1},{text:"جۆری وەصڵ",align:"center",value:"PurchaseStatus",sortable:!1},{text:"بەکارهێنەر",align:"center",value:"user",sortable:!1},{text:"بەروار",align:"center",sortable:!1,value:"createAt"},{text:"کردارەکان",align:"center",sortable:!1}]},purchaseDetailHeader(){return[{text:"#",align:"center",sortable:!1},{text:"کاڵا",align:"center",value:"itemName",sortable:!1},{text:"نرخی کڕین",align:"center",value:"costPrice",sortable:!0},{text:"دانە",align:"center",value:"qty",sortable:!0},{text:"داشکاندن",align:"center",value:"discount",sortable:!0},{text:"نرخی کڕین دوای داشکاندن",align:"center",value:"costAfterDisc",sortable:!0},{text:"کۆی گشتی",align:"center",sortable:!0}]},filterdItems(){return this.purchases.filter(e=>(!this.search.referenceNo||e.referenceNo==this.search.referenceNo)&&(!this.search.supplierID||e.supplierID==this.search.supplierID)&&(!this.search.userID||e.userIDCreated==this.search.userID))},getTotalCash(){return this.filterdItems.filter(e=>"c"==e.paymentType).reduce((e,t)=>e+t.totalPrice,0)},getTotalDebt(){return this.filterdItems.filter(e=>"d"==e.paymentType).reduce((e,t)=>e+t.totalPrice,0)},getTotalSafi(){return this.filterdItems.reduce((e,t)=>e+t.amountPay,0)},getTotal(){return this.getTotalCash+this.getTotalDebt}},filters:{invoiceType:we,purchaseStatus:Pe},watch:{"search.fromDate":function(){this.purchases=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllPurchases()},"search.toDate":function(){this.purchases=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAllPurchases()}}},Oi=Ri,Ai=Object(u["a"])(Oi,Pi,Ti,!1,null,null,null),Ei=Ai.exports,Bi=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],{staticClass:"center"},[t(I["a"],{attrs:{cols:"3"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"3"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"success"},on:{click:e.getAllData}},[t(N["a"],[e._v("mdi-database-search")])],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:"",elevation:"2"}},[t(G["a"],{scopedSlots:e._u([{key:"default",fn:function(){return[t("thead",[t("tr",[t("th",{staticClass:"text-center",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی هاتوو ")]),t("th",{staticClass:"text-center",staticStyle:{"font-size":"20px",width:"50%"}},[e._v(" پارەی ڕۆیشتوو ")])])]),t("tbody",[t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنەکان : "+e._s(e.allData.totalSale.toLocaleString())+" $")])],1),t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("کڕینەکان : "+e._s(e.allData.totalPurchase.toLocaleString())+" $")])],1)]),t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("وەرگرتنەوەی قەرز : "+e._s(e.allData.totalDebtCustomer.toLocaleString())+" $")])],1),t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("دانەوەی قەرز : "+e._s(e.allData.totalDebtCompany.toLocaleString())+" $")])],1)]),t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("داشکاندنی کڕین : "+e._s(e.allData.totalDiscountPurchase.toLocaleString())+" $")])],1),t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("داشکاندنی فرۆشتن : "+e._s(e.allData.totalDiscountInvoice.toLocaleString())+" $")])],1)]),t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("فرۆشتنی صافی : "+e._s((e.allData.totalSale-e.allData.totalDiscountInvoice).toLocaleString())+" $")])],1),t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("خەرجی : "+e._s(e.allData.totalExpenseIQD.toLocaleString())+" $")])],1)]),t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("گەڕاوەی کڕین : "+e._s(e.allData.totalReturnPurchase.toLocaleString())+" $")])],1),t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"red darken-2 white--text",outlined:"",text:""}},[e._v("گەڕاوەی فرۆشتن : "+e._s(e.allData.totalReturnSale.toLocaleString())+" $")])],1)]),t("tr",[t("td",{staticClass:"text-center pa-0"},[t(U["a"],{staticClass:"ma-0 title",attrs:{color:"green darken-3 white--text",outlined:"",text:""}},[e._v("قازانج : "+e._s((e.allData.totalProfit-e.allData.totalDiscountInvoice).toLocaleString())+" $")])],1)])])]},proxy:!0}])})],1)],1)],1)],1)},Ui=[],Li={data(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},allData:{totalSale:0,totalPurchase:0,totalDebtCustomer:0,totalDebtCompany:0,totalDiscountInvoice:0,totalDiscountPurchase:0,totalExpenseIQD:0,totalReturnSale:0,totalReturnPurchase:0,totalProfit:0}}},methods:{getAllData(){this.$http.get("/generalReport/moneyMovement/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.allData.totalSale=e.totalSale,this.allData.totalPurchase=e.totalPurchase,this.allData.totalDebtCustomer=e.totalDebtCustomer,this.allData.totalDebtCompany=e.totalDebtCompany,this.allData.totalDiscountInvoice=e.totalDiscountInvoice,this.allData.totalDiscountPurchase=e.totalDiscountPurchase,this.allData.totalExpenseIQD=e.totalExpenseIQD,this.allData.totalReturnSale=e.totalReturnSale,this.allData.totalReturnPurchase=e.totalReturnPurchase,this.allData.totalProfit=e.totalProfit})}}},qi=Li,Fi=(s("cdd4"),Object(u["a"])(qi,Bi,Ui,!1,null,"38921426",null)),ji=Fi.exports,Qi=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],[t(x["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"success",block:""},on:{click:e.getTotalProfit}},[t(N["a"],[e._v("mdi-database-search")])],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"error",block:""},on:{click:function(t){e.totalProfit=[],e.totalAll=0}}},[t(N["a"],[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],[t(x["a"],[t(k["a"],{attrs:{headers:e.headers,items:e.totalProfit,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"yellow lighten-3":"rs"==s.sourceType,"red lighten-3":"d"==s.sourceType,"red lighten-1 white--text":"s"==s.sourceType&&s.totalProfit<0}},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.sourceID)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(s.sourceType))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalSale)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalProfit)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalLoss)+" ")])])]}}])},[t("template",{slot:"body.append"},[t("tr",[t("th",{staticClass:"green lighten-1",staticStyle:{"font-size":"20px"}},[e._v("کۆی قازانج صافی : ")]),t("th",{staticClass:"green lighten-1",staticStyle:{"font-size":"20px"}},[e._v(e._s(e.totalAll.toLocaleString())+" $ ")]),t("th",{staticClass:"red lighten-1 white--text",staticStyle:{"font-size":"20px"}},[e._v("کۆی زەرەر : "),t("br"),e._v(" "),t("span",{staticClass:"mt-5",staticStyle:{"font-size":"14px","font-weight":"lighter"}},[e._v(" کـوێـربـم بۆ مایەکـەی ")])]),t("th",{staticClass:"red lighten-1 white--text",staticStyle:{"font-size":"20px"}},[e._v(e._s((e.totalLoss+e.totalDisposal).toLocaleString())+" $ ")])])])],2)],1)],1)],1)],1)],1)},Wi=[],Mi={data(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalProfit:[],totalAll:0,totalDisposal:[],totalLoss:[]}},methods:{getTotalProfit(){this.$http.get("/generalReport/totalProfit/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.totalProfit=e.totalProfit,this.totalAll=e.totalAll,this.totalDisposal=e.totalDisposal,this.totalLoss=e.totalLoss})}},computed:{headers(){return[{text:"ژ.وەصڵ",align:"center",sortable:!1,value:"sourceID"},{text:"جۆری وەصڵ",align:"center",sortable:!1,value:"sourceType"},{text:"کۆی فرۆشتن",align:"center",sortable:!1,value:"totalSale"},{text:"کۆی قازانج",align:"center",sortable:!1,value:"totalProfit"},{text:"کۆی زەرەر",align:"center",sortable:!1,value:"totalLoss"}]}},filters:{typeFilter:Ne}},Gi=Mi,zi=Object(u["a"])(Gi,Qi,Wi,!1,null,null,null),Hi=zi.exports,Vi=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],[t(x["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"3",lg:"3",sm:"12"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[t(v["a"],{attrs:{block:"",color:"success"},on:{click:e.getTotalExpense}},[t(N["a"],[e._v("mdi-database-search")])],1)],1),t(I["a"],{attrs:{cols:"12",md:"1",lg:"1",sm:"12"}},[t(v["a"],{attrs:{block:"",color:"error"},on:{click:function(t){e.totalExpense=[],e.totalPrice.totalIQD=0,e.totalPrice.total$=0}}},[t(N["a"],[e._v("mdi-reload")])],1)],1)],1)],1)],1)],1)],1),t(k["a"],{attrs:{items:e.totalExpense,headers:e.headers,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center",staticStyle:{width:"15%"}},[e._v(" "+e._s(s.typeName)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(s.priceExpenseIQD)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(s.priceExpense$)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(s.dollarPrice)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"20%"}},[e._v(" "+e._s(s.note)+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")]),t("td",{staticClass:"text-center",staticStyle:{width:"10%"}},[e._v(" "+e._s(s.userName)+" ")])])]}}])},[t("template",{slot:"body.append"},[t("tr",{staticClass:"blue-grey lighten-4"},[t("th",{staticStyle:{"font-size":"20px"}},[e._v("کۆی خەرجی : ")]),t("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.totalIQD.toLocaleString())+" IQD ")]),t("th",{staticStyle:{"font-size":"15px"}},[e._v(e._s(e.totalPrice.total$)+" $ ")])])])],2)],1)},Ki=[],Ji={data(){return{menu2:!1,menu3:!1,search:{fromDate:null,toDate:null},totalExpense:[],totalPrice:{totalIQD:0,total$:0}}},methods:{getTotalExpense(){this.$http.get("/expense/betweenDateExpense/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.totalExpense=e.totalExpense,this.totalPrice.totalIQD=e.totalPrice.totalIQD,this.totalPrice.total$=e.totalPrice.total$})}},computed:{headers(){return[{text:"جۆری مەسرووف",align:"center",sortable:!1,value:"typeName"},{text:"بڕی دینار",align:"center",sortable:!1,value:"priceExpenseIQD"},{text:"بڕی دۆلار",align:"center",sortable:!1,value:"priceExpense$"},{text:"نرخی دۆلار",align:"center",sortable:!1,value:"dollarPrice"},{text:"تێبینی",align:"center",sortable:!1,value:"note"},{text:"بەروار",align:"center",sortable:!1,value:"createAt"},{text:"بەکرهێنەر",align:"center",sortable:!1,value:"userName"}]}}},Xi=Ji,Yi=Object(u["a"])(Xi,Vi,Ki,!1,null,null,null),Zi=Yi.exports,er=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی پارەی ناو مەخزەن",data:e.sum.toLocaleString()+"$"}})],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{headers:e.headers,items:e.moneyInStock,"footer-props":{"items-per-page-options":[15,25,35,45,55]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.costPrice)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalInStock)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s((s.totalInStock*s.costPrice).toLocaleString())+" ")])])]}}])})],1)],1)],1)},tr=[],sr={components:{card:W},data(){return{totalMoenyInStock:0,moneyInStock:[]}},created(){this.$http.get("/item/moneyInStock").then(({data:e})=>{this.moneyInStock=e.moneyInStock})},computed:{headers(){return[{text:"بارکۆد",align:"center",sortable:!1,value:"itemCode"},{text:"ناوی كاڵا",align:"center",sortable:!1,value:"itemName"},{text:"نرخی کڕین",align:"center",value:"costPrice"},{text:"دانەی ماوە",align:"center",sortable:!1,value:"totalInStock"},{text:"کۆی پارە",align:"center",sortable:!1}]},sum(){return this.moneyInStock.reduce((e,t)=>e+(t.totalInStock*t.costPrice||0),0)}}},ar=sr,ir=Object(u["a"])(ar,er,tr,!1,null,null,null),rr=ir.exports,lr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["a"],[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("گەڕان بۆ کۆمپانیا : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[t(P["a"],{attrs:{label:"کۆمپانیا",outlined:"",dense:"",items:e.suppliers,"item-text":"supplierName","item-value":"supplierName"},model:{value:e.search.supplierName,callback:function(t){e.$set(e.search,"supplierName",t)},expression:"search.supplierName"}})],1),t(I["a"],{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[t(v["a"],{attrs:{block:"",color:"error"},on:{click:function(t){e.search.supplierName=null}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کۆمپانیاکان",data:e.sum.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{items:e.debtSupToCust,headers:e.headers,"footer-props":{"items-per-page-options":[20,30,40,50]}}})],1)],1)],1)},nr=[],or={components:{card:W},data(){return{debtSupToCust:[],suppliers:[],search:{supplierName:null}}},created(){this.$http.get("/supplier/debtSupToCust").then(({data:e})=>{this.debtSupToCust=e.debtSupToCust}),this.$http.get("/supplier/allSuppliers").then(({data:e})=>{this.suppliers=e})},computed:{headers(){return[{text:"ناوی کۆمپانیا",align:"center",sortable:!1,value:"supplierName",filter:e=>!this.search.supplierName||e==this.search.supplierName},{text:"قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کۆمپانیا",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی کۆمپانیا لای ئێمە",align:"center",sortable:!1,value:"totalRemain"}]},sum(){return this.debtSupToCust.reduce((e,t)=>e+t.totalRemain,0)}}},cr=or,ur=Object(u["a"])(cr,lr,nr,!1,null,null,null),dr=ur.exports,mr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],{attrs:{justify:"center"}},[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("گەڕان بۆ کڕیار : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"3",md:"3",lg:"3",sm:"12"}},[t(P["a"],{attrs:{label:"کڕیار",outlined:"",dense:"",items:e.customers,"item-text":"customerName","item-value":"CustomerName"},model:{value:e.search.customerName,callback:function(t){e.$set(e.search,"customerName",t)},expression:"search.customerName"}})],1),t(I["a"],{attrs:{cols:"1",md:"1",lg:"1",sm:"12"}},[t(v["a"],{attrs:{block:"",color:"error"},on:{click:function(t){e.search.customerName=null}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"green darken-3",icon:"mdi-cash-lock-open",text:"کۆی قەرزی کڕیارەکان",data:e.sum.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{headers:e.headers,items:e.debtCustToSup},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"success lighten-5":0==s.totalRemainSupplier&&0==s.totalRemainCustomer&&0==s.totalRemain}},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.customerName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalRemainSupplier.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalRemainCustomer.toLocaleString())+" $ ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalRemain.toLocaleString())+" $ ")])])]}}])})],1)],1)],1)},hr=[],pr={components:{card:W},data(){return{search:{customerName:null},customers:[],debtCustToSup:[]}},created(){this.$http.get("/customer/debtCustToSup").then(({data:e})=>{this.debtCustToSup=e.debtCustToSup}),this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e})},computed:{headers(){return[{text:"ناوی کڕیار",align:"center",sortable:!1,value:"customerName",filter:e=>!this.search.customerName||e==this.search.customerName},{text:"قەرزی کڕیار لای ئێمە",align:"center",sortable:!1,value:"totalRemainSupplier"},{text:"قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemainCustomer"},{text:"کۆی قەرزی ئێمە لای کڕیار",align:"center",sortable:!1,value:"totalRemain"}]},sum(){return this.debtCustToSup.reduce((e,t)=>e+t.totalRemain,0)}}},gr=pr,fr=Object(u["a"])(gr,mr,hr,!1,null,null,null),br=fr.exports,vr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v("فرۆشراوی خاوەندارێتی : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"2"}},[t(P["a"],{attrs:{label:"خاوەنی کاڵا",outlined:"",dense:"",items:e.owners,"item-text":"shelfName","item-value":"shelfID"},model:{value:e.search.ownerID,callback:function(t){e.$set(e.search,"ownerID",t)},expression:"search.ownerID"}})],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"error",block:"",loading:e.loadings.clearSearch},on:{click:function(t){return e.clearSearch()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی فرۆشراو",data:e.getTotalSale.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"کۆی گەڕاوەی فرۆشراو",data:e.getTotalReturnSale.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"primary darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی صـافـی",data:(e.getTotalSale-e.getTotalReturnSale).toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12"}},[t(k["a"],{attrs:{headers:e.headers,items:e.filteredSale,"footer-props":{"items-per-page-options":[5,15,25,50]}},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"yellow lighten-3":"rs"==s.sourceType,"green lighten-4":"s"==s.sourceType}},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemCode))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.itemName))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.sold))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalPriceSold))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(s.sourceType)))]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0]))])])]}}])})],1)],1)],1)},yr=[],xr={components:{card:W},data(){return{owners:[],getSaleByOwner:[],search:{ownerID:null,fromDate:null,toDate:null},menu2:!1,menu3:!1,loadings:{search:!1,clearSearch:!1}}},created(){this.getTodaySale(),this.$http.get("/essential/getOwner").then(({data:e})=>{this.owners=e}),this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},computed:{headers(){return[{text:"بارکۆد",align:"center",value:"itemCode",sortable:!1},{text:"ناوی کاڵا",align:"center",value:"itemName",sortable:!1},{text:"ناوی خاوەن",align:"center",value:"shelfName",sortable:!1},{text:"دانەی فرۆشراو",align:"center",value:"sold",sortable:!1},{text:"کۆی نرخی فرۆشراو",align:"center",value:"totalPriceSold",sortable:!1},{text:"جۆر",align:"center",value:"sourceType",sortable:!1},{text:"بەروار",align:"center",value:"createAt",sortable:!1}]},filteredSale(){return this.getSaleByOwner.filter(e=>e.shelfID.toString().match(this.search.ownerID||"")&&new Date(e.createAt).toISOString().split("T")[0]>=this.search.fromDate&&new Date(e.createAt).toISOString().split("T")[0]<=this.search.toDate)},getTotalSale(){return this.filteredSale.filter(e=>"s"==e.sourceType).reduce((e,t)=>e+t.totalPriceSold,0)},getTotalReturnSale(){return this.filteredSale.filter(e=>"rs"==e.sourceType).reduce((e,t)=>e+-1*t.totalPriceSold,0)}},methods:{clearSearch(){this.search.ownerID=null,this.search.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},getTodaySale(){this.$http.get("/invoice/getSaleByOwner").then(({data:e})=>{this.getSaleByOwner=e.getSaleByOwner})}},filters:{typeFilter:Ne}},Dr=xr,Ir=Object(u["a"])(Dr,vr,yr,!1,null,null,null),_r=Ir.exports,kr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی صافی قازانج",data:e.totalProfit.toLocaleString()+" $"}})],1),t(I["a"],{attrs:{cols:"12",md:"3",xl:"3",sm:"6"}},[t("card",{attrs:{color:"red darken-3",icon:"mdi-currency-usd",text:"کۆی زەرەر",data:e.totalLoss.toLocaleString()+" $"}})],1)],1),t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],[t(x["b"],[t(w["a"],[t(I["a"],{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.from,callback:function(t){e.from=t},expression:"from"}})],1)],1),t(I["a"],{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"2",lg:"2",xl:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بۆ بەرواری",outlined:"",dense:""},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.to,callback:function(t){e.to=t},expression:"to"}})],1)],1),t(I["a"],{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"3",xl:"3"}},[t(O["a"],{attrs:{dense:"",outlined:"","append-icon":"mdi-magnify",label:"گەڕان بە پێی بارکۆد و ناو .....","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(I["a"],{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"جۆر",dense:"",outlined:"",items:e.categories,"item-text":"categoryName","item-value":"categoryName",clearable:""},model:{value:e.searchGroup.categoryName,callback:function(t){e.$set(e.searchGroup,"categoryName",t)},expression:"searchGroup.categoryName"}})],1),t(I["a"],{staticClass:"py-0 pt-2",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"خاوەندارێتی",dense:"",outlined:"",items:e.shelfs,"item-text":"shelfName","item-value":"shelfName",clearable:""},model:{value:e.searchGroup.shelfName,callback:function(t){e.$set(e.searchGroup,"shelfName",t)},expression:"searchGroup.shelfName"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"3",lg:"2",xl:"2"}},[t(P["a"],{attrs:{label:"براند",dense:"",outlined:"",items:e.brands,"item-text":"brandName","item-value":"brandName",clearable:""},model:{value:e.searchGroup.brandName,callback:function(t){e.$set(e.searchGroup,"brandName",t)},expression:"searchGroup.brandName"}})],1),t(I["a"],{staticClass:"py-0",attrs:{cols:"12",md:"1",lg:"1",xl:"1"}},[t(v["a"],{attrs:{color:"error",block:""},on:{click:function(t){return e.clear()}}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1),t(x["a"],[t(k["a"],{attrs:{headers:e.headers,items:e.filterProfit,"footer-props":{"items-per-page-options":[10,15,25,50]},search:e.search,loading:e.loading.item,"loading-text":"تکایە چاوەروانبە...."}})],1)],1)],1)],1)],1)},Sr=[],Cr={components:{card:W},data(){return{profits:[],brands:[],shelfs:[],categories:[],search:"",searchGroup:{shelfName:null,brandName:null,categoryName:null},from:(new Date).toISOString().split("T")[0],to:(new Date).toISOString().split("T")[0],loading:{item:!1},menu2:!1,menu3:!1}},created(){this.$http.get("/essential/getBrands").then(({data:e})=>{this.brands=e}),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.shelfs=e}),this.$http.get("/essential/getCategories").then(({data:e})=>{this.categories=e}),this.getProfit()},methods:{getProfit(){this.profits=[],this.loading.item,this.$http.get("/item/getProfitByItem/"+this.from+"/"+this.to).then(({data:e})=>{this.profits=e.getProfitByItem}).finally(()=>this.loading.item)},clear(){this.search="",this.searchGroup.shelfName=null,this.searchGroup.brandName=null,this.searchGroup.categoryName=null,this.from=(new Date).toISOString().split("T")[0],this.to=(new Date).toISOString().split("T")[0]}},computed:{headers(){return[{text:"بارکۆد",align:"center",sortable:!1,value:"itemCode"},{text:"ناوی کاڵا",align:"center",sortable:!1,value:"itemName"},{text:"جۆر",align:"center",sortable:!1,value:"categoryName"},{text:"بڕاند",align:"center",sortable:!1,value:"brandName"},{text:"خاوەندارێتی",align:"center",sortable:!1,value:"shelfName"},{text:"دانەی فرۆشراو",align:"center",sortable:!1,value:"totalQtySale"},{text:"کۆی قازانج",align:"center",sortable:!0,value:"profitByItem"},{text:"کۆی زەرەر",align:"center",sortable:!0,value:"totalLoss"}]},filterProfit(){return this.profits.filter(e=>(!this.searchGroup.shelfName||e.shelfName==this.searchGroup.shelfName)&&(!this.searchGroup.categoryName||e.categoryName==this.searchGroup.categoryName)&&(!this.searchGroup.brandName||e.brandName==this.searchGroup.brandName))},totalProfit(){return this.filterProfit.reduce((e,t)=>e+t.profitByItem,0)},totalLoss(){return this.filterProfit.reduce((e,t)=>e+t.totalLoss,0)}},watch:{from(){this.from&&this.to&&this.from<=this.to&&this.getProfit()},to(){this.from&&this.to&&this.from<=this.to&&this.getProfit()}}},$r=Cr,Nr=Object(u["a"])($r,kr,Sr,!1,null,null,null),wr=Nr.exports,Pr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{attrs:{cols:"12"}},[t(y["a"],{attrs:{outlined:""}},[t(x["b"],[[t(xe["a"],[t(be["a"],[t(ye["a"],[t("span",[e._v(" زانیاری گەڕان : ")])]),t(ve["a"],[t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[t(P["a"],{attrs:{label:"جۆری حساب",outlined:"",dense:"",items:[{text:"کۆمپانیا",value:"s"},{text:"کڕیار",value:"c"},{text:"هاوبەشەکان",value:"cs"}],"item-text":"text","item-value":"value"},model:{value:e.search.accountType,callback:function(t){e.$set(e.search,"accountType",t)},expression:"search.accountType"}})],1),t(I["a"],{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},["s"==e.search.accountType||"c"==e.search.accountType?t(P["a"],{attrs:{label:"ناوی حساب",outlined:"",dense:"",items:"s"==e.search.accountType?e.suppliers:"c"==e.search.accountType?e.customers:[],"item-text":"s"==e.search.accountType?"supplierName":"c"==e.search.accountType?"customerName":"","item-value":"supplierName"},model:{value:e.search.supplierName,callback:function(t){e.$set(e.search,"supplierName",t)},expression:"search.supplierName"}}):"cs"==e.search.accountType?t(P["a"],{attrs:{outlined:"",dense:"",label:"ناوی حساب",items:e.partners,"item-text":"accountName","item-value":"accountName"},model:{value:e.search.partnerName,callback:function(t){e.$set(e.search,"partnerName",t)},expression:"search.partnerName"}}):e._e()],1),t(I["a"],{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{attrs:{cols:"12",md:"2",lg:"2",sm:"6"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[t(fe["a"],{on:{input:function(t){e.menu3=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1),t(I["a"],{staticClass:"notPrint",attrs:{cols:"1"}},[t(v["a"],{attrs:{color:"error",block:""},on:{click:e.clearSearch}},[t(N["a"],[e._v(" mdi-reload ")])],1)],1)],1)],1)],1)],1)]],2)],1)],1)],1),t(w["a"],["s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"success darken-3",icon:"mdi-currency-usd",text:"کۆی کڕین",data:e.getTotalPurchase+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"cyan darken-3",icon:"mdi-currency-usd",text:"کڕین کاش",data:e.totalPurchaseCash+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"کڕین قەرز",data:e.totalPurchaseDebt+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"yellow darken-3",icon:"mdi-currency-usd",text:"گەڕاندنەوەی قەرز",data:e.totalReturnDebt+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"orange darken-4",icon:"mdi-currency-usd",text:"وەصڵی گەڕاوە",data:e.totalReturnPurchase+"$"}})],1):e._e(),"s"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"error darken-3",icon:"mdi-currency-usd",text:"قەرزی کۆمپانیا لای ئێمە",data:e.totalRemainDebt+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"فرۆشتن",data:e.totalSale+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"blue-grey darken-2",icon:"mdi-currency-usd",text:"فرۆشتن کاش",data:e.totalSaleCash+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"indigo darken-3",icon:"mdi-currency-usd",text:"فرۆشتن قەرز",data:e.totalSaleDebt+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"teal darken-4",icon:"mdi-currency-usd",text:"وەرگرتنەوەی قەرز",data:e.totalReturnDebtCustomer+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"deep-orange darken-3",icon:"mdi-currency-usd",text:"فرۆشراوی گەڕاوە",data:e.totalReturnSale+"$"}})],1):e._e(),"c"==e.search.accountType||"cs"==e.search.accountType?t(I["a"],{staticClass:"notPrint",attrs:{cols:"12",md:"2",xl:"2",sm:"6"}},[t("card",{attrs:{color:"deep-orange darken-3",icon:"mdi-currency-usd",text:"قەرزی ئێمە لای كڕیار",data:e.totalRemainDebtCustomer+"$"}})],1):e._e(),t(I["a"],{attrs:{cols:"12"}},[t(y["a"],[t(x["b"],[t(R["a"]),t(v["a"],{attrs:{fab:"","x-small":""}},[t("download-excel",{attrs:{data:e.filterBySupplier.map(t=>({sourceID:t.sourceID,sourceType:t.sourceType.replace(t.sourceType,e.typeFilterFunction(t.sourceType)),accountName:t.accountName,totalPrice:t.totalPrice,totalPay:t.totalPay,transactionType:t.transactionType.replace(t.transactionType,e.invoiceTypeFunction(t.transactionType)),createAt:new Date(t.createAt).toISOString().split("T")[0]})),fields:e.fileds}},[t(N["a"],[e._v("mdi-file-excel-outline")])],1)],1)],1),t(x["a"],[t(k["a"],{attrs:{headers:e.headers,items:e.filterBySupplier,loading:e.loadings.search},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{class:{"yellow lighten-3":"rp"==s.sourceType,"green lighten-3":"rdp"==s.sourceType,"red lighten-3":"p"==s.sourceType,"teal darken-4 white--text":"s"==s.sourceType,"deep-orange darken-3 white--text":"rs"==s.sourceType,"amber accent-3 black--text":"rds"==s.sourceType}},[t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.sourceID)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("typeFilter")(s.sourceType))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.accountName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalPrice)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.totalPay)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(e._f("invoiceType")(s.transactionType))+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")])])]}}])})],1)],1)],1)],1)],1)},Tr=[],Rr={components:{card:W},data(){return{search:{supplierName:"",fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0],accountType:"s",partnerName:""},suppliers:[],customers:[],partners:[],menu2:!1,menu3:!1,accountStatement:[],loadings:{search:!1},fileds:{"ژ.وەصڵ":"sourceID","جۆری پسووڵە":"sourceType","ناوی حساب":"accountName","کۆی پارە":"totalPrice","بڕی پێشەکی":"totalPay","جۆری مامەڵە":"transactionType","بەروار":"createAt"}}},created(){this.$http.get("/supplier/allSuppliers").then(({data:e})=>{this.suppliers=e}),this.$http.get("/customer/allCustomers").then(({data:e})=>{this.customers=e}),this.$http.get("/supplier/allPartnerName").then(({data:e})=>{this.partners=e,console.log(this.partners)}),this.getAccountStatement()},methods:{clearSearch(){this.search.supplierName="",this.fromDate=(new Date).toISOString().split("T")[0],this.search.toDate=(new Date).toISOString().split("T")[0]},async getAccountStatement(){"s"==this.search.accountType||"c"==this.search.accountType?await this.$http.get("/supplier/accountStatement/"+this.search.fromDate+"/"+this.search.toDate+"/"+this.search.accountType).then(({data:e})=>{this.accountStatement=e.accountStatement}):await this.$http.get("/supplier/accountStatementPartner/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.accountStatement=e.accountStatementPartner})},typeFilterFunction:Ne,invoiceTypeFunction:we},computed:{headers(){return[{text:"ژ.وەصڵ",align:"center",value:"sourceID",sortable:!1},{text:"جۆری پسووڵە",align:"center",value:"sourceType",sortable:!1},{text:"ناوی حساب",align:"center",value:"accountName",sortable:!1},{text:"کۆی پارە",align:"center",value:"totalPrice",sortable:!1},{text:"بڕی پێشەکی",align:"center",value:"totalPay",sortable:!1},{text:"جۆری مامەڵە",align:"center",value:"transactionType",sortable:!1},{text:"بەروار",align:"center",value:"createAt",sortable:!0}]},filterBySupplier(){return"s"==this.search.accountType||"c"==this.search.accountType?this.accountStatement.filter(e=>!this.search.supplierName||e.accountName==this.search.supplierName):this.accountStatement.filter(e=>!this.search.partnerName||e.accountName==this.search.partnerName)},getTotalPurchase(){return this.filterBySupplier.filter(e=>"p"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0)},totalPurchaseCash(){return this.filterBySupplier.filter(e=>"p"==e.sourceType&&"c"==e.transactionType).reduce((e,t)=>e+t.totalPrice,0)},totalPurchaseDebt(){return this.filterBySupplier.filter(e=>"p"==e.sourceType&&"d"==e.transactionType).reduce((e,t)=>e+t.totalPrice,0)},totalRemainDebt(){const e=this.filterBySupplier.filter(e=>"s"==e.accountType&&"d"==e.transactionType).reduce((e,t)=>e+t.totalPay,0);return this.filterBySupplier.filter(e=>"s"==e.accountType&&["d","rd","pds"].includes(e.transactionType)).reduce((e,t)=>e+t.totalPrice,0)-e},totalReturnDebt(){return-1*this.filterBySupplier.filter(e=>"rdp"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0)},totalReturnPurchase(){return-1*this.filterBySupplier.filter(e=>"rp"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0)},totalSale(){const e=this.filterBySupplier.filter(e=>"s"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0);return e>=0?e:-1*e},totalSaleCash(){const e=this.filterBySupplier.filter(e=>"s"==e.sourceType&&"c"==e.transactionType).reduce((e,t)=>e+t.totalPrice,0);return e>=0?e:-1*e},totalSaleDebt(){const e=this.filterBySupplier.filter(e=>"s"==e.sourceType&&"d"==e.transactionType).reduce((e,t)=>e+t.totalPrice,0);return e>=0?e:-1*e},totalReturnSale(){return this.filterBySupplier.filter(e=>"rs"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0)},totalReturnDebtCustomer(){return this.filterBySupplier.filter(e=>"rds"==e.sourceType).reduce((e,t)=>e+t.totalPrice,0)},totalRemainDebtCustomer(){const e=this.filterBySupplier.filter(e=>"c"==e.accountType&&"d"==e.transactionType).reduce((e,t)=>e+t.totalPay,0);return console.log(e),-1*this.filterBySupplier.filter(e=>"c"==e.accountType&&["d","rd","pdc"].includes(e.transactionType)).reduce((e,t)=>e+t.totalPrice,0)-e}},filters:{typeFilter:Ne,invoiceType:we},watch:{"search.fromDate":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()},"search.toDate":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()},"search.accountType":function(){this.accountStatement=[],this.search.accountType&&this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAccountStatement()}}},Or=Rr,Ar=(s("0b04"),Object(u["a"])(Or,Pr,Tr,!1,null,"786d962f",null)),Er=Ar.exports,Br=function(){var e=this,t=e._self._c;return e.show?t("div",[t(U["a"],{staticClass:"title text-center py-3",attrs:{text:"",color:"green"}},[e._v(" داریــن گـەیـم ")]),t(y["a"],{staticClass:"mt-3 px-3 py-5",attrs:{elevation:"4",width:"450px"}},[t(P["a"],{attrs:{label:"بەکارهێنەر",outlined:"",dense:"",items:e.users,"item-text":"userName","item-value":"userName"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.setFocus("password")}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t(O["a"],{attrs:{label:"وشەی نهێنی",outlined:"",dense:"",type:"password",id:"password"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login()}},model:{value:e.password,callback:function(t){e.password="string"===typeof t?t.trim():t},expression:"password"}}),t(v["a"],{attrs:{color:"success",block:"",loading:e.loading},on:{click:function(t){return e.login()}}},[e._v(" چوونەژوورەوە ")])],1),t(C["a"]),t(U["a"],{staticClass:"text-center py-5 mt-3",attrs:{text:"",color:"success"}},[e._v(" Developed By: Suly Tech ")]),t("notification")],1):e._e()},Ur=[],Lr={data(){return{loading:!1,username:null,password:null,users:[],show:!1,date:"2022-9-18"}},created(){this.$http.get("/user/allUser").then(({data:e})=>{this.users=e})},mounted(){"dgc_22"==this.$route.query.secret&&(localStorage.setItem("DGC","dgc_22"),this.show=!0)},methods:{setFocus(e){document.getElementById(e).focus()},login(){this.loading=!0,this.$http.post("/login",{userName:this.username,password:this.password}).then(({data:e})=>{localStorage.setItem("darinGameToken",e.token),this.$http.defaults.headers.common["Authorization"]="Bearer "+e.token,location.href="/"}).catch(e=>{this.emitter.$emit("notify",{type:"error",text:e.response.data.message})}).finally(()=>this.loading=!1)}},computed:{calculateExpireDate(){let e=new Date(this.date),t=new Date;const s=e.getTime()-t.getTime();let a=Math.ceil(s/864e5);return a}}},qr=Lr,Fr=Object(u["a"])(qr,Br,Ur,!1,null,null,null),jr=Fr.exports,Qr=function(){var e=this,t=e._self._c;return t(_["a"],{attrs:{fluid:""}},[t(w["a"],[t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"3",lg:"3"}},[t(P["a"],{attrs:{dense:"",outlined:"",clearable:"",label:"خاوندارێتی",items:e.owners,"item-text":"shelfName","item-value":"shelfName"},model:{value:e.search.shelfName,callback:function(t){e.$set(e.search,"shelfName",t)},expression:"search.shelfName"}})],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}},s))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(fe["a"],{on:{input:function(t){e.menu1=!1}},model:{value:e.search.fromDate,callback:function(t){e.$set(e.search,"fromDate",t)},expression:"search.fromDate"}})],1)],1),t(I["a"],{staticClass:"pb-0",attrs:{cols:"12",md:"2",lg:"2"}},[t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"لەبەرواری",outlined:"",dense:""},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}},s))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[t(fe["a"],{on:{input:function(t){e.menu2=!1}},model:{value:e.search.toDate,callback:function(t){e.$set(e.search,"toDate",t)},expression:"search.toDate"}})],1)],1)],1),t(w["a"],[t(I["a"],{staticClass:"pt-0",attrs:{cols:"12",md:"3",lg:"3"}},[t("card",{attrs:{color:"success",icon:"mdi-currency-usd",text:"کۆی پارە",data:e.getTotalMoney.toLocaleString()+" $"}})],1)],1),t(C["a"],{staticClass:"my-3"}),t(w["a"],[t(I["a"],{attrs:{cols:"12",md:"3",lg:"2"}},[t(S["a"],{attrs:{persistent:"",eager:"",width:"580px"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(U["a"],e._g(e._b({directives:[{def:Fe["a"],name:"ripple",rawName:"v-ripple"}],staticClass:"px-3 py-1 text-center",attrs:{color:"success",outlined:"",text:""}},"v-alert",a,!1),s),[t(N["a"],{attrs:{left:"",color:"success"}},[e._v(" mdi-plus ")]),e._v(" زیادکردن بۆ سەر سندوق ")],1)]}}]),model:{value:e.dialogs.amountOwner,callback:function(t){e.$set(e.dialogs,"amountOwner",t)},expression:"dialogs.amountOwner"}},[t(y["a"],[t(x["b"],[t("span",[e._v(" زیادکردنی پارە بۆ حسابی خاوەندارێتی : ")]),t(R["a"]),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){e.emitter.$emit("closeAmount"),e.dialogs.amountOwner=!1}}},[t(N["a"],[e._v(" mdi-close ")])],1)],1),t(x["a"],[t("formAmountOwner")],1)],1)],1)],1)],1),t(C["a"],{staticClass:"mt-2"}),t(k["a"],{attrs:{headers:e.headers,items:e.filterByOwner},scopedSlots:e._u([{key:"item",fn:function({item:s,index:a}){return[t("tr",[t("td",{staticClass:"text-center"},[e._v(" "+e._s(a+1)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.shelfName2)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.amount)+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(new Date(s.createAt).toISOString().split("T")[0])+" ")]),t("td",{staticClass:"text-center"},[e._v(" "+e._s(s.userName)+" ")]),t("td",{staticClass:"text-center"},[t(v["a"],{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.getAmountOwner(s)}}},[t(N["a"],[e._v(" mdi-pencil ")])],1),t(v["a"],{attrs:{icon:"",color:"error"},on:{click:function(t){return e.deleteAmount(s.mbID)}}},[t(N["a"],[e._v(" mdi-delete ")])],1)],1)])]}}])}),t("notification")],1)},Wr=[],Mr=function(){var e=this,t=e._self._c;return t("div",[t($["a"],{ref:"formAmountOwner",on:{submit:function(e){e.preventDefault()}}},[t(P["a"],{attrs:{label:"لە حسابی",outlined:"",dense:"",items:e.owners,"item-value":"shelfID","item-text":"shelfName"},model:{value:e.singleAmount.shelfID,callback:function(t){e.$set(e.singleAmount,"shelfID",t)},expression:"singleAmount.shelfID"}}),t(P["a"],{attrs:{label:"بۆ حسابی",outlined:"",dense:"",items:e.owners,"item-value":"shelfID","item-text":"shelfName"},model:{value:e.singleAmount.shelfID2,callback:function(t){e.$set(e.singleAmount,"shelfID2",t)},expression:"singleAmount.shelfID2"}}),t(O["a"],{attrs:{outlined:"",dense:"",type:"number",min:"0"},model:{value:e.singleAmount.amount,callback:function(t){e.$set(e.singleAmount,"amount",t)},expression:"singleAmount.amount"}}),t(De["a"],{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function({on:s}){return[t(O["a"],e._g({attrs:{"append-icon":"mdi-calendar",label:"بەروار",outlined:"",dense:""},model:{value:e.singleAmount.createAt,callback:function(t){e.$set(e.singleAmount,"createAt",t)},expression:"singleAmount.createAt"}},s))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[t(fe["a"],{on:{input:function(t){e.menu1=!1}},model:{value:e.singleAmount.createAt,callback:function(t){e.$set(e.singleAmount,"createAt",t)},expression:"singleAmount.createAt"}})],1)],1),e.singleAmount.mbID?t(v["a"],{attrs:{block:"",color:"warning",loading:e.loadings.updateAmount,disabled:!e.singleAmount.shelfID||!e.singleAmount.shelfID2||e.singleAmount.amount<=0},on:{click:function(t){return e.updateAmount()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" گۆڕانکاری ")],1):t(v["a"],{attrs:{block:"",color:"success",loading:e.loadings.addAmount,disabled:!e.singleAmount.shelfID||!e.singleAmount.shelfID2||e.singleAmount.amount<=0},on:{click:function(t){return e.addAmount()}}},[t(N["a"],{attrs:{left:""}},[e._v(" mdi-plus ")]),e._v(" زیادکردن ")],1)],1)},Gr=[],zr={data(){return{owners:[],singleAmount:{mbID:null,shelfID:null,shelfID2:null,amount:0,createAt:(new Date).toISOString().split("T")[0]},menu1:!1,loadings:{addAmount:!1,updateAmount:!1},userID:null,userName:""}},created(){this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e}),this.$http.post("/verifyToken").then(({data:e})=>{this.userID=e.userID,this.userName=e.userName})},mounted(){this.emitter.$on("openAmount",e=>{this.singleAmount.mbID=e.mbID,this.singleAmount.shelfID=e.shelfID,this.singleAmount.shelfID2=e.shelfID2,this.singleAmount.amount=e.amount,this.singleAmount.createAt=new Date(e.createAt).toISOString().split("T")[0]}),this.emitter.$on("closeAmount",()=>{this.clearAmount()})},methods:{addAmount(){this.$refs.formAmountOwner.validate()&&(this.loadings.addAmount=!0,this.$http.post("/owner/addAmount",{shelfID:this.singleAmount.shelfID,shelfID2:this.singleAmount.shelfID2,amount:this.singleAmount.amount,createAt:this.singleAmount.createAt}).then(({data:e})=>{this.emitter.$emit("notify",{type:"success",text:"بە سەرکەوتووی زیادکرا"}),this.emitter.$emit("addAmount",{mbID:e.mbID,shelfID:this.singleAmount.shelfID,shelfID2:this.singleAmount.shelfID2,shelfName:this.owners.find(e=>e.shelfID==this.singleAmount.shelfID).shelfName,shelfName2:this.owners.find(e=>e.shelfID==this.singleAmount.shelfID2).shelfName,amount:this.singleAmount.amount,createAt:this.singleAmount.createAt,userName:this.userName}),this.clearAmount()}).finally(()=>this.loadings.addAmount=!1))},updateAmount(){this.$refs.formAmountOwner.validate()&&(this.loadings.updateAmount=!0,this.$http.patch("/owner/updateAmount/"+this.singleAmount.mbID,{shelfID:this.singleAmount.shelfID,shelfID2:this.singleAmount.shelfID2,amount:this.singleAmount.amount,createAt:this.singleAmount.createAt}).then(()=>{this.emitter.$emit("notify",{type:"success",text:"گۆڕانکاریەکە سەرکەوتوو بوو"}),this.emitter.$emit("updateAmount",{mbID:this.singleAmount.mbID,shelfName:this.owners.find(e=>e.shelfID==this.singleAmount.shelfID).shelfName,shelfName2:this.owners.find(e=>e.shelfID==this.singleAmount.shelfID2).shelfName,amount:this.singleAmount.amount,userName:this.userName})}).finally(()=>this.loadings.updateAmount=!1))},clearAmount(){this.singleAmount.mbID=null,this.singleAmount.shelfID=null,this.singleAmount.shelfID2=null,this.singleAmount.amount=0,this.singleAmount.createAt=(new Date).toISOString().split("T")[0]}},beforeDestroy(){this.emitter.$off("openAmount"),this.emitter.$off("closeAmount")}},Hr=zr,Vr=Object(u["a"])(Hr,Mr,Gr,!1,null,null,null),Kr=Vr.exports,Jr={components:{formAmountOwner:Kr,card:W},data(){return{dialogs:{amountOwner:!1},loadings:{table:!1},amountOwner:[],owners:[],search:{shelfName:null,fromDate:(new Date).toISOString().split("T")[0],toDate:(new Date).toISOString().split("T")[0]},menu1:!1,menu2:!1}},created(){this.getAmountOwners(),this.$http.get("/essential/getShelfs").then(({data:e})=>{this.owners=e})},mounted(){this.emitter.$on("addAmount",e=>{this.amountOwner.unshift(e)}),this.emitter.$on("updateAmount",e=>{let t=this.amountOwner.findIndex(t=>t.mbID=e.mbID);this.amountOwner[t].shelfName=e.shelfName,this.amountOwner[t].amount=e.amount})},methods:{async getAmountOwners(){this.amountOwner=[],this.loadings.table=!0,this.$http.get("/owner/getAmountOwner/"+this.search.fromDate+"/"+this.search.toDate).then(({data:e})=>{this.amountOwner=e.getAmountOwner}).finally(()=>this.loadings.table=!1)},async getAmountOwner(e){this.dialogs.amountOwner=!0,this.emitter.$emit("openAmount",e)},deleteAmount(e){this.$confirm("دڵنیای لە سڕینەوە ؟","","question").then(()=>{let t=this.amountOwner.findIndex(t=>t.mbID==e);this.$http.delete("/owner/deleteAmount/"+e).then(()=>{this.amountOwner.splice(t,1)})})}},computed:{headers(){return[{text:"#",align:"center",sortable:!1},{text:"لە حسابی",value:"shelfName",align:"center",sortable:!1},{text:"بۆ حسابی",value:"shelfName2",align:"center",sortable:!1},{text:"بڕی پارە $",value:"amount",align:"center",sortable:!1},{text:"بەروار",value:"createAt",align:"center",sortable:!1},{text:"بەرکار‌هێنەر",value:"userName",align:"center",sortable:!1},{text:"کردارەکان",value:"userName",align:"center",sortable:!1}]},filterByOwner(){return this.amountOwner.filter(e=>!this.search.shelfName||e.shelfName2==this.search.shelfName)},getTotalMoney(){return this.filterByOwner.reduce((e,t)=>e+Number(t.amount),0)}},watch:{"search.fromDate":function(){this.amountOwner=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAmountOwners()},"search.toDate":function(){this.amountOwner=[],this.search.fromDate&&this.search.toDate&&this.search.fromDate<=this.search.toDate&&this.getAmountOwners()}},beforeDestroy(){this.emitter.$off("addAmount"),this.emitter.$off("updateAmount")}},Xr=Jr,Yr=Object(u["a"])(Xr,Qr,Wr,!1,null,null,null),Zr=Yr.exports;a["a"].use(p["a"]);const el=[{path:"/",component:Le,name:"home",meta:{requireAuth:!0}},{path:"/items",component:st,name:"items",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/roles",component:pt,name:"roles",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/expenses",component:Rt,name:"expenses",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/box",component:zt,name:"box",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/suppliers",component:is,name:"suppliers",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/customers",component:fs,name:"customers",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/users",component:Ns,name:"users",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/purchases",component:Qs,name:"purchases",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/disposals",component:ea,name:"disposals",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/invoice",component:na,name:"invoice",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/showInvoice",component:ha,name:"showInvoice",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/stock",component:xa,name:"stock",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/stockReport",component:Ca,name:"stockReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/saleReport",component:wi,name:"saleReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/itemSaleReport",component:$e,name:"itemSaleReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/purchaseReport",component:Ei,name:"purchaseReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/moneyMovement",component:ji,name:"moneyMovement",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/moneyInStock",component:rr,name:"moneyInStock",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/customerDebts/:customerID?",component:qa,name:"customerDebts",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/supplierDebts/:supplierID?",component:Xa,name:"supplierDebts",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/printShowInvoice",component:ii,name:"printShowInvoice",props:()=>({secret:"dgc_22"})},{path:"/printInvoice/:invoiceID",component:di,name:"printInvoice",props:()=>({secret:"dgc_22"})},{path:"/printA4/:invoiceID",component:bi,name:"printInvoiceA4",props:()=>({secret:"dgc_22"})},{path:"/printPurchase/:purchaseID",component:_i,name:"printPurchase",props:()=>({secret:"dgc_22"})},{path:"/profitReport",component:Hi,name:"profitReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/expenseReport",component:Zi,name:"expenseReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/supplierDebtReport",component:dr,name:"supplierDebtReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/customerDebtReport",component:br,name:"customerDebtReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/ownerSaleReport",component:_r,name:"ownerSaleReport",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/profitByItem",component:wr,name:"profitByItem",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/accountStatementCompany",component:Er,name:"accountStatementCompany",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/amountOwner",component:Zr,name:"amountOwner",meta:{requireAuth:!0},props:()=>({secret:"dgc_22"})},{path:"/login",component:jr,name:"login"}],tl=new p["a"]({routes:el,mode:"history"});tl.beforeEach(async(e,t,s)=>{if(e.query.secret=e.query.secret||localStorage.getItem("DGC")||null,e.query.secret&&"dgc_22"==e.query.secret||(location.href="/404"),e.matched.some(e=>e.meta.requireAuth)){const t=localStorage.getItem("darinGameToken");t?f.a.post("/verifyToken").then(({data:t})=>{"login"==e.name?s({name:"home"}):t.permissions.includes(e.name)||"home"==e.name?s():(alert("ببورە ... ئەم هەژمارە رێگەپێندراوە بۆ بەکارهێنانی ئەم بەشە"),s({name:"home"}))}).catch(()=>s({name:"login"})):s({name:"login"})}s()});var sl=tl,al=s("2f62"),il=s("0e44");a["a"].use(al["a"]);var rl=new al["a"].Store({plugins:[Object(il["a"])()],state:{dollarPrice:0,showInvoice:null},mutations:{updateDollar(e,t){e.dollarPrice=t},updateShowInvoice(e,t){e.showInvoice=t}},actions:{},modules:{}}),ll=(s("5363"),s("15f5"),s("f309")),nl=s("fcf4");a["a"].use(ll["a"]);var ol=new ll["a"]({rtl:!0,icons:{iconfont:"mdi"},theme:{dark:Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),themes:{dark:{primary:nl["a"].blue.darken3,success:nl["a"].green.darken1,error:nl["a"].red.darken2,cyan:nl["a"].cyan.lighten4}}}}),cl=s("ba48"),ul=s.n(cl),dl=s("683f"),ml=s("f2d9"),hl=s("40dc"),pl=s("5bc1"),gl=s("e4e5"),fl=s("8860"),bl=s("56b0"),vl=s("da13"),yl=s("5d23"),xl=s("34c3"),Dl=s("f774"),Il=s("2a7f"),_l=function(){var e=this,t=e._self._c;return t("nav",[t(hl["a"],{attrs:{dark:"",height:"49.5",dir:this.$vuetify.rtl?"rtl":"ltr"}},["/invoice"!=e.$route.fullPath&&"/showInvoice"!=e.$route.fullPath?t(pl["a"],{on:{click:function(t){e.drawer=!e.drawer}}}):t(v["a"],{attrs:{icon:"",to:"/"}},[t(N["a"],[e._v(" mdi-home ")])],1),t(Il["a"],{staticClass:"mx-2"},[e._v(" "+e._s(e.pageTitle)+" ")]),t(R["a"]),t(qe["a"],{staticClass:"mt-6",attrs:{dense:"",inset:"",label:"Dark"},model:{value:e.dark,callback:function(t){e.dark=t},expression:"dark"}}),t(v["a"],{attrs:{icon:""},on:{click:function(t){return e.toggleFullScreen()}}},[t(N["a"],[e._v(" "+e._s(e.isFullScreen?"mdi-fullscreen-exit":"mdi-fullscreen")+" ")])],1),t(v["a"],{attrs:{color:"error",loading:e.loadings.logout,icon:""},on:{click:function(t){return e.logout()}}},[t(N["a"],[e._v(" mdi-logout ")])],1)],1),t(Dl["a"],{staticClass:"fill-height",attrs:{app:"",dark:"",width:"225",right:this.$vuetify.rtl},scopedSlots:e._u([{key:"append",fn:function(){return[t(gl["a"],{staticClass:"text-center"},[t("small",{attrs:{dir:"ltr"}},[e._v(" Developed By: "),t("a",{staticStyle:{"text-decoration":"none",color:"white"},attrs:{href:"https://www.facebook.com/sulytech19",target:"_blank"}},[e._v(" Suly Tech ")])])])]},proxy:!0}]),model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[t(vl["a"],[t(yl["a"],[t(yl["b"],{staticClass:"title text-center",staticStyle:{"font-family":"NRT !important"}},[e._v(" داریــن گــەیـم ")])],1)],1),t(C["a"]),t(fl["a"],{attrs:{nav:"",dense:""}},[t(vl["a"],{attrs:{link:"",to:"/"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-home ")])],1),t(yl["a"],[t(yl["b"],[e._v(" پەڕەی سەرەکی ")])],1)],1),e.permissions.includes("items")?t(vl["a"],{attrs:{link:"",to:"/items"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-dots-grid ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کاڵاکان ")])],1)],1):e._e(),e.permissions.includes("users")?t(vl["a"],{attrs:{link:"",to:"/users"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-account-group-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" بەکارهێنەرەکان ")])],1)],1):e._e(),e.permissions.includes("amountOwner")?t(vl["a"],{attrs:{link:"",to:"/amountOwner"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-account-box-multiple ")])],1),t(yl["a"],[t(yl["b"],[e._v(" سندوقی حساب")])],1)],1):e._e(),e.permissions.includes("invoice")?t(vl["a"],{attrs:{link:"",to:"/invoice"}},[t(xl["a"],[t(N["a"],[e._v(" fa fa-cash-register ")])],1),t(yl["a"],[t(yl["b"],[e._v(" فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("showInvoice")?t(vl["a"],{attrs:{link:"",to:"/showInvoice"}},[t(xl["a"],[t(N["a"],[e._v(" fa fa-receipt ")])],1),t(yl["a"],[t(yl["b"],[e._v(" پسوڵەی عـرض ")])],1)],1):e._e(),e.permissions.includes("expenses")?t(vl["a"],{attrs:{link:"",to:"/expenses"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cash-multiple ")])],1),t(yl["a"],[t(yl["b"],[e._v(" خەرجیەکان ")])],1)],1):e._e(),e.permissions.includes("box")?t(vl["a"],{attrs:{link:"",to:"/box"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-archive-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" قاسەی پارە ")])],1)],1):e._e(),e.permissions.includes("suppliers")||e.permissions.includes("supplierDebts")?t(bl["a"],{scopedSlots:e._u([{key:"activator",fn:function(){return[t(vl["a"],[t(xl["a"],[t(N["a"],[e._v(" mdi-office-building-marker-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کۆمپانیا ")])],1)],1)]},proxy:!0}],null,!1,3563177191)},[t(fl["a"],[e.permissions.includes("suppliers")?t(vl["a"],{attrs:{link:"",to:"/suppliers"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-office-building-marker-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کۆمپانیاکان ")])],1)],1):e._e(),e.permissions.includes("supplierDebts")?t(vl["a"],{attrs:{link:"",to:"/supplierDebts"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cash-multiple ")])],1),t(yl["a"],[t(yl["b"],[e._v(" دانەوەی قەرز ")])],1)],1):e._e()],1)],1):e._e(),e.permissions.includes("customers")||e.permissions.includes("customerDebts")?t(bl["a"],{scopedSlots:e._u([{key:"activator",fn:function(){return[t(vl["a"],[t(xl["a"],[t(N["a"],[e._v(" mdi-account-cash-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کڕیار ")])],1)],1)]},proxy:!0}],null,!1,2905291358)},[t(fl["a"],[e.permissions.includes("customers")?t(vl["a"],{attrs:{link:"",to:"/customers"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-account-cash-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کڕیارەکان ")])],1)],1):e._e(),e.permissions.includes("customerDebts")?t(vl["a"],{attrs:{link:"",to:"/customerDebts"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cash-multiple ")])],1),t(yl["a"],[t(yl["b"],[e._v(" وەرگرتنەوەی قەرز ")])],1)],1):e._e()],1)],1):e._e(),e.permissions.includes("accountStatementCompany")?t(vl["a"],{attrs:{link:"",to:"/accountStatementCompany"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cash-multiple ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کشف حساب ")])],1)],1):e._e(),e.permissions.includes("purchases")?t(vl["a"],{attrs:{link:"",to:"/purchases"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cart-plus ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کڕینەکان ")])],1)],1):e._e(),e.permissions.includes("disposals")?t(vl["a"],{attrs:{link:"",to:"/disposals"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-image-broken-variant ")])],1),t(yl["a"],[t(yl["b"],[e._v(" تەلەفەکان ")])],1)],1):e._e(),e.permissions.includes("stock")?t(vl["a"],{attrs:{link:"",to:"/stock"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-pie ")])],1),t(yl["a"],[t(yl["b"],[e._v(" مەخزەن ")])],1)],1):e._e(),t(bl["a"],{scopedSlots:e._u([{key:"activator",fn:function(){return[t(vl["a"],[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-areaspline ")])],1),t(yl["a"],[t(yl["b"],[e._v(" ڕاپۆرتەکان ")])],1)],1)]},proxy:!0}])},[t(fl["a"],{staticClass:"ml-7"},[e.permissions.includes("stockReport")?t(vl["a"],{attrs:{link:"",to:"/stockReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-pie ")])],1),t(yl["a"],[t(yl["b"],[e._v(" زانیاری مەخزەن ")])],1)],1):e._e(),e.permissions.includes("saleReport")?t(vl["a"],{attrs:{link:"",to:"/saleReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-point-of-sale ")])],1),t(yl["a"],[t(yl["b"],[e._v(" زانیاری فرۆشتن ")])],1)],1):e._e(),e.permissions.includes("itemSaleReport")?t(vl["a"],{attrs:{link:"",to:"/itemSaleReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-point-of-sale ")])],1),t(yl["a"],[t(yl["b"],[e._v(" کاڵای فرۆشراو ")])],1)],1):e._e(),e.permissions.includes("purchaseReport")?t(vl["a"],{attrs:{link:"",to:"/purchaseReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cart-check ")])],1),t(yl["a"],[t(yl["b"],[e._v(" زانیاری کڕین ")])],1)],1):e._e(),e.permissions.includes("moneyMovement")?t(vl["a"],{attrs:{link:"",to:"/moneyMovement"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cached ")])],1),t(yl["a"],[t(yl["b"],[e._v(" جوڵەی پارە ")])],1)],1):e._e(),e.permissions.includes("profitReport")?t(vl["a"],{attrs:{link:"",to:"/profitReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-line ")])],1),t(yl["a"],[t(yl["b"],[e._v(" قازانجی پسووڵە ")])],1)],1):e._e(),e.permissions.includes("profitByItem")?t(vl["a"],{attrs:{link:"",to:"/profitByItem"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-line ")])],1),t(yl["a"],[t(yl["b"],[e._v(" قازانجی مەواد ")])],1)],1):e._e(),e.permissions.includes("expenseReport")?t(vl["a"],{attrs:{link:"",to:"/expenseReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-chart-sankey ")])],1),t(yl["a"],[t(yl["b"],[e._v(" زانیاری خەرجیەکان ")])],1)],1):e._e(),e.permissions.includes("moneyInStock")?t(vl["a"],{attrs:{link:"",to:"/moneyInStock"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-cash-check ")])],1),t(yl["a"],[t(yl["b"],[e._v(" پارەی مخزەن ")])],1)],1):e._e(),e.permissions.includes("supplierDebtReport")?t(vl["a"],{attrs:{link:"",to:"/supplierDebtReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-office-building-marker-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v("قەرزی کۆمپانیاکان")])],1)],1):e._e(),e.permissions.includes("customerDebtReport")?t(vl["a"],{attrs:{link:"",to:"/customerDebtReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-account-cash-outline ")])],1),t(yl["a"],[t(yl["b"],[e._v("قەرزی کڕیارەکان")])],1)],1):e._e(),e.permissions.includes("ownerSaleReport")?t(vl["a"],{attrs:{link:"",to:"/ownerSaleReport"}},[t(xl["a"],[t(N["a"],[e._v(" mdi-account-convert ")])],1),t(yl["a"],[t(yl["b"],[e._v("فرۆشراوی خاوەندارێتی")])],1)],1):e._e()],1)],1)],1)],1)],1)},kl=[],Sl={props:{pageTitle:String},data(){return{loadings:{logout:!1},drawer:!0,isFullScreen:!1,dark:!1,permissions:[]}},created(){this.drawer="/invoice"!=this.$route.fullPath&&"/showInvoice"!=this.$route.fullPath&&!this.$isMobile(),this.$http.post("/verifyToken").then(({data:e})=>{this.permissions=e.permissions})},mounted(){this.dark=Boolean(Number(localStorage.getItem("sulyMarketDarkTheme"))),this.emitter.$on("changeDrawer",e=>{this.drawer=e})},methods:{toggleFullScreen(){document.fullscreenElement?(document.exitFullscreen(),this.isFullScreen=!1):(document.getElementById("app").requestFullscreen(),this.isFullScreen=!0)},logout(){this.loadings.logout=!1,localStorage.removeItem("darinGameToken"),this.$http.defaults.headers.common["Authorization"]=null,this.$router.push({name:"login"})}},watch:{dark(){localStorage.setItem("sulyMarketDarkTheme",Number(this.dark)),this.$vuetify.theme.dark=this.dark}},beforeDestroy(){this.emitter.$off("changeDrawer")}},Cl=Sl,$l=Object(u["a"])(Cl,_l,kl,!1,null,null,null),Nl=$l.exports,wl=s("2db4"),Pl=function(){var e=this,t=e._self._c;return t(wl["a"],{attrs:{timeout:e.timeout,color:e.types[e.type].color},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t(v["a"],e._b({staticClass:"px-1",attrs:{color:"white black--text",outlined:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",s,!1),[e._v(" بــاشـە ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[t(N["a"],[e._v(" "+e._s(e.types[e.type].icon)+" ")]),e._v("   "+e._s(e.text)+" ")],1)},Tl=[],Rl={data(){return{snackbar:!1,type:"default",timeout:3500,text:"",types:{success:{color:"success",icon:"mdi-check-circle"},warning:{color:"warning",icon:"mdi-information"},error:{color:"error",icon:"mdi-alert-circle"},default:{color:"dark",icon:""}}}},mounted(){this.emitter.$on("notify",e=>{this.type=e.type||"default",this.text=e.text,this.snackbar=!0})},beforeDestroy(){this.emitter.$off("notify")}},Ol=Rl,Al=Object(u["a"])(Ol,Pl,Tl,!1,null,null,null),El=Al.exports,Bl=s("1321"),Ul=s.n(Bl);a["a"].component("downloadExcel",ml["a"]),a["a"].use(Ul.a),a["a"].component("apexchart",Ul.a),a["a"].component("navbar",Nl),a["a"].component("notification",El),a["a"].prototype.emitter=new a["a"],f.a.defaults.headers.common["Authorization"]="Bearer "+localStorage.getItem("darinGameToken"),a["a"].prototype.$http=f.a,a["a"].config.productionTip=!1,a["a"].use(ul.a),a["a"].use(dl["a"]),new a["a"]({router:sl,store:rl,vuetify:ol,render:e=>e(m)}).$mount("#app")},"59f6":function(e,t,s){e.exports=s.p+"img/250_IQD.fa47d52f.jpg"},6027:function(e,t,s){e.exports=s.p+"img/25_IQD.b3049890.jpg"},"884c":function(e,t,s){"use strict";s("b365")},9145:function(e,t,s){e.exports=s.p+"img/10_IQD.66ceeb85.jpg"},b365:function(e,t,s){},b781:function(e,t,s){},cdd4:function(e,t,s){"use strict";s("48bb")},d9b1:function(e,t,s){e.exports=s.p+"img/100_$.f99014bf.jpg"},e7b0:function(e,t,s){"use strict";s("1aad")}});